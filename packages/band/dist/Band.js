parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"jCwb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tokenize=u,exports.fromMidi=D;var t="C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B".split(" "),r=exports.names=function(r){return"string"!=typeof r?t.slice():t.filter(function(t){var n=t[1]||" ";return-1!==r.indexOf(n)})},n=r(" #"),e=r(" b"),o=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function u(t){"string"!=typeof t&&(t="");var r=o.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:null}var l=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),c=[0,2,4,5,7,9,11],i=function(t){var r=u(t);if(""===r[0]||""!==r[3])return l;var n=r[0],e=r[1],o=r[2],i={letter:n,acc:e,octStr:o};return i.pc=i.letter+i.acc,i.name=i.pc+o,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt="b"===i.acc[0]?-i.acc.length:i.acc.length,i.oct=o.length?+o:null,i.chroma=(c[i.step]+i.alt+120)%12,i.midi=null!==i.oct?c[i.step]+i.alt+12*(i.oct+1):null,i.freq=x(i.midi),Object.freeze(i)},a=function(t,r){return void 0===r&&(r={}),function(n){return r[n]||(r[n]=t(n))}},f=exports.props=a(i),p=exports.name=function(t){return f(t).name},s=exports.pc=function(t){return f(t).pc},m=exports.midi=function(t){return f(t).midi||+t||null},x=exports.midiToFreq=function(t,r){return void 0===r&&(r=440),"number"==typeof t?Math.pow(2,(t-69)/12)*r:null},d=exports.freq=function(t){return f(t).freq||x(t)},h=Math.log(2),v=Math.log(440),b=exports.freqToMidi=function(t){var r=12*(Math.log(t)-v)/h+69;return Math.round(100*r)/100},g=exports.chroma=function(t){return f(t).chroma},M=exports.oct=function(t){return f(t).oct},A="CDEFGAB",y=exports.stepToLetter=function(t){return A[t]},q=function(t,r){return Array(r+1).join(t)},j=function(t,r){return"number"!=typeof t?"":r(t)},C=exports.altToAcc=function(t){return j(t,function(t){return t<0?q("b",-t):q("#",t)})},G=exports.from=function(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=r?Object.assign({},f(r),t):t,e=n.step,o=n.alt,u=n.oct,l=y(e);if(!l)return null;var c=l+C(o);return u||0===u?c+u:c},O=exports.build=G;function D(t,r){return t=Math.round(t),(!0===r?n:e)[t%12]+(Math.floor(t/12)-1)}var F=exports.simplify=function(t,r){var n=f(t),e=n.alt,o=n.chroma,u=n.midi;if(null===o)return null;var l=!1===r?e<0:e>0;return null===u?s(D(o,l)):D(u,l)},T=exports.enharmonic=function(t){return F(t,!1)};
},{}],"alPO":[function(require,module,exports) {
module.exports="/16.9c13279e.wav";
},{}],"ao6B":[function(require,module,exports) {
module.exports="/17.4c58c1e4.wav";
},{}],"Tc8E":[function(require,module,exports) {
module.exports="/18.7d5e9dcd.wav";
},{}],"dRS2":[function(require,module,exports) {
module.exports="/19.ad241035.wav";
},{}],"9l0d":[function(require,module,exports) {
module.exports="/20.14d6957b.wav";
},{}],"Veox":[function(require,module,exports) {
module.exports="/21.e105c856.wav";
},{}],"JVm0":[function(require,module,exports) {
module.exports="/22.83225312.wav";
},{}],"mX/F":[function(require,module,exports) {
module.exports="/23.3ceb2ea7.wav";
},{}],"rogg":[function(require,module,exports) {
module.exports="/24.459a6685.wav";
},{}],"b0F3":[function(require,module,exports) {
module.exports="/25.7c0ad6aa.wav";
},{}],"8ifA":[function(require,module,exports) {
module.exports="/26.0b216e5a.wav";
},{}],"vqha":[function(require,module,exports) {
module.exports="/27.ce646a2a.wav";
},{}],"LOn9":[function(require,module,exports) {
module.exports="/28.d93b361f.wav";
},{}],"4+UZ":[function(require,module,exports) {
module.exports="/29.b3d5cf73.wav";
},{}],"T0oT":[function(require,module,exports) {
module.exports="/30.7ba30d77.wav";
},{}],"ka3w":[function(require,module,exports) {
module.exports="/31.8f479077.wav";
},{}],"HGeG":[function(require,module,exports) {
module.exports="/32.c363faa6.wav";
},{}],"VSon":[function(require,module,exports) {
module.exports="/33.2d4e1623.wav";
},{}],"MvzB":[function(require,module,exports) {
module.exports="/34.21b9dadc.wav";
},{}],"OEUw":[function(require,module,exports) {
module.exports="/35.d0f3defc.wav";
},{}],"ddQE":[function(require,module,exports) {
module.exports="/36.0fd5fabe.wav";
},{}],"0vNu":[function(require,module,exports) {
module.exports="/37.d6ae4adf.wav";
},{}],"GXrh":[function(require,module,exports) {
module.exports="/38.39b6a482.wav";
},{}],"SOgN":[function(require,module,exports) {
module.exports="/39.29a3de52.wav";
},{}],"5zm6":[function(require,module,exports) {
module.exports="/40.08c20375.wav";
},{}],"yUOD":[function(require,module,exports) {
module.exports="/41.3477832f.wav";
},{}],"ytCi":[function(require,module,exports) {
module.exports="/42.aa2fb5db.wav";
},{}],"GvGP":[function(require,module,exports) {
module.exports="/43.19a558be.wav";
},{}],"RjC8":[function(require,module,exports) {
module.exports="/44.15de143f.wav";
},{}],"G6LA":[function(require,module,exports) {
module.exports="/45.a3a624bb.wav";
},{}],"FKsK":[function(require,module,exports) {
module.exports="/46.6ab39334.wav";
},{}],"dcsH":[function(require,module,exports) {
module.exports="/47.68f3085d.wav";
},{}],"Mnjs":[function(require,module,exports) {
module.exports="/48.a66b142d.wav";
},{}],"+27j":[function(require,module,exports) {
module.exports="/49.050a2153.wav";
},{}],"YzhF":[function(require,module,exports) {
module.exports="/50.135b37a3.wav";
},{}],"/yre":[function(require,module,exports) {
module.exports="/51.41afe09a.wav";
},{}],"Ebae":[function(require,module,exports) {
module.exports="/52.54041db6.wav";
},{}],"Tq5x":[function(require,module,exports) {
module.exports="/53.38a74dfb.wav";
},{}],"sFQu":[function(require,module,exports) {
module.exports="/54.82a6651f.wav";
},{}],"gXoW":[function(require,module,exports) {
module.exports="/55.df81bac1.wav";
},{}],"eoMO":[function(require,module,exports) {
module.exports="/56.50683f1e.wav";
},{}],"YOF6":[function(require,module,exports) {
module.exports="/57.c988a58a.wav";
},{}],"GxzW":[function(require,module,exports) {
module.exports="/58.5eb7e0cf.wav";
},{}],"lhsx":[function(require,module,exports) {
module.exports="/59.7cbef18a.wav";
},{}],"QBug":[function(require,module,exports) {
module.exports="/60.ce294869.wav";
},{}],"b35k":[function(require,module,exports) {
module.exports="/61.ee130959.wav";
},{}],"5JPz":[function(require,module,exports) {
module.exports="/62.690ddf5a.wav";
},{}],"mk71":[function(require,module,exports) {
module.exports="/63.7525e656.wav";
},{}],"rJhi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sounds=void 0;var e=require("./piano/16.wav"),a=Ne(e),r=require("./piano/17.wav"),u=Ne(r),i=require("./piano/18.wav"),o=Ne(i),t=require("./piano/19.wav"),d=Ne(t),n=require("./piano/20.wav"),l=Ne(n),p=require("./piano/21.wav"),v=Ne(p),f=require("./piano/22.wav"),q=Ne(f),w=require("./piano/23.wav"),s=Ne(w),_=require("./piano/24.wav"),c=Ne(_),x=require("./piano/25.wav"),M=Ne(x),b=require("./piano/26.wav"),j=Ne(b),y=require("./piano/27.wav"),O=Ne(y),P=require("./piano/28.wav"),g=Ne(P),h=require("./piano/29.wav"),k=Ne(h),m=require("./piano/30.wav"),z=Ne(m),A=require("./piano/31.wav"),B=Ne(A),C=require("./piano/32.wav"),D=Ne(C),E=require("./piano/33.wav"),F=Ne(E),G=require("./piano/34.wav"),H=Ne(G),I=require("./piano/35.wav"),J=Ne(I),K=require("./piano/36.wav"),L=Ne(K),N=require("./piano/37.wav"),Q=Ne(N),R=require("./piano/38.wav"),S=Ne(R),T=require("./piano/39.wav"),U=Ne(T),V=require("./piano/40.wav"),W=Ne(V),X=require("./piano/41.wav"),Y=Ne(X),Z=require("./piano/42.wav"),$=Ne(Z),ee=require("./piano/43.wav"),ae=Ne(ee),re=require("./piano/44.wav"),ue=Ne(re),ie=require("./piano/45.wav"),oe=Ne(ie),te=require("./piano/46.wav"),de=Ne(te),ne=require("./piano/47.wav"),le=Ne(ne),pe=require("./piano/48.wav"),ve=Ne(pe),fe=require("./piano/49.wav"),qe=Ne(fe),we=require("./piano/50.wav"),se=Ne(we),_e=require("./piano/51.wav"),ce=Ne(_e),xe=require("./piano/52.wav"),Me=Ne(xe),be=require("./piano/53.wav"),je=Ne(be),ye=require("./piano/54.wav"),Oe=Ne(ye),Pe=require("./piano/55.wav"),ge=Ne(Pe),he=require("./piano/56.wav"),ke=Ne(he),me=require("./piano/57.wav"),ze=Ne(me),Ae=require("./piano/58.wav"),Be=Ne(Ae),Ce=require("./piano/59.wav"),De=Ne(Ce),Ee=require("./piano/60.wav"),Fe=Ne(Ee),Ge=require("./piano/61.wav"),He=Ne(Ge),Ie=require("./piano/62.wav"),Je=Ne(Ie),Ke=require("./piano/63.wav"),Le=Ne(Ke);function Ne(e){return e&&e.__esModule?e:{default:e}}var Qe=exports.sounds=[a.default,u.default,o.default,d.default,l.default,v.default,q.default,s.default,c.default,M.default,j.default,O.default,g.default,k.default,z.default,B.default,D.default,F.default,H.default,J.default,L.default,Q.default,S.default,U.default,W.default,Y.default,$.default,ae.default,ue.default,oe.default,de.default,le.default,ve.default,qe.default,se.default,ce.default,Me.default,je.default,Oe.default,ge.default,ke.default,ze.default,Be.default,De.default,Fe.default,He.default,Je.default,Le.default];
},{"./piano/16.wav":"alPO","./piano/17.wav":"ao6B","./piano/18.wav":"Tc8E","./piano/19.wav":"dRS2","./piano/20.wav":"9l0d","./piano/21.wav":"Veox","./piano/22.wav":"JVm0","./piano/23.wav":"mX/F","./piano/24.wav":"rogg","./piano/25.wav":"b0F3","./piano/26.wav":"8ifA","./piano/27.wav":"vqha","./piano/28.wav":"LOn9","./piano/29.wav":"4+UZ","./piano/30.wav":"T0oT","./piano/31.wav":"ka3w","./piano/32.wav":"HGeG","./piano/33.wav":"VSon","./piano/34.wav":"MvzB","./piano/35.wav":"OEUw","./piano/36.wav":"ddQE","./piano/37.wav":"0vNu","./piano/38.wav":"GXrh","./piano/39.wav":"SOgN","./piano/40.wav":"5zm6","./piano/41.wav":"yUOD","./piano/42.wav":"ytCi","./piano/43.wav":"GvGP","./piano/44.wav":"RjC8","./piano/45.wav":"G6LA","./piano/46.wav":"FKsK","./piano/47.wav":"dcsH","./piano/48.wav":"Mnjs","./piano/49.wav":"+27j","./piano/50.wav":"YzhF","./piano/51.wav":"/yre","./piano/52.wav":"Ebae","./piano/53.wav":"Tq5x","./piano/54.wav":"sFQu","./piano/55.wav":"gXoW","./piano/56.wav":"eoMO","./piano/57.wav":"YOF6","./piano/58.wav":"GxzW","./piano/59.wav":"lhsx","./piano/60.wav":"QBug","./piano/61.wav":"b35k","./piano/62.wav":"5JPz","./piano/63.wav":"mk71"}],"swDd":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"2TUf":[function(require,module,exports) {
var process = require("process");
var t=require("process"),e="undefined"!=typeof window,i={toleranceLate:.1,toleranceEarly:.001},s=function(t,e,i){this.clock=t,this.func=i,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};s.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},s.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},s.prototype.tolerance=function(t){return"number"==typeof t.late&&(this.toleranceLate=t.late),"number"==typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},s.prototype.isRepeated=function(){return null!==this.repeatTime},s.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},s.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var i=t+e*(this.deadline-t);if(this.isRepeated())for(;this.clock.context.currentTime>=i-this.toleranceEarly;)i+=this.repeatTime;this.schedule(i)},s.prototype._execute=function(){!1!==this.clock._started&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},s.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var r=module.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||i.toleranceEarly,this.toleranceLate=e.toleranceLate||i.toleranceLate,this.context=t,this._events=[],this._started=!1};r.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},r.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},r.prototype.timeStretch=function(t,e,i){return e.forEach(function(e){e.timeStretch(t,i)}),e},r.prototype.start=function(){if(!1===this._started){var e=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){this._clockNode=this.context.createScriptProcessor(256,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){t.nextTick(function(){e._tick()})}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},r.prototype.stop=function(){!0===this._started&&(this._started=!1,this._clockNode.disconnect())},r.prototype._tick=function(){for(var t=this._events.shift();t&&t._earliestTime<=this.context.currentTime;)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},r.prototype._createEvent=function(t,e){return new s(this,e,t)},r.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},r.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},r.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},r.prototype._indexByTime=function(t){for(var e,i=0,s=this._events.length;i<s;)e=Math.floor((i+s)/2),this._events[e]._earliestTime<t?i=e+1:s=e;return i},r.prototype._absTime=function(t){return t+this.context.currentTime},r.prototype._relTime=function(t){return t-this.context.currentTime};
},{"process":"swDd"}],"03mS":[function(require,module,exports) {
var e=require("./lib/WAAClock");module.exports=e,"undefined"!=typeof window&&(window.WAAClock=e);
},{"./lib/WAAClock":"2TUf"}],"hXXO":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var o=t(require("waaclock")),e=function(){function t(t){void 0===t&&(t={}),this.buffers={},this.onTrigger=t.onTrigger||function(){},this.onStop=t.onStop||function(){},this.context=t.context||new AudioContext,this.overlap=t.overlap,this.clock=new o.default(this.context,{toleranceEarly:.1,toleranceLate:.1}),t.preload&&(this.preload=this.loadSources(t.preload))}return t.prototype.trigger=function(t){this.onTrigger(t)},t.prototype.stop=function(t){this.onStop(t)},t.prototype.getBuffer=function(t,o){var e=this;return void 0===o&&(o=this.context),this.buffers[t]&&this.buffers[t].context===o?Promise.resolve(this.buffers[t].buffer):fetch(t).then(function(t){return t.arrayBuffer()}).then(function(r){return new Promise(function(n,i){o.decodeAudioData(r,function(r){e.buffers[t]={buffer:r,context:o},n(r)})})})},t.prototype.getSource=function(t,o){void 0===o&&(o=this.context);var e=o.createBufferSource();return e.buffer=t,e.connect(o.destination),e},t.prototype.getSources=function(t,o){var e=this;return void 0===o&&(o=this.context),this.hasLoaded(t)?t.map(function(t){return e.getSource(e.buffers[t].buffer,o)}):(console.error("not all sources loaded!!!"),[])},t.prototype.loadSource=function(t,o){var e=this;return void 0===o&&(o=this.context),this.getBuffer(t,o).then(function(t){return e.getSource(t,o)})},t.prototype.loadSources=function(t,o){var e=this;return void 0===o&&(o=this.context),t.forEach(function(t,o){t||console.warn("note at index "+o+" cannot be played!")}),Promise.all(t.filter(function(t){return!!t}).map(function(t){return e.loadSource(t,o)}))},t.prototype.hasLoaded=function(t,o){var e=this;return void 0===o&&(o=this.context),t.reduce(function(t,r){return t&&e.buffers[r]&&e.buffers[r].context===o},!0)},t.prototype.playSounds=function(t,o,e){var r=this;void 0===o&&(o=0),void 0===e&&(e=0),this.overlap,this.clock._started||this.clock.start(),0===e&&this.trigger(t.map(function(t,o){return o})),t.forEach(function(t,n){0===e?t.start(o):r.clock.setTimeout(function(o){r.trigger([n]),t.start(o.deadline)},e*n),r.clock.setTimeout(function(){r.stop([n])},e*n+t.buffer.duration)})},t.prototype.playSources=function(t,o,e){var r=this;void 0===o&&(o=0),void 0===e&&(e=0),this.hasLoaded(t,this.context)?this.playSounds(this.getSources(t,this.context),o,e):(console.warn("need to load"),this.loadSources(t,this.context).then(function(t){return r.playSounds(t,o,e)}))},t}();exports.Soundbank=e;
},{"waaclock":"03mS"}],"6i0t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.permutations=exports.shuffle=exports.compact=void 0,exports.range=e,exports.rotate=o,exports.sort=c,exports.unique=a;var r=require("tonal-note");function t(r,t){for(var n=[];t--;n[t]=t+r);return n}function n(r,t){for(var n=[];t--;n[t]=r-t);return n}function e(r,e){return null===r||null===e?[]:r<e?t(r,e-r+1):n(r,r-e+1)}function o(r,t){var n=t.length,e=(r%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}var u=exports.compact=function(r){return r.filter(function(r){return 0===r||r})},i=function(t){var n=(0,r.midi)(t);return null!==n?n:(0,r.midi)(t+"-100")};function c(t){return u(t.map(r.name)).sort(function(r,t){return i(r)>i(t)})}function a(r){return c(r).filter(function(r,t,n){return 0===t||r!==n[t-1]})}var f=exports.shuffle=function(r,t){var n,e;void 0===t&&(t=Math.random);for(var o=r.length;o;)n=t()*o--|0,e=r[o],r[o]=r[n],r[n]=e;return r},s=exports.permutations=function(r){return 0===r.length?[[]]:s(r.slice(1)).reduce(function(t,n){return t.concat(r.map(function(t,e){var o=n.slice();return o.splice(e,0,r[0]),o}))},[])};
},{"tonal-note":"jCwb"}],"/sxS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.props=P;var t="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",n="(AA|A|P|M|m|d|dd)([-+]?\\d+)",e=new RegExp("^"+t+"|"+n+"$"),r=[0,2,4,5,7,9,11],u="PMMPPMM",o=[0,1,2,3,4,5,6,5,4,3,2,1],l="1P 2m 2M 3m 3M 4P 5P 6m 6M 7m 7M 8P".split(" "),i=exports.names=function(t){return"string"!=typeof t?l.slice():l.filter(function(n){return-1!==t.indexOf(n[1])})},s=exports.tokenize=function(t){var n=e.exec(t);return null===n?null:n[1]?[n[1],n[2]]:[n[4],n[3]]},m=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null}),a=function(t,n){return Array(Math.abs(n)+1).join(t)},p=function(t,n){return"M"===n&&"M"===t?0:"P"===n&&"P"===t?0:"m"===n&&"M"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?"P"===t?-n.length:-n.length-1:null},c=function(t,n){return 0===n?"M"===t?"M":"P":-1===n&&"M"===t?"m":n>0?a("A",n):n<0?a("d","P"===t?n:n+1):null},f=function(t){return(Math.abs(t)-1)%7},M=function(t){var n=s(t);if(null===n)return m;var e={num:+n[0],q:n[1]};return e.step=f(e.num),e.type=u[e.step],"M"===e.type&&"P"===e.q?m:(e.name=""+e.num+e.q,e.dir=e.num<0?-1:1,e.simple=8===e.num||-8===e.num?e.num:e.dir*(e.step+1),e.alt=p(e.type,e.q),e.oct=Math.floor((Math.abs(e.num)-1)/7),e.semitones=e.dir*(r[e.step]+e.alt+12*e.oct),e.chroma=(e.dir*(r[e.step]+e.alt)%12+12)%12,Object.freeze(e))},d={};function P(t){return"string"!=typeof t?m:d[t]||(d[t]=M(t))}var v=exports.num=function(t){return P(t).num},x=exports.name=function(t){return P(t).name},h=exports.semitones=function(t){return P(t).semitones},y=exports.chroma=function(t){return P(t).chroma},b=exports.ic=function(t){return"string"==typeof t&&(t=P(t).chroma),"number"==typeof t?o[t%12]:null},g=exports.build=function(t){void 0===t&&(t={});var n=t.num,e=t.step,r=t.alt,o=t.oct;void 0===o&&(o=1);var l=t.dir;if(void 0!==e&&(n=e+1+7*o),void 0===n)return null;var i=l<0?"-":"",s=u[f(n)];return i+n+c(s,r)},A=exports.simplify=function(t){var n=P(t);return n===m?null:n.simple+n.q},q=exports.invert=function(t){var n=P(t);if(n===m)return null;var e=(7-n.step)%7,r="P"===n.type?-n.alt:-(n.alt+1);return g({step:e,alt:r,oct:n.oct,dir:n.dir})},j=[1,2,2,3,3,4,5,5,6,6,7,7],O="P m M m M P d P m M m M".split(" "),z=exports.fromSemitones=function(t){var n=t<0?-1:1,e=Math.abs(t),r=e%12,u=Math.floor(e/12);return n*(j[r]+7*u)+O[r]};
},{}],"WV7l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.transpose=v,exports.trFifths=h,exports.fifths=d,exports.transposeBy=g,exports.addIntervals=b,exports.add=M,exports.subtract=q,exports.interval=y,exports.semitones=_;var n=require("tonal-note"),r=require("tonal-interval"),t=[0,2,4,-1,1,3,5],u=function(n){return Math.floor(7*n/12)},e=t.map(u),l=function(n){var r=n.step,u=n.alt,l=n.oct,o=n.dir;void 0===o&&(o=1);var i=t[r]+7*u;return null===l?[o*i]:[o*i,o*(l-e[r]-4*u)]},o=[3,0,4,1,5,2,6];function i(n){var r=(n+1)%7;return r<0?7+r:r}var f=function(n,r,t){var u=o[i(n)],l=Math.floor((n+1)/7);return void 0===r?{step:u,alt:l,dir:t}:{step:u,alt:l,oct:r+4*l+e[u],dir:t}},a=function(n,r){return void 0===r&&(r={}),function(t){return r[t]||(r[t]=n(t))}},c=function(n){return a(function(r){var t=n(r);return null===t.name?null:l(t)})},s=c(n.props),p=c(r.props);function v(r,t){if(1===arguments.length)return function(n){return v(r,n)};var u=s(r),e=p(t);if(null===u||null===e)return null;var l=1===u.length?[u[0]+e[0]]:[u[0]+e[0],u[1]+e[1]];return(0,n.build)(f(l[0],l[1]))}function h(r,t){if(1===arguments.length)return function(n){return h(r,n)};var u=s(r);return null===u?null:(0,n.build)(f(u[0]+t))}function d(n,r){if(1===arguments.length)return function(r){return d(n,r)};var t=s(n),u=s(r);return null===u||null===t?null:u[0]-t[0]}function g(n,r){return 1===arguments.length?function(r){return v(r,n)}:v(r,n)}var m=function(n){return 7*n[0]+12*n[1]<0},x=function(n){return m(n)?f(-n[0],-n[1],-1):f(n[0],n[1],1)};function b(n,t,u){var e=p(n),l=p(t);if(null===e||null===l)return null;var o=[e[0]+u*l[0],e[1]+u*l[1]];return(0,r.build)(x(o))}function M(n,r){return 1===arguments.length?function(r){return M(n,r)}:b(n,r,1)}function q(n,r){return 1===arguments.length?function(r){return M(n,r)}:b(n,r,-1)}function y(n,t){if(1===arguments.length)return function(r){return y(n,r)};var u=s(n),e=s(t);if(null===u||null===e||u.length!==e.length)return null;var l=1===u.length?[e[0]-u[0],-Math.floor(7*(e[0]-u[0])/12)]:[e[0]-u[0],e[1]-u[1]];return(0,r.build)(x(l))}function _(r,t){if(1===arguments.length)return function(n){return _(r,n)};var u=(0,n.props)(r),e=(0,n.props)(t);return null!==u.midi&&null!==e.midi?e.midi-u.midi:null!==u.chroma&&null!==e.chroma?(e.chroma-u.chroma+12)%12:null}
},{"tonal-note":"jCwb","tonal-interval":"/sxS"}],"wrJo":[function(require,module,exports) {
module.exports={chromatic:["1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M"],lydian:["1P 2M 3M 4A 5P 6M 7M"],major:["1P 2M 3M 4P 5P 6M 7M",["ionian"]],mixolydian:["1P 2M 3M 4P 5P 6M 7m",["dominant"]],dorian:["1P 2M 3m 4P 5P 6M 7m"],aeolian:["1P 2M 3m 4P 5P 6m 7m",["minor"]],phrygian:["1P 2m 3m 4P 5P 6m 7m"],locrian:["1P 2m 3m 4P 5d 6m 7m"],"melodic minor":["1P 2M 3m 4P 5P 6M 7M"],"melodic minor second mode":["1P 2m 3m 4P 5P 6M 7m"],"lydian augmented":["1P 2M 3M 4A 5A 6M 7M"],"lydian dominant":["1P 2M 3M 4A 5P 6M 7m",["lydian b7"]],"melodic minor fifth mode":["1P 2M 3M 4P 5P 6m 7m",["hindu","mixolydian b6M"]],"locrian #2":["1P 2M 3m 4P 5d 6m 7m"],"locrian major":["1P 2M 3M 4P 5d 6m 7m",["arabian"]],altered:["1P 2m 3m 3M 5d 6m 7m",["super locrian","diminished whole tone","pomeroy"]],"major pentatonic":["1P 2M 3M 5P 6M",["pentatonic"]],"lydian pentatonic":["1P 3M 4A 5P 7M",["chinese"]],"mixolydian pentatonic":["1P 3M 4P 5P 7m",["indian"]],"locrian pentatonic":["1P 3m 4P 5d 7m",["minor seven flat five pentatonic"]],"minor pentatonic":["1P 3m 4P 5P 7m"],"minor six pentatonic":["1P 3m 4P 5P 6M"],"minor hexatonic":["1P 2M 3m 4P 5P 7M"],"flat three pentatonic":["1P 2M 3m 5P 6M",["kumoi"]],"flat six pentatonic":["1P 2M 3M 5P 6m"],"major flat two pentatonic":["1P 2m 3M 5P 6M"],"whole tone pentatonic":["1P 3M 5d 6m 7m"],"ionian pentatonic":["1P 3M 4P 5P 7M"],"lydian #5P pentatonic":["1P 3M 4A 5A 7M"],"lydian dominant pentatonic":["1P 3M 4A 5P 7m"],"minor #7M pentatonic":["1P 3m 4P 5P 7M"],"super locrian pentatonic":["1P 3m 4d 5d 7m"],"in-sen":["1P 2m 4P 5P 7m"],iwato:["1P 2m 4P 5d 7m"],hirajoshi:["1P 2M 3m 5P 6m"],kumoijoshi:["1P 2m 4P 5P 6m"],pelog:["1P 2m 3m 5P 6m"],"vietnamese 1":["1P 3m 4P 5P 6m"],"vietnamese 2":["1P 3m 4P 5P 7m"],prometheus:["1P 2M 3M 4A 6M 7m"],"prometheus neopolitan":["1P 2m 3M 4A 6M 7m"],ritusen:["1P 2M 4P 5P 6M"],scriabin:["1P 2m 3M 5P 6M"],piongio:["1P 2M 4P 5P 6M 7m"],"major blues":["1P 2M 3m 3M 5P 6M"],"minor blues":["1P 3m 4P 5d 5P 7m",["blues"]],"composite blues":["1P 2M 3m 3M 4P 5d 5P 6M 7m"],augmented:["1P 2A 3M 5P 5A 7M"],"augmented heptatonic":["1P 2A 3M 4P 5P 5A 7M"],"dorian #4":["1P 2M 3m 4A 5P 6M 7m"],"lydian diminished":["1P 2M 3m 4A 5P 6M 7M"],"whole tone":["1P 2M 3M 4A 5A 7m"],"leading whole tone":["1P 2M 3M 4A 5A 7m 7M"],"harmonic minor":["1P 2M 3m 4P 5P 6m 7M"],"lydian minor":["1P 2M 3M 4A 5P 6m 7m"],neopolitan:["1P 2m 3m 4P 5P 6m 7M"],"neopolitan minor":["1P 2m 3m 4P 5P 6m 7M"],"neopolitan major":["1P 2m 3m 4P 5P 6M 7M",["dorian b2"]],"neopolitan major pentatonic":["1P 3M 4P 5d 7m"],"romanian minor":["1P 2M 3m 5d 5P 6M 7m"],"double harmonic lydian":["1P 2m 3M 4A 5P 6m 7M"],diminished:["1P 2M 3m 4P 5d 6m 6M 7M"],"harmonic major":["1P 2M 3M 4P 5P 6m 7M"],"double harmonic major":["1P 2m 3M 4P 5P 6m 7M",["gypsy"]],egyptian:["1P 2M 4P 5P 7m"],"hungarian minor":["1P 2M 3m 4A 5P 6m 7M"],"hungarian major":["1P 2A 3M 4A 5P 6M 7m"],oriental:["1P 2m 3M 4P 5d 6M 7m"],spanish:["1P 2m 3M 4P 5P 6m 7m",["phrygian major"]],"spanish heptatonic":["1P 2m 3m 3M 4P 5P 6m 7m"],flamenco:["1P 2m 3m 3M 4A 5P 7m"],balinese:["1P 2m 3m 4P 5P 6m 7M"],"todi raga":["1P 2m 3m 4A 5P 6m 7M"],"malkos raga":["1P 3m 4P 6m 7m"],"kafi raga":["1P 3m 3M 4P 5P 6M 7m 7M"],"purvi raga":["1P 2m 3M 4P 4A 5P 6m 7M"],persian:["1P 2m 3M 4P 5d 6m 7M"],bebop:["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop dominant":["1P 2M 3M 4P 5P 6M 7m 7M"],"bebop minor":["1P 2M 3m 3M 4P 5P 6M 7m"],"bebop major":["1P 2M 3M 4P 5P 5A 6M 7M"],"bebop locrian":["1P 2m 3m 4P 5d 5P 6m 7m"],"minor bebop":["1P 2M 3m 4P 5P 6m 7m 7M"],"mystery #1":["1P 2m 3M 5d 6m 7m"],enigmatic:["1P 2m 3M 5d 6m 7m 7M"],"minor six diminished":["1P 2M 3m 4P 5P 6m 6M 7M"],"ionian augmented":["1P 2M 3M 4P 5A 6M 7M"],"lydian #9":["1P 2m 3M 4A 5P 6M 7M"],ichikosucho:["1P 2M 3M 4P 5d 5P 6M 7M"],"six tone symmetric":["1P 2m 3M 4P 5A 6M"]};
},{}],"XmRp":[function(require,module,exports) {
module.exports={4:["1P 4P 7m 10m",["quartal"]],64:["5P 8P 10M"],5:["1P 5P"],M:["1P 3M 5P",["Major",""]],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],M13:["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],M6:["1P 3M 5P 13M",["6"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],M69:["1P 3M 5P 6M 9M",["69"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],M7add13:["1P 3M 5P 6M 7M 9M"],M7b5:["1P 3M 5d 7M"],M7b6:["1P 3M 6m 7M"],M7b9:["1P 3M 5P 7M 9m"],M7sus4:["1P 4P 5P 7M"],M9:["1P 3M 5P 7M 9M",["maj9","Maj9"]],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],M9b5:["1P 3M 5d 7M 9M"],M9sus4:["1P 4P 5P 7M 9M"],Madd9:["1P 3M 5P 9M",["2","add9","add2"]],Maj7:["1P 3M 5P 7M",["maj7","M7"]],Mb5:["1P 3M 5d"],Mb6:["1P 3M 13m"],Msus2:["1P 2M 5P",["add9no3","sus2"]],Msus4:["1P 4P 5P",["sus","sus4"]],Maddb9:["1P 3M 5P 9m"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],m:["1P 3m 5P"],"m#5":["1P 3m 5A",["m+","mb6"]],m11:["1P 3m 5P 7m 9M 11P",["_11"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],m11b5:["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13:["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6:["1P 3m 4P 5P 13M",["_6"]],m69:["1P 3m 5P 6M 9M",["_69"]],m7:["1P 3m 5P 7m",["minor7","_","_7"]],"m7#5":["1P 3m 6m 7m"],m7add11:["1P 3m 5P 7m 11P",["m7add4"]],m7b5:["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9:["1P 3m 5P 7m 9M",["_9"]],"m9#5":["1P 3m 6m 7m 9M"],m9b5:["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7:["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6:["1P 3m 5P 6m 7M",["mM7b6"]],mM9:["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6:["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7:["1P 3m 6m 7M"],mb6b9:["1P 3m 6m 9m"],o:["1P 3m 5d",["mb5","dim"]],o7:["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7:["1P 3m 5d 6M 7M"],oM7:["1P 3m 5d 7M"],sus24:["1P 2M 4P 5P",["sus4add9"]],"+add#9":["1P 3M 5A 9A"],madd4:["1P 3m 4P 5P"],madd9:["1P 3m 5P 9M"]};
},{}],"c4NH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chroma=i,exports.chromas=a,exports.modes=f,exports.isChroma=l,exports.intervals=m,exports.isEqual=h,exports.isSubsetOf=x,exports.isSupersetOf=v,exports.includes=g,exports.filter=d;var r=require("tonal-note"),n=require("tonal-interval"),t=require("tonal-array"),e=function(t){return(0,r.chroma)(t)||(0,n.chroma)(t)||0},u=function(r){return parseInt(i(r),2)},o=function(r){return r.replace(/0/g,"").length};function i(r){if(l(r))return r;if(!Array.isArray(r))return"";var n=[0,0,0,0,0,0,0,0,0,0,0,0];return r.map(e).forEach(function(r){n[r]=1}),n.join("")}var c=null;function a(r){return c=c||(0,t.range)(2048,4095).map(function(r){return r.toString(2)}),"number"==typeof r?c.filter(function(n){return o(n)===r}):c.slice()}function f(r,n){n=!1!==n;var e=i(r).split("");return(0,t.compact)(e.map(function(r,u){var o=(0,t.rotate)(u,e);return n&&"0"===o[0]?null:o.join("")}))}var s=/^[01]{12}$/;function l(r){return s.test(r)}var p="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");function m(r){return l(r)?(0,t.compact)(r.split("").map(function(r,n){return"1"===r?p[n]:null})):[]}function h(r,n){return 1===arguments.length?function(n){return h(r,n)}:i(r)===i(n)}function x(r,n){return arguments.length>1?x(r)(n):(r=u(r),function(n){return(n=u(n))!==r&&(n&r)===n})}function v(r,n){return arguments.length>1?v(r)(n):(r=u(r),function(n){return(n=u(n))!==r&&(n|r)===n})}function g(r,n){return arguments.length>1?g(r)(n):(r=i(r),function(n){return"1"===r[e(n)]})}function d(r,n){return 1===arguments.length?function(n){return d(r,n)}:n.filter(g(r))}
},{"tonal-note":"jCwb","tonal-interval":"/sxS","tonal-array":"6i0t"}],"wM2I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pcset=exports.chord=exports.scale=exports.combine=exports.dictionary=void 0;var e=require("./data/scales.json"),r=s(e),t=require("./data/chords.json"),n=s(t),o=require("tonal-pcset");function s(e){return e&&e.__esModule?e:{default:e}}var c=exports.dictionary=function(e){var r=Object.keys(e).sort(),t=[],n=[],s=function(e,r,o){t[e]=r,n[o]=n[o]||[],n[o].push(e)};r.forEach(function(r){var t=e[r][0].split(" "),n=e[r][1],c=(0,o.chroma)(t);s(r,t,c),n&&n.forEach(function(e){return s(e,t,c)})});var c=Object.keys(t).sort(),u=function(e){return t[e]};return u.names=function(e){return"string"==typeof e?(n[e]||[]).slice():(!0===e?c:r).slice()},u},u=exports.combine=function(e,r){var t=function(t){return e(t)||r(t)};return t.names=function(t){return e.names(t).concat(r.names(t))},t},a=exports.scale=c(r.default),i=exports.chord=c(n.default),p=exports.pcset=u(a,i);
},{"./data/scales.json":"wrJo","./data/chords.json":"XmRp","tonal-pcset":"c4NH"}],"0YZh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subsets=exports.supersets=exports.toScale=exports.chords=exports.modeNames=exports.intervals=exports.names=exports.props=void 0,exports.notes=p,exports.exists=f,exports.tokenize=m;var e=require("tonal-note"),r=require("tonal-pcset"),t=require("tonal-distance"),n=require("tonal-dictionary"),s=require("tonal-array"),o=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),a=function(e){var t=(0,n.scale)(e);if(!t)return o;var s={intervals:t,name:e};return s.chroma=(0,r.chroma)(t),s.setnum=parseInt(s.chroma,2),s.names=n.scale.names(s.chroma),Object.freeze(s)},u=function(e,r){return function(t){return r[t]||(r[t]=e(t))}},i=exports.props=u(a,{}),c=exports.names=n.scale.names,l=exports.intervals=function(e){var r=m(e);return i(r[1]).intervals};function p(e,r){var n=m(e);return r=r||n[1],l(r).map((0,t.transpose)(n[0]))}function f(e){var r=m(e);return void 0!==(0,n.scale)(r[1])}function m(r){if("string"!=typeof r)return["",""];var t=r.indexOf(" "),n=(0,e.name)(r.substring(0,t))||(0,e.name)(r)||"",s=""!==n?r.substring(n.length+1):r;return[n,s.length?s:""]}var v=exports.modeNames=function(e){var t=l(e),s=p(e);return(0,r.modes)(t).map(function(e,r){var o=n.scale.names(e)[0];if(o)return[s[r]||t[r],o]}).filter(function(e){return e})},x=exports.chords=function(e){var t=(0,r.isSubsetOf)(l(e));return n.chord.names().filter(function(e){return t((0,n.chord)(e))})},d=exports.toScale=function(r){var t=(0,s.compact)(r.map(e.pc));if(!t.length)return t;var n=t[0],o=(0,s.unique)(t);return(0,s.rotate)(o.indexOf(n),o)},h=exports.supersets=function(e){if(!l(e).length)return[];var t=(0,r.isSupersetOf)(l(e));return n.scale.names().filter(function(e){return t((0,n.scale)(e))})},b=exports.subsets=function(e){var t=(0,r.isSubsetOf)(l(e));return n.scale.names().filter(function(e){return t((0,n.scale)(e))})};
},{"tonal-note":"jCwb","tonal-pcset":"c4NH","tonal-distance":"WV7l","tonal-dictionary":"wM2I","tonal-array":"6i0t"}],"KRkk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subsets=exports.supersets=exports.exists=exports.intervals=exports.props=exports.names=void 0,exports.notes=p,exports.tokenize=x;var e=require("tonal-note"),r=require("tonal-distance"),t=require("tonal-dictionary"),n=require("tonal-pcset"),s=exports.names=t.chord.names,o=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),u=function(e){var r=(0,t.chord)(e);if(!r)return o;var s={intervals:r,name:e};return s.chroma=(0,n.chroma)(r),s.setnum=parseInt(s.chroma,2),s.names=t.chord.names(s.chroma),s},a=function(e,r){return void 0===r&&(r={}),function(t){return r[t]||(r[t]=e(t))}},i=exports.props=a(u),c=exports.intervals=function(e){return i(x(e)[1]).intervals};function p(e,t){var n=x(e);return t=t||n[1],i(t).intervals.map((0,r.transpose)(n[0]))}var l=exports.exists=function(e){return void 0!==(0,t.chord)(x(e)[1])},f=exports.supersets=function(e){if(!c(e).length)return[];var r=(0,n.isSupersetOf)(c(e));return t.chord.names().filter(function(e){return r((0,t.chord)(e))})},m=exports.subsets=function(e){var r=(0,n.isSubsetOf)(c(e));return t.chord.names().filter(function(e){return r((0,t.chord)(e))})},v=/^(6|64|7|9|11|13)$/;function x(r){var t=(0,e.tokenize)(r);return""===t[0]?["",r]:"A"===t[0]&&"ug"===t[3]?["","aug"]:v.test(t[2])?[t[0]+t[1],t[2]+t[3]]:[t[0]+t[1]+t[2],t[3]]}
},{"tonal-note":"jCwb","tonal-distance":"WV7l","tonal-dictionary":"wM2I","tonal-pcset":"c4NH"}],"CKYD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scale=exports.chord=exports.freq=exports.midi=exports.note=exports.interval=exports.transpose=exports.Dictionary=exports.PcSet=exports.Chord=exports.Scale=exports.Distance=exports.Interval=exports.Note=exports.Array=void 0;var e=require("tonal-array"),r=f(e),t=require("tonal-note"),o=f(t),s=require("tonal-interval"),p=f(s),a=require("tonal-distance"),n=f(a),i=require("tonal-dictionary"),x=f(i),l=require("tonal-scale"),c=f(l),u=require("tonal-chord"),d=f(u),q=require("tonal-pcset"),v=f(q);function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}exports.Array=r,exports.Note=o,exports.Interval=p,exports.Distance=n,exports.Scale=c,exports.Chord=d,exports.PcSet=v,exports.Dictionary=x;const y=exports.transpose=n.transpose,h=exports.interval=n.interval,D=exports.note=o.props,P=exports.midi=o.midi,S=exports.freq=o.freq,_=exports.chord=x.chord,m=exports.scale=x.scale;
},{"tonal-array":"6i0t","tonal-note":"jCwb","tonal-interval":"/sxS","tonal-distance":"WV7l","tonal-dictionary":"wM2I","tonal-scale":"0YZh","tonal-chord":"KRkk","tonal-pcset":"c4NH"}],"BHXf":[function(require,module,exports) {
"use strict";var r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e};exports.__esModule=!0;var e=r(require("tonal-chord")),t=r(require("tonal-scale")),n=r(require("tonal-pcset"));function o(r){return Math.floor(Math.random()*r)}function u(r){return r.reduce(function(r,e){return r+e},0)}function a(r,e){if(!e)return r[o(r.length)];var t=o(u(e))+1,n=e.reduce(function(r,e,t){return r.concat(e+(r.length?r[t-1]:0))},[]);return r[n.indexOf(n.find(function(r,e){return r>=t}))]}function i(r){return r&&r.length&&3===r[r.length-1].length&&0!==r[r.length-1][2]?0:1}function c(r){r=r.replace("-","m").replace("^","M").replace("h7","m7b5").replace("h","dim");var t=e.tokenize(r),n=t[1].split("/");return t[0]+(n[0]||"M")}function l(r,e){return e.map(function(e){return n.chroma(t.notes(r,e))})}exports.randomNumber=o,exports.arraySum=u,exports.randomElement=a,exports.getOne=i,exports.getTonalChord=c,exports.getChromas=l;
},{"tonal-chord":"KRkk","tonal-scale":"0YZh","tonal-pcset":"c4NH"}],"CLqX":[function(require,module,exports) {
"use strict";var t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n};exports.__esModule=!0;var n=t(require("tonal-note")),e=require("./samples/piano.js"),r=require("./Soundbank"),i=require("tonal"),o=require("tonal"),a=require("tonal"),s=require("./util"),l=function(){function t(t){void 0===t&&(t={});var n=this;this.style="Medium Swing",this.midiOffset=36,this.playedNotes=[],this.playedPatterns=[],this.defaults={bpm:200,intelligentVoicings:!0},this.min=Math.min,this.styles={Funk:[{pattern:function(t,n){return[[0,1],0,[0,1],1]}}],"Medium Swing":[{pattern:function(t,e){var r=n.playedPatterns[n.playedPatterns.length-1],i=function(t){return s.randomElement([0,[0,0,t]],[3,1])},o=t.cycle+"/"+e,a=s.getOne(r),l=a?0:1;return"4/1"===o?s.randomElement([[a,0,0,i(2)],[a,0,l,i(2)],[a,[0,0,1],0,i(2)]]):"4/2"===o?s.randomElement([[a,0,2,i(3)],[a,[0,0,2],0,i(3)]],[2,1]):"4/3"===o?(console.log("three.."),[a,2,3]):s.randomElement([[a,2,3,4],[[a,0,2],[0,0,3],0,4]])}}]},this.props=Object.assign({},this.defaults,t||{}),this.soundbank=new r.Soundbank({context:t.context,preload:e.sounds,onTrigger:function(t){if(n.props.onTrigger){var e=n.getLastVoicing();n.props.onTrigger(e)}},onStop:function(t){n.props.onStop&&n.props.onStop(t)}}),this.ready=this.soundbank.preload}return t.prototype.bar=function(t,n){var e=this,r=n[t.path[0]],i=r.concat(n[(t.path[0]+1)%n.length]);this.styles[this.style].forEach(function(n){var o=n.pattern(t,r.length).slice(0,Math.floor(t.cycle));e.playedPatterns.push(o),t.pulse.tickArray(o,function(t){var n=i[Math.min(t.value,i.length)-1];e.playChord(n,t.deadline)},t.length)})},t.prototype.invertInterval=function(t){return i.Interval.semitones(t)<0?i.Interval.invert(t.slice(1)):"-"+i.Interval.invert(t)},t.prototype.smallestInterval=function(t){"0A"===(t=i.Interval.simplify(t))&&(t="1P");var n=this.invertInterval(t);return Math.abs(i.Interval.semitones(n))<Math.abs(i.Interval.semitones(t))?n:t||""},t.prototype.minInterval=function(t,n,e){var r=[Math.abs(i.Interval.semitones(t)),Math.abs(i.Interval.semitones(n))];return r[0]===r[1]?e?r[0]<0?-1:1:r[0]>0?-1:1:r[0]<r[1]?-1:1},t.prototype.intervalMatrix=function(t,n){var e=this;return n.map(function(n){return t.map(function(t){return o.Distance.interval(t,n)}).map(function(t){return e.smallestInterval(t)}).map(function(t){return"--"===t.slice(0,2)?t.slice(1):t})})},t.prototype.getLastVoicing=function(){return this.playedNotes.length?this.playedNotes[this.playedNotes.length-1]:null},t.prototype.getMidi=function(t){return n.props(t).midi-this.midiOffset},t.prototype.getVoicing=function(t,n,e){var r=this;return n?this.intervalMatrix(n,t).map(function(t,e){var i=[].concat(t).sort(function(t,n){return r.minInterval(t,n,!1)})[0];return o.Distance.transpose(n[t.indexOf(i)],i)||console.log("ALARM",n[t.indexOf(i)],i),o.Distance.transpose(n[t.indexOf(i)],i)}):t},t.prototype.playNotes=function(t,n,r,i){var o=this;if(void 0===n&&(n=0),void 0===r&&(r=0),t&&t.length){this.props.intelligentVoicings&&this.getLastVoicing()&&(t=this.getVoicing(t,this.getLastVoicing(),i)),this.playedNotes.push([].concat(t));var a=t.map(function(t){return e.sounds[o.getMidi(t)]});this.soundbank.playSources(a,n,r)}},t.prototype.playChord=function(t,n,e){t=a.Chord.tokenize(s.getTonalChord(t));var r=a.Chord.intervals(t[1]).map(function(t){return t.replace("13","6")}).map(function(n){return o.Distance.transpose(t[0]+"3",n)});this.playNotes(r,n)},t}();exports.default=l;
},{"tonal-note":"jCwb","./samples/piano.js":"rJhi","./Soundbank":"hXXO","tonal":"CKYD","./util":"BHXf"}],"hEkM":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var e=t(require("waaclock")),r=function(){function t(t){this.defaultProps={bpm:90,cycle:4},this.props=Object.assign({},this.defaultProps,t),this.context=this.props.context||new AudioContext,this.clock=this.props.clock||new e.default(this.context,{toleranceEarly:.1,toleranceLate:.1})}return t.prototype.getMeasureLength=function(t,e){return void 0===t&&(t=this.props.bpm),void 0===e&&(e=this.props.cycle),60/t*e},t.prototype.arrayPulse=function(t,e,r,o,s){var i=this;if(void 0===e&&(e=1),void 0===r&&(r=[]),void 0===o&&(o=0),!Array.isArray(t)){if(0===t)return 0;var n={value:t,length:e,path:r,start:o,pulse:this,cycle:this.props.cycle};return n.timeout=this.clock.setTimeout(function(t){return s(Object.assign(n,{event:t,deadline:t.deadline}))},o),n}var c=e/t.length;return{length:e,children:t.map(function(t,e){return i.arrayPulse(t,c,r.concat([e]),o+e*c,s)})}},t.prototype.tickArray=function(t,e,r){var o=r||this.getMeasureLength()*t.length;return this.clock.start(),this.arrayPulse(t,o,[],0,e)},t.prototype.start=function(){this.clock.start()},t.prototype.stop=function(){this.clock.stop()},t}();exports.Pulse=r;
},{"waaclock":"03mS"}],"pu70":[function(require,module,exports) {
module.exports="/MetronomeUp.f790d83b.wav";
},{}],"H4ds":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.metronomeUp=void 0;var e=require("./MetronomeUp.wav"),r=o(e);function o(e){return e&&e.__esModule?e:{default:e}}var t=exports.metronomeUp=r.default;
},{"./MetronomeUp.wav":"pu70"}],"t9V7":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./Soundbank"),o=require("./samples/metronome.js"),n=function(){function n(n){void 0===n&&(n={}),this.soundbank=new e.Soundbank({preload:[o.metronomeUp],context:n.context}),this.ready=this.soundbank.preload}return n.prototype.bar=function(e){var n=this;e.pulse.tickArray([1,1,1,1].slice(0,Math.floor(e.cycle)),function(e){n.soundbank.playSources([o.metronomeUp],e.deadline)},e.length)},n}();exports.Metronome=n;
},{"./Soundbank":"hXXO","./samples/metronome.js":"H4ds"}],"qnbj":[function(require,module,exports) {
module.exports="/kick.fb35ba9f.wav";
},{}],"ElaT":[function(require,module,exports) {
module.exports="/snare.e18f97f1.wav";
},{}],"bsNG":[function(require,module,exports) {
module.exports="/hihat.bcc9e4c2.wav";
},{}],"DWPQ":[function(require,module,exports) {
module.exports="/ride.7cb24279.wav";
},{}],"Y24v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ride=exports.hihat=exports.snare=exports.kick=void 0;var e=require("./drummer/kick.wav"),r=o(e),t=require("./drummer/snare.wav"),u=o(t),a=require("./drummer/hihat.wav"),i=o(a),d=require("./drummer/ride.wav"),s=o(d);function o(e){return e&&e.__esModule?e:{default:e}}var p=exports.kick=r.default,x=exports.snare=u.default,l=exports.hihat=i.default,m=exports.ride=s.default;
},{"./drummer/kick.wav":"qnbj","./drummer/snare.wav":"ElaT","./drummer/hihat.wav":"bsNG","./drummer/ride.wav":"DWPQ"}],"GjOi":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var n=require("./Soundbank"),t=require("./util"),e=require("./samples/drumset.js"),r=function(){function r(r){void 0===r&&(r={}),this.styles={Funk:[{sounds:[e.kick],pattern:function(n){return[1,0,[0,1],1]}},{sounds:[e.snare],pattern:function(n){return[0,1,0,1]}},{sounds:[e.hihat],pattern:function(n){return[[0,1],[0,1],[0,1],[0,1]]}}],"Medium Swing":[{sounds:[e.ride],pattern:function(n){return t.randomElement([[1,[1,0,1],1,[1,0,1]],[1,[0,0,1],1,[0,0,1]],[1,1,[1,0,1],1],[1,1,1,[1,0,1]]],[3,2,1,2])}},{sounds:[e.hihat],pattern:function(n){return[0,1,0,1]}}]},this.style="Medium Swing",this.soundbank=new n.Soundbank({preload:[e.kick,e.snare,e.hihat,e.ride],context:r.context}),this.ready=this.soundbank.preload}return r.prototype.bar=function(n){var t=this;this.styles[this.style].forEach(function(e){var r=e.pattern(n).slice(0,Math.floor(n.cycle));n.pulse.tickArray(r,function(n){t.soundbank.playSources(e.sounds,n.deadline)},n.length)})},r}();exports.Drummer=r;
},{"./Soundbank":"hXXO","./util":"BHXf","./samples/drumset.js":"Y24v"}],"OKGr":[function(require,module,exports) {
"use strict";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};exports.__esModule=!0;var e=t(require("./Pianist")),r=require("./Pulse"),i=require("./Metronome"),o=require("./Drummer"),s=function(){function t(t){void 0===t&&(t={}),this.props=Object.assign({context:t.context||new AudioContext},t);var s=this.props.context;this.defaultStyle="Medium Swing",this.pulse=new r.Pulse({context:s,bpm:130}),this.metronome=new i.Metronome({context:s}),this.drummer=new o.Drummer({context:s}),this.pianist=new e.default({context:s,itelligentVoicings:!1})}return t.prototype.ready=function(){return Promise.all([this.resume(),this.pianist.ready,this.drummer.ready,this.metronome.ready])},t.prototype.resume=function(){var t=this;return this.props.context.resume().then(function(){return t.props.context})},t.prototype.playChordAtPosition=function(t){var e=this.props.measures[t[0]][t[1]];this.pianist.playChord(e)},t.prototype.compBars=function(t,e,r){var i=this;void 0===t&&(t=this.props.measures),void 0===e&&(e=1),void 0===r&&(r=this.props.position||[0,0]),t=t.map(function(t){return Array.isArray(t)?t:[t]}),e>1&&(t=new Array(e).fill(1).reduce(function(e){return e.concat(t)},[])),this.pulse.tickArray(t.map(function(t){return 1}),function(e){i.drummer.bar(e),i.pianist.bar(e,t)}),this.pulse.start()},t.prototype.getNextPosition=function(t,e){void 0===t&&(t=this.props.position),void 0===e&&(e=this.props.measures);var r=t[0],i=t[1]+1;return i>e[r].length-1&&(i=0,r=(r+1)%e.length),[r,i]},t.prototype.playNextChord=function(t,e,r,i){void 0===t&&(t=this.props.measures),void 0===e&&(e=220),void 0===r&&(r=4),void 0===i&&(i=2);var o=this.props.position?this.getNextPosition():[0,0];this.playChordAtPosition(o)},t}();exports.default=s;
},{"./Pianist":"CLqX","./Pulse":"hEkM","./Metronome":"t9V7","./Drummer":"GjOi"}]},{},["OKGr"], null)
//# sourceMappingURL=/Band.map