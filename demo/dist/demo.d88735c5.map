{"version":3,"sources":["../dist/index.js","../src/RealParser.ts","samples/piano.js","samples/drumset.js","../node_modules/ireal-reader/unscramble.js","../node_modules/ireal-reader/Music.js","../node_modules/ireal-reader/Song.js","../node_modules/ireal-reader/Playlist.js","../node_modules/ireal-reader/index.js","../node_modules/tonal-note/build/es6.js","../node_modules/tonal-array/build/es6.js","../node_modules/tonal-interval/build/es6.js","../node_modules/tonal-distance/build/es6.js","../node_modules/tonal-pcset/build/es6.js","../node_modules/tonal-dictionary/build/es6.js","../node_modules/tonal-scale/build/es6.js","../node_modules/tonal-chord/build/es6.js","../node_modules/tonal/index.js","../src/instruments/Instrument.ts","../src/instruments/Synthesizer.ts","../src/util.ts","../src/grooves/swing.ts","../src/grooves/funk.ts","demo.ts"],"names":["parcelRequire","e","r","n","t","i","o","require","u","f","c","Error","code","resolve","l","Module","call","exports","p","isParcelRequire","id","bundle","modules","cache","parent","register","length","module","define","amd","setTimeout","clearTimeout","s","a","concat","h","run","m","fun","array","nextTick","Array","arguments","push","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","process","window","toleranceLate","toleranceEarly","clock","func","_cleared","_latestTime","_earliestTime","deadline","repeatTime","schedule","clear","_removeEvent","repeat","_hasEvent","tolerance","late","early","_refreshEarlyLateDates","_insertEvent","isRepeated","context","currentTime","_execute","timeStretch","_started","onexpired","console","warn","tickMethod","_events","_createEvent","_absTime","callbackAtTime","forEach","start","_clockNode","createScriptProcessor","connect","destination","onaudioprocess","_tick","stop","disconnect","shift","unshift","splice","_indexByTime","indexOf","Math","floor","_relTime","WAAClock","__importDefault","__esModule","default","Object","defineProperty","value","defaults","bpm","cycle","delay","events","props","assign","AudioContext","getMeasureLength","arrayPulse","isArray","path","pulse","timeout","event","children","map","tickArray","Promise","changeTempo","filter","Pulse","musicians","division","transpose","style","ready","all","resume","then","comp","play","measures","settings","tokenize","fromMidi","D","split","names","slice","exec","toUpperCase","replace","freeze","pc","name","step","alt","oct","octStr","chroma","midi","freq","letter","acc","charCodeAt","x","midiToFreq","pow","d","log","v","b","freqToMidi","round","g","M","A","y","stepToLetter","q","join","j","C","altToAcc","G","from","O","build","F","simplify","T","enharmonic","permutations","shuffle","compact","range","rotate","sort","unique","random","reduce","P","RegExp","num","dir","type","simple","semitones","abs","test","ic","invert","z","fromSemitones","trFifths","fifths","transposeBy","addIntervals","add","subtract","interval","_","chromatic","lydian","major","mixolydian","dorian","aeolian","phrygian","locrian","altered","iwato","hirajoshi","kumoijoshi","pelog","prometheus","ritusen","scriabin","piongio","augmented","neopolitan","diminished","egyptian","oriental","spanish","flamenco","balinese","persian","bebop","enigmatic","ichikosucho","M13","M6","M69","M7add13","M7b5","M7b6","M7b9","M7sus4","M9","M9b5","M9sus4","Madd9","Maj7","Mb5","Mb6","Msus2","Msus4","Maddb9","m11","m11b5","m13","m6","m69","m7","m7add11","m7b5","m9","m9b5","mMaj7","mMaj7b6","mM9","mM9b6","mb6M7","mb6b9","o7","o7M7","oM7","sus24","madd4","madd9","chromas","modes","isChroma","intervals","isEqual","isSubsetOf","isSupersetOf","includes","parseInt","toString","pcset","chord","scale","combine","dictionary","keys","subsets","supersets","toScale","chords","modeNames","notes","exists","setnum","substring","note","Dictionary","PcSet","Chord","Scale","Distance","Interval","Note","hasOwnProperty","S","gain","mix","onPlay","onStop","midiOffset","init","playNotes","playKeys","getMidi","Instrument","__extends","setPrototypeOf","__proto__","constructor","create","duration","attack","decay","sustain","release","getVoice","createOscillator","createGain","frequency","oscNode","gainNode","lowestGain","adsr","Synthesizer","find","getPath","min","resolveChords","pattern","divisions","fraction","hasOff","invertInterval","smallestInterval","sine","triangle","square","sawtooth","linearRampToValueAtTime","setTargetAtTime","max","randomNumber","arraySum","randomElement","getTonalChord","offbeatReducer","minInterval","intervalMatrix","randomSynth","instrument","Musician","swing","measure","bass","crash","index","ride","hihat","playedNotes","playedPatterns","playedChords","intelligentVoicings","groove","noTonic","rollFactor","exact","playChord","arpeggio","ceil","getLastVoicing","getVoicing","tonic","set","kick","snare","playBass","getStep","buffers","samples","sources","loadSources","getBuffer","buffer","fetch","arrayBuffer","decodeAudioData","getSource","createBufferSource","getSources","hasLoaded","error","loadSource","playSounds","playSource","Sampler","setup","osc","trigger","setValueAtTime","exponentialRampToValueAtTime","Kick","noiseBuffer","sampleRate","createBuffer","getChannelData","noise","createBiquadFilter","noiseEnvelope","oscEnvelope","Snare","PlasticDrums","synth","count","fill","Metronome","piano","drums","setupMix","setupInstruments","pianist","bassist","drummer","metronome","Trio","__importStar","Band","Pianist","Drummer","Bassist","util","C1","Db1","D1","Eb1","E1","F1","Gb1","G1","Ab1","A1","Bb1","B1","C2","Db2","D2","Eb2","E2","F2","Gb2","G2","Ab2","A2","Bb2","B2","C3","Db3","D3","Eb3","E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5","A5","Bb5","B5","C6","Db6","D6","Eb6","E6","F6","Gb6","G6","Ab6","A6","Bb6","B6","C7","Db7","D7","Eb7","E7","F7","Gb7","G7","Ab7","A7","Bb7","B7","k","drumset","NAMES","accTypes","SHARPS","FLATS","REGEX","str","NO_NOTE","SEMI","properties","tokens","memo","fn","tuning","L2","L440","LETTERS","fillStr","numToStr","op","fromProps","baseNote","ref","sharps","pcs","sameAcc","useSharps","ascR","descR","times","arr","len","height","src","rnd","perm","pos","newPerm","IVL_TNL","IVL_STR","SIZES","TYPES","CLASSES","types","NO_IVL","qToAlt","altToQ","numToStep","ivl","undefined","IN","IQ","FIFTHS","fOcts","FIFTH_OCTS","encode","STEPS","unaltered","decode","encoder","encodeNote","noteProps","encodeIvl","iprops","tr","to","isDescending","decodeIvl","ivl1","ivl2","i1","i2","chr","pcsetNum","clen","normalize","binary","IVLS","s1","s2","raw","data","ivls","key","alias","allKeys","dict","sdata","cdata","NO_SCALE","memoize","nameOrTonic","tonics","inScale","isSuperset","isSubset","NO_CHORD","NUM_TYPES"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;QCmEgBlP,WAAAA;QA2QAC,WAAAA;AApVhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,IAAImZ,QAAQ,8CAA8CjZ,KAA9C,CAAoD,GAApD,CAAZ;;AAEA;;;;;;;;;;;AAWO,IAAIC,wBAAQ,UAAUiZ,QAAV,EAAoB;AAAE,SAAO,OAAOA,QAAP,KAAoB,QAApB,GAC1CD,MAAM/Y,KAAN,EAD0C,GAE1C+Y,MAAMla,MAAN,CAAa,UAAU/I,CAAV,EAAa;AACxB,QAAIiL,MAAMjL,EAAE,CAAF,KAAQ,GAAlB;AACA,WAAOkjB,SAASlc,OAAT,CAAiBiE,GAAjB,MAA0B,CAAC,CAAlC;AACD,GAHD,CAFmC;AAK9B,CALJ;;AAOP,IAAIkY,SAASlZ,MAAM,IAAN,CAAb;AACA,IAAImZ,QAAQnZ,MAAM,IAAN,CAAZ;AACA,IAAIoZ,QAAQ,iDAAZ;;AAEA;;;;;;;;;;;;;;;AAeO,SAASxZ,QA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","file":"demo.d88735c5.map","sourceRoot":"..","sourcesContent":["parcelRequire=function(e,r,n,t){var i=\"function\"==typeof parcelRequire&&parcelRequire,o=\"function\"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f=\"function\"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&\"string\"==typeof n)return o(n);var c=new Error(\"Cannot find module '\"+n+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=c:\"function\"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({\"hWfO\":[function(require,module,exports) {\n\nvar t,e,n=module.exports={};function r(){throw new Error(\"setTimeout has not been defined\")}function o(){throw new Error(\"clearTimeout has not been defined\")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t=\"function\"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{e=\"function\"==typeof clearTimeout?clearTimeout:o}catch(t){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title=\"browser\",n.browser=!0,n.env={},n.argv=[],n.version=\"\",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error(\"process.binding is not supported\")},n.cwd=function(){return\"/\"},n.chdir=function(t){throw new Error(\"process.chdir is not supported\")},n.umask=function(){return 0};\n},{}],\"7X4a\":[function(require,module,exports) {\nvar process = require(\"process\");\nvar t=require(\"process\"),e=\"undefined\"!=typeof window,i={toleranceLate:.1,toleranceEarly:.001},s=function(t,e,i){this.clock=t,this.func=i,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};s.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},s.prototype.repeat=function(t){if(0===t)throw new Error(\"delay cannot be 0\");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},s.prototype.tolerance=function(t){return\"number\"==typeof t.late&&(this.toleranceLate=t.late),\"number\"==typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},s.prototype.isRepeated=function(){return null!==this.repeatTime},s.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},s.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var i=t+e*(this.deadline-t);if(this.isRepeated())for(;this.clock.context.currentTime>=i-this.toleranceEarly;)i+=this.repeatTime;this.schedule(i)},s.prototype._execute=function(){!1!==this.clock._started&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn(\"event expired\")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},s.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var r=module.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||\"ScriptProcessorNode\",this.toleranceEarly=e.toleranceEarly||i.toleranceEarly,this.toleranceLate=e.toleranceLate||i.toleranceLate,this.context=t,this._events=[],this._started=!1};r.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},r.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},r.prototype.timeStretch=function(t,e,i){return e.forEach(function(e){e.timeStretch(t,i)}),e},r.prototype.start=function(){if(!1===this._started){var e=this;if(this._started=!0,this._events=[],\"ScriptProcessorNode\"===this.tickMethod){this._clockNode=this.context.createScriptProcessor(256,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){t.nextTick(function(){e._tick()})}}else if(\"manual\"!==this.tickMethod)throw new Error(\"invalid tickMethod \"+this.tickMethod)}},r.prototype.stop=function(){!0===this._started&&(this._started=!1,this._clockNode.disconnect())},r.prototype._tick=function(){for(var t=this._events.shift();t&&t._earliestTime<=this.context.currentTime;)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},r.prototype._createEvent=function(t,e){return new s(this,e,t)},r.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},r.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},r.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},r.prototype._indexByTime=function(t){for(var e,i=0,s=this._events.length;i<s;)e=Math.floor((i+s)/2),this._events[e]._earliestTime<t?i=e+1:s=e;return i},r.prototype._absTime=function(t){return t+this.context.currentTime},r.prototype._relTime=function(t){return t-this.context.currentTime};\n},{\"process\":\"hWfO\"}],\"f5ea\":[function(require,module,exports) {\nvar e=require(\"./lib/WAAClock\");module.exports=e,\"undefined\"!=typeof window&&(window.WAAClock=e);\n},{\"./lib/WAAClock\":\"7X4a\"}],\"hEkM\":[function(require,module,exports) {\n\"use strict\";var t=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var e=t(require(\"waaclock\")),i=function(){function t(t){void 0===t&&(t={}),this.defaults={bpm:120,cycle:4,delay:0},this.events=[],this.props=Object.assign({},this.defaults,t),this.context=this.props.context||new AudioContext,this.clock=this.props.clock||new e.default(this.context,{toleranceEarly:.1,toleranceLate:.1})}return t.prototype.getMeasureLength=function(t,e){return void 0===t&&(t=this.props.bpm),void 0===e&&(e=this.props.cycle),60/t*e},t.prototype.arrayPulse=function(t,e,i,r,n,s){var o=this;if(void 0===e&&(e=1),void 0===i&&(i=[]),void 0===r&&(r=0),!Array.isArray(t)){if(0===t)return 0;var c={value:t,length:e,path:i,start:r,pulse:this,cycle:this.props.cycle,timeout:null};return r+=this.props.delay,this.callbackAtTime?(r+=s||this.context.currentTime,c.timeout=this.clock.callbackAtTime(function(t){return n(Object.assign(c,{event:t,deadline:t.deadline}))},r)):(r+=(s||this.context.currentTime)-this.context.currentTime,c.timeout=this.clock.setTimeout(function(t){return n(Object.assign(c,{event:t,deadline:t.deadline}))},r)),this.events.push(c.timeout),c}var a=e/t.length;return{length:e,children:t.map(function(t,e){return o.arrayPulse(t,a,i.concat([e]),r+e*a,n,s)})}},t.prototype.tickArray=function(t,e,i,r){var n=this;t.push(1);var s=r||this.getMeasureLength()*t.length;return this.start(),new Promise(function(r,o){n.arrayPulse(t,s,[],0,function(i,n){i.path[0]===t.length-1?r(i):e(i,n)},i)})},t.prototype.start=function(){this.events.length>6e3&&console.warn(\"more than \",6e3,'events received. Consider using less \"times\" to keep the timing precies'),this.clock.start()},t.prototype.stop=function(){this.clock.stop()},t.prototype.changeTempo=function(t,e){var i=this;void 0===e&&(e=.2);var r=this.props.bpm/t;this.props.bpm=t;var n=this.events.filter(function(t){return t.deadline-i.context.currentTime>e});this.clock.timeStretch(this.context.currentTime,n,r)},t}();exports.Pulse=i;\n},{\"waaclock\":\"f5ea\"}],\"OKGr\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"./Pulse\"),e=function(){function e(t){var e=void 0===t?{}:t,s=e.context,n=e.musicians;this.defaults={cycle:4,division:3,transpose:0,style:\"Medium Swing\"},this.context=s||new AudioContext,this.musicians=n||[]}return e.prototype.ready=function(){return Promise.all([this.resume()].concat(this.musicians.map(function(t){return t.ready})))},e.prototype.resume=function(){var t=this;return this.context.resume().then(function(){return t.context})},e.prototype.comp=function(t,e){this.pulse&&this.pulse.stop(),e=Object.assign(this.defaults,e,{context:this.context}),t=t.map(function(t){return Array.isArray(t)?t:[t]}),this.play(t,e)},e.prototype.play=function(e,s){var n=this;this.ready().then(function(){n.pulse=s.pulse||new t.Pulse(s),n.musicians.forEach(function(t){return t.play({pulse:n.pulse,measures:e,settings:s})}),n.pulse.start()})},e}();exports.default=e;\n},{\"./Pulse\":\"hEkM\"}],\"W+c/\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.tokenize=u,exports.fromMidi=D;var t=\"C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B\".split(\" \"),r=exports.names=function(r){return\"string\"!=typeof r?t.slice():t.filter(function(t){var n=t[1]||\" \";return-1!==r.indexOf(n)})},n=r(\" #\"),e=r(\" b\"),o=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;function u(t){\"string\"!=typeof t&&(t=\"\");var r=o.exec(t);return r?[r[1].toUpperCase(),r[2].replace(/x/g,\"##\"),r[3],r[4]]:null}var l=Object.freeze({pc:null,name:null,step:null,alt:null,oct:null,octStr:null,chroma:null,midi:null,freq:null}),c=[0,2,4,5,7,9,11],i=function(t){var r=u(t);if(\"\"===r[0]||\"\"!==r[3])return l;var n=r[0],e=r[1],o=r[2],i={letter:n,acc:e,octStr:o};return i.pc=i.letter+i.acc,i.name=i.pc+o,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt=\"b\"===i.acc[0]?-i.acc.length:i.acc.length,i.oct=o.length?+o:null,i.chroma=(c[i.step]+i.alt+120)%12,i.midi=null!==i.oct?c[i.step]+i.alt+12*(i.oct+1):null,i.freq=x(i.midi),Object.freeze(i)},a=function(t,r){return void 0===r&&(r={}),function(n){return r[n]||(r[n]=t(n))}},f=exports.props=a(i),p=exports.name=function(t){return f(t).name},s=exports.pc=function(t){return f(t).pc},m=exports.midi=function(t){return f(t).midi||+t||null},x=exports.midiToFreq=function(t,r){return void 0===r&&(r=440),\"number\"==typeof t?Math.pow(2,(t-69)/12)*r:null},d=exports.freq=function(t){return f(t).freq||x(t)},h=Math.log(2),v=Math.log(440),b=exports.freqToMidi=function(t){var r=12*(Math.log(t)-v)/h+69;return Math.round(100*r)/100},g=exports.chroma=function(t){return f(t).chroma},M=exports.oct=function(t){return f(t).oct},A=\"CDEFGAB\",y=exports.stepToLetter=function(t){return A[t]},q=function(t,r){return Array(r+1).join(t)},j=function(t,r){return\"number\"!=typeof t?\"\":r(t)},C=exports.altToAcc=function(t){return j(t,function(t){return t<0?q(\"b\",-t):q(\"#\",t)})},G=exports.from=function(t,r){void 0===t&&(t={}),void 0===r&&(r=null);var n=r?Object.assign({},f(r),t):t,e=n.step,o=n.alt,u=n.oct,l=y(e);if(!l)return null;var c=l+C(o);return u||0===u?c+u:c},O=exports.build=G;function D(t,r){return t=Math.round(t),(!0===r?n:e)[t%12]+(Math.floor(t/12)-1)}var F=exports.simplify=function(t,r){var n=f(t),e=n.alt,o=n.chroma,u=n.midi;if(null===o)return null;var l=!1===r?e<0:e>0;return null===u?s(D(o,l)):D(u,l)},T=exports.enharmonic=function(t){return F(t,!1)};\n},{}],\"XBB2\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.permutations=exports.shuffle=exports.compact=void 0,exports.range=e,exports.rotate=o,exports.sort=c,exports.unique=a;var r=require(\"tonal-note\");function t(r,t){for(var n=[];t--;n[t]=t+r);return n}function n(r,t){for(var n=[];t--;n[t]=r-t);return n}function e(r,e){return null===r||null===e?[]:r<e?t(r,e-r+1):n(r,r-e+1)}function o(r,t){var n=t.length,e=(r%n+n)%n;return t.slice(e,n).concat(t.slice(0,e))}var u=exports.compact=function(r){return r.filter(function(r){return 0===r||r})},i=function(t){var n=(0,r.midi)(t);return null!==n?n:(0,r.midi)(t+\"-100\")};function c(t){return u(t.map(r.name)).sort(function(r,t){return i(r)>i(t)})}function a(r){return c(r).filter(function(r,t,n){return 0===t||r!==n[t-1]})}var f=exports.shuffle=function(r,t){var n,e;void 0===t&&(t=Math.random);for(var o=r.length;o;)n=t()*o--|0,e=r[o],r[o]=r[n],r[n]=e;return r},s=exports.permutations=function(r){return 0===r.length?[[]]:s(r.slice(1)).reduce(function(t,n){return t.concat(r.map(function(t,e){var o=n.slice();return o.splice(e,0,r[0]),o}))},[])};\n},{\"tonal-note\":\"W+c/\"}],\"JYnb\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.props=P;var t=\"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\",n=\"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\",e=new RegExp(\"^\"+t+\"|\"+n+\"$\"),r=[0,2,4,5,7,9,11],u=\"PMMPPMM\",o=[0,1,2,3,4,5,6,5,4,3,2,1],l=\"1P 2m 2M 3m 3M 4P 5P 6m 6M 7m 7M 8P\".split(\" \"),i=exports.names=function(t){return\"string\"!=typeof t?l.slice():l.filter(function(n){return-1!==t.indexOf(n[1])})},s=exports.tokenize=function(t){var n=e.exec(t);return null===n?null:n[1]?[n[1],n[2]]:[n[4],n[3]]},m=Object.freeze({name:null,num:null,q:null,step:null,alt:null,dir:null,type:null,simple:null,semitones:null,chroma:null}),a=function(t,n){return Array(Math.abs(n)+1).join(t)},p=function(t,n){return\"M\"===n&&\"M\"===t?0:\"P\"===n&&\"P\"===t?0:\"m\"===n&&\"M\"===t?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?\"P\"===t?-n.length:-n.length-1:null},c=function(t,n){return 0===n?\"M\"===t?\"M\":\"P\":-1===n&&\"M\"===t?\"m\":n>0?a(\"A\",n):n<0?a(\"d\",\"P\"===t?n:n+1):null},f=function(t){return(Math.abs(t)-1)%7},M=function(t){var n=s(t);if(null===n)return m;var e={num:+n[0],q:n[1]};return e.step=f(e.num),e.type=u[e.step],\"M\"===e.type&&\"P\"===e.q?m:(e.name=\"\"+e.num+e.q,e.dir=e.num<0?-1:1,e.simple=8===e.num||-8===e.num?e.num:e.dir*(e.step+1),e.alt=p(e.type,e.q),e.oct=Math.floor((Math.abs(e.num)-1)/7),e.semitones=e.dir*(r[e.step]+e.alt+12*e.oct),e.chroma=(e.dir*(r[e.step]+e.alt)%12+12)%12,Object.freeze(e))},d={};function P(t){return\"string\"!=typeof t?m:d[t]||(d[t]=M(t))}var v=exports.num=function(t){return P(t).num},x=exports.name=function(t){return P(t).name},h=exports.semitones=function(t){return P(t).semitones},y=exports.chroma=function(t){return P(t).chroma},b=exports.ic=function(t){return\"string\"==typeof t&&(t=P(t).chroma),\"number\"==typeof t?o[t%12]:null},g=exports.build=function(t){void 0===t&&(t={});var n=t.num,e=t.step,r=t.alt,o=t.oct;void 0===o&&(o=1);var l=t.dir;if(void 0!==e&&(n=e+1+7*o),void 0===n)return null;var i=l<0?\"-\":\"\",s=u[f(n)];return i+n+c(s,r)},A=exports.simplify=function(t){var n=P(t);return n===m?null:n.simple+n.q},q=exports.invert=function(t){var n=P(t);if(n===m)return null;var e=(7-n.step)%7,r=\"P\"===n.type?-n.alt:-(n.alt+1);return g({step:e,alt:r,oct:n.oct,dir:n.dir})},j=[1,2,2,3,3,4,5,5,6,6,7,7],O=\"P m M m M P d P m M m M\".split(\" \"),z=exports.fromSemitones=function(t){var n=t<0?-1:1,e=Math.abs(t),r=e%12,u=Math.floor(e/12);return n*(j[r]+7*u)+O[r]};\n},{}],\"9+ru\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.transpose=v,exports.trFifths=h,exports.fifths=d,exports.transposeBy=g,exports.addIntervals=b,exports.add=M,exports.subtract=q,exports.interval=y,exports.semitones=_;var n=require(\"tonal-note\"),r=require(\"tonal-interval\"),t=[0,2,4,-1,1,3,5],u=function(n){return Math.floor(7*n/12)},e=t.map(u),l=function(n){var r=n.step,u=n.alt,l=n.oct,o=n.dir;void 0===o&&(o=1);var i=t[r]+7*u;return null===l?[o*i]:[o*i,o*(l-e[r]-4*u)]},o=[3,0,4,1,5,2,6];function i(n){var r=(n+1)%7;return r<0?7+r:r}var f=function(n,r,t){var u=o[i(n)],l=Math.floor((n+1)/7);return void 0===r?{step:u,alt:l,dir:t}:{step:u,alt:l,oct:r+4*l+e[u],dir:t}},a=function(n,r){return void 0===r&&(r={}),function(t){return r[t]||(r[t]=n(t))}},c=function(n){return a(function(r){var t=n(r);return null===t.name?null:l(t)})},s=c(n.props),p=c(r.props);function v(r,t){if(1===arguments.length)return function(n){return v(r,n)};var u=s(r),e=p(t);if(null===u||null===e)return null;var l=1===u.length?[u[0]+e[0]]:[u[0]+e[0],u[1]+e[1]];return(0,n.build)(f(l[0],l[1]))}function h(r,t){if(1===arguments.length)return function(n){return h(r,n)};var u=s(r);return null===u?null:(0,n.build)(f(u[0]+t))}function d(n,r){if(1===arguments.length)return function(r){return d(n,r)};var t=s(n),u=s(r);return null===u||null===t?null:u[0]-t[0]}function g(n,r){return 1===arguments.length?function(r){return v(r,n)}:v(r,n)}var m=function(n){return 7*n[0]+12*n[1]<0},x=function(n){return m(n)?f(-n[0],-n[1],-1):f(n[0],n[1],1)};function b(n,t,u){var e=p(n),l=p(t);if(null===e||null===l)return null;var o=[e[0]+u*l[0],e[1]+u*l[1]];return(0,r.build)(x(o))}function M(n,r){return 1===arguments.length?function(r){return M(n,r)}:b(n,r,1)}function q(n,r){return 1===arguments.length?function(r){return M(n,r)}:b(n,r,-1)}function y(n,t){if(1===arguments.length)return function(r){return y(n,r)};var u=s(n),e=s(t);if(null===u||null===e||u.length!==e.length)return null;var l=1===u.length?[e[0]-u[0],-Math.floor(7*(e[0]-u[0])/12)]:[e[0]-u[0],e[1]-u[1]];return(0,r.build)(x(l))}function _(r,t){if(1===arguments.length)return function(n){return _(r,n)};var u=(0,n.props)(r),e=(0,n.props)(t);return null!==u.midi&&null!==e.midi?e.midi-u.midi:null!==u.chroma&&null!==e.chroma?(e.chroma-u.chroma+12)%12:null}\n},{\"tonal-note\":\"W+c/\",\"tonal-interval\":\"JYnb\"}],\"2NAS\":[function(require,module,exports) {\nmodule.exports={chromatic:[\"1P 2m 2M 3m 3M 4P 4A 5P 6m 6M 7m 7M\"],lydian:[\"1P 2M 3M 4A 5P 6M 7M\"],major:[\"1P 2M 3M 4P 5P 6M 7M\",[\"ionian\"]],mixolydian:[\"1P 2M 3M 4P 5P 6M 7m\",[\"dominant\"]],dorian:[\"1P 2M 3m 4P 5P 6M 7m\"],aeolian:[\"1P 2M 3m 4P 5P 6m 7m\",[\"minor\"]],phrygian:[\"1P 2m 3m 4P 5P 6m 7m\"],locrian:[\"1P 2m 3m 4P 5d 6m 7m\"],\"melodic minor\":[\"1P 2M 3m 4P 5P 6M 7M\"],\"melodic minor second mode\":[\"1P 2m 3m 4P 5P 6M 7m\"],\"lydian augmented\":[\"1P 2M 3M 4A 5A 6M 7M\"],\"lydian dominant\":[\"1P 2M 3M 4A 5P 6M 7m\",[\"lydian b7\"]],\"melodic minor fifth mode\":[\"1P 2M 3M 4P 5P 6m 7m\",[\"hindu\",\"mixolydian b6M\"]],\"locrian #2\":[\"1P 2M 3m 4P 5d 6m 7m\"],\"locrian major\":[\"1P 2M 3M 4P 5d 6m 7m\",[\"arabian\"]],altered:[\"1P 2m 3m 3M 5d 6m 7m\",[\"super locrian\",\"diminished whole tone\",\"pomeroy\"]],\"major pentatonic\":[\"1P 2M 3M 5P 6M\",[\"pentatonic\"]],\"lydian pentatonic\":[\"1P 3M 4A 5P 7M\",[\"chinese\"]],\"mixolydian pentatonic\":[\"1P 3M 4P 5P 7m\",[\"indian\"]],\"locrian pentatonic\":[\"1P 3m 4P 5d 7m\",[\"minor seven flat five pentatonic\"]],\"minor pentatonic\":[\"1P 3m 4P 5P 7m\"],\"minor six pentatonic\":[\"1P 3m 4P 5P 6M\"],\"minor hexatonic\":[\"1P 2M 3m 4P 5P 7M\"],\"flat three pentatonic\":[\"1P 2M 3m 5P 6M\",[\"kumoi\"]],\"flat six pentatonic\":[\"1P 2M 3M 5P 6m\"],\"major flat two pentatonic\":[\"1P 2m 3M 5P 6M\"],\"whole tone pentatonic\":[\"1P 3M 5d 6m 7m\"],\"ionian pentatonic\":[\"1P 3M 4P 5P 7M\"],\"lydian #5P pentatonic\":[\"1P 3M 4A 5A 7M\"],\"lydian dominant pentatonic\":[\"1P 3M 4A 5P 7m\"],\"minor #7M pentatonic\":[\"1P 3m 4P 5P 7M\"],\"super locrian pentatonic\":[\"1P 3m 4d 5d 7m\"],\"in-sen\":[\"1P 2m 4P 5P 7m\"],iwato:[\"1P 2m 4P 5d 7m\"],hirajoshi:[\"1P 2M 3m 5P 6m\"],kumoijoshi:[\"1P 2m 4P 5P 6m\"],pelog:[\"1P 2m 3m 5P 6m\"],\"vietnamese 1\":[\"1P 3m 4P 5P 6m\"],\"vietnamese 2\":[\"1P 3m 4P 5P 7m\"],prometheus:[\"1P 2M 3M 4A 6M 7m\"],\"prometheus neopolitan\":[\"1P 2m 3M 4A 6M 7m\"],ritusen:[\"1P 2M 4P 5P 6M\"],scriabin:[\"1P 2m 3M 5P 6M\"],piongio:[\"1P 2M 4P 5P 6M 7m\"],\"major blues\":[\"1P 2M 3m 3M 5P 6M\"],\"minor blues\":[\"1P 3m 4P 5d 5P 7m\",[\"blues\"]],\"composite blues\":[\"1P 2M 3m 3M 4P 5d 5P 6M 7m\"],augmented:[\"1P 2A 3M 5P 5A 7M\"],\"augmented heptatonic\":[\"1P 2A 3M 4P 5P 5A 7M\"],\"dorian #4\":[\"1P 2M 3m 4A 5P 6M 7m\"],\"lydian diminished\":[\"1P 2M 3m 4A 5P 6M 7M\"],\"whole tone\":[\"1P 2M 3M 4A 5A 7m\"],\"leading whole tone\":[\"1P 2M 3M 4A 5A 7m 7M\"],\"harmonic minor\":[\"1P 2M 3m 4P 5P 6m 7M\"],\"lydian minor\":[\"1P 2M 3M 4A 5P 6m 7m\"],neopolitan:[\"1P 2m 3m 4P 5P 6m 7M\"],\"neopolitan minor\":[\"1P 2m 3m 4P 5P 6m 7M\"],\"neopolitan major\":[\"1P 2m 3m 4P 5P 6M 7M\",[\"dorian b2\"]],\"neopolitan major pentatonic\":[\"1P 3M 4P 5d 7m\"],\"romanian minor\":[\"1P 2M 3m 5d 5P 6M 7m\"],\"double harmonic lydian\":[\"1P 2m 3M 4A 5P 6m 7M\"],diminished:[\"1P 2M 3m 4P 5d 6m 6M 7M\"],\"harmonic major\":[\"1P 2M 3M 4P 5P 6m 7M\"],\"double harmonic major\":[\"1P 2m 3M 4P 5P 6m 7M\",[\"gypsy\"]],egyptian:[\"1P 2M 4P 5P 7m\"],\"hungarian minor\":[\"1P 2M 3m 4A 5P 6m 7M\"],\"hungarian major\":[\"1P 2A 3M 4A 5P 6M 7m\"],oriental:[\"1P 2m 3M 4P 5d 6M 7m\"],spanish:[\"1P 2m 3M 4P 5P 6m 7m\",[\"phrygian major\"]],\"spanish heptatonic\":[\"1P 2m 3m 3M 4P 5P 6m 7m\"],flamenco:[\"1P 2m 3m 3M 4A 5P 7m\"],balinese:[\"1P 2m 3m 4P 5P 6m 7M\"],\"todi raga\":[\"1P 2m 3m 4A 5P 6m 7M\"],\"malkos raga\":[\"1P 3m 4P 6m 7m\"],\"kafi raga\":[\"1P 3m 3M 4P 5P 6M 7m 7M\"],\"purvi raga\":[\"1P 2m 3M 4P 4A 5P 6m 7M\"],persian:[\"1P 2m 3M 4P 5d 6m 7M\"],bebop:[\"1P 2M 3M 4P 5P 6M 7m 7M\"],\"bebop dominant\":[\"1P 2M 3M 4P 5P 6M 7m 7M\"],\"bebop minor\":[\"1P 2M 3m 3M 4P 5P 6M 7m\"],\"bebop major\":[\"1P 2M 3M 4P 5P 5A 6M 7M\"],\"bebop locrian\":[\"1P 2m 3m 4P 5d 5P 6m 7m\"],\"minor bebop\":[\"1P 2M 3m 4P 5P 6m 7m 7M\"],\"mystery #1\":[\"1P 2m 3M 5d 6m 7m\"],enigmatic:[\"1P 2m 3M 5d 6m 7m 7M\"],\"minor six diminished\":[\"1P 2M 3m 4P 5P 6m 6M 7M\"],\"ionian augmented\":[\"1P 2M 3M 4P 5A 6M 7M\"],\"lydian #9\":[\"1P 2m 3M 4A 5P 6M 7M\"],ichikosucho:[\"1P 2M 3M 4P 5d 5P 6M 7M\"],\"six tone symmetric\":[\"1P 2m 3M 4P 5A 6M\"]};\n},{}],\"2Fez\":[function(require,module,exports) {\nmodule.exports={4:[\"1P 4P 7m 10m\",[\"quartal\"]],64:[\"5P 8P 10M\"],5:[\"1P 5P\"],M:[\"1P 3M 5P\",[\"Major\",\"\"]],\"M#5\":[\"1P 3M 5A\",[\"augmented\",\"maj#5\",\"Maj#5\",\"+\",\"aug\"]],\"M#5add9\":[\"1P 3M 5A 9M\",[\"+add9\"]],M13:[\"1P 3M 5P 7M 9M 13M\",[\"maj13\",\"Maj13\"]],\"M13#11\":[\"1P 3M 5P 7M 9M 11A 13M\",[\"maj13#11\",\"Maj13#11\",\"M13+4\",\"M13#4\"]],M6:[\"1P 3M 5P 13M\",[\"6\"]],\"M6#11\":[\"1P 3M 5P 6M 11A\",[\"M6b5\",\"6#11\",\"6b5\"]],M69:[\"1P 3M 5P 6M 9M\",[\"69\"]],\"M69#11\":[\"1P 3M 5P 6M 9M 11A\"],\"M7#11\":[\"1P 3M 5P 7M 11A\",[\"maj7#11\",\"Maj7#11\",\"M7+4\",\"M7#4\"]],\"M7#5\":[\"1P 3M 5A 7M\",[\"maj7#5\",\"Maj7#5\",\"maj9#5\",\"M7+\"]],\"M7#5sus4\":[\"1P 4P 5A 7M\"],\"M7#9#11\":[\"1P 3M 5P 7M 9A 11A\"],M7add13:[\"1P 3M 5P 6M 7M 9M\"],M7b5:[\"1P 3M 5d 7M\"],M7b6:[\"1P 3M 6m 7M\"],M7b9:[\"1P 3M 5P 7M 9m\"],M7sus4:[\"1P 4P 5P 7M\"],M9:[\"1P 3M 5P 7M 9M\",[\"maj9\",\"Maj9\"]],\"M9#11\":[\"1P 3M 5P 7M 9M 11A\",[\"maj9#11\",\"Maj9#11\",\"M9+4\",\"M9#4\"]],\"M9#5\":[\"1P 3M 5A 7M 9M\",[\"Maj9#5\"]],\"M9#5sus4\":[\"1P 4P 5A 7M 9M\"],M9b5:[\"1P 3M 5d 7M 9M\"],M9sus4:[\"1P 4P 5P 7M 9M\"],Madd9:[\"1P 3M 5P 9M\",[\"2\",\"add9\",\"add2\"]],Maj7:[\"1P 3M 5P 7M\",[\"maj7\",\"M7\"]],Mb5:[\"1P 3M 5d\"],Mb6:[\"1P 3M 13m\"],Msus2:[\"1P 2M 5P\",[\"add9no3\",\"sus2\"]],Msus4:[\"1P 4P 5P\",[\"sus\",\"sus4\"]],Maddb9:[\"1P 3M 5P 9m\"],7:[\"1P 3M 5P 7m\",[\"Dominant\",\"Dom\"]],9:[\"1P 3M 5P 7m 9M\",[\"79\"]],11:[\"1P 5P 7m 9M 11P\"],13:[\"1P 3M 5P 7m 9M 13M\",[\"13_\"]],\"11b9\":[\"1P 5P 7m 9m 11P\"],\"13#11\":[\"1P 3M 5P 7m 9M 11A 13M\",[\"13+4\",\"13#4\"]],\"13#9\":[\"1P 3M 5P 7m 9A 13M\",[\"13#9_\"]],\"13#9#11\":[\"1P 3M 5P 7m 9A 11A 13M\"],\"13b5\":[\"1P 3M 5d 6M 7m 9M\"],\"13b9\":[\"1P 3M 5P 7m 9m 13M\"],\"13b9#11\":[\"1P 3M 5P 7m 9m 11A 13M\"],\"13no5\":[\"1P 3M 7m 9M 13M\"],\"13sus4\":[\"1P 4P 5P 7m 9M 13M\",[\"13sus\"]],\"69#11\":[\"1P 3M 5P 6M 9M 11A\"],\"7#11\":[\"1P 3M 5P 7m 11A\",[\"7+4\",\"7#4\",\"7#11_\",\"7#4_\"]],\"7#11b13\":[\"1P 3M 5P 7m 11A 13m\",[\"7b5b13\"]],\"7#5\":[\"1P 3M 5A 7m\",[\"+7\",\"7aug\",\"aug7\"]],\"7#5#9\":[\"1P 3M 5A 7m 9A\",[\"7alt\",\"7#5#9_\",\"7#9b13_\"]],\"7#5b9\":[\"1P 3M 5A 7m 9m\"],\"7#5b9#11\":[\"1P 3M 5A 7m 9m 11A\"],\"7#5sus4\":[\"1P 4P 5A 7m\"],\"7#9\":[\"1P 3M 5P 7m 9A\",[\"7#9_\"]],\"7#9#11\":[\"1P 3M 5P 7m 9A 11A\",[\"7b5#9\"]],\"7#9#11b13\":[\"1P 3M 5P 7m 9A 11A 13m\"],\"7#9b13\":[\"1P 3M 5P 7m 9A 13m\"],\"7add6\":[\"1P 3M 5P 7m 13M\",[\"67\",\"7add13\"]],\"7b13\":[\"1P 3M 7m 13m\"],\"7b5\":[\"1P 3M 5d 7m\"],\"7b6\":[\"1P 3M 5P 6m 7m\"],\"7b9\":[\"1P 3M 5P 7m 9m\"],\"7b9#11\":[\"1P 3M 5P 7m 9m 11A\",[\"7b5b9\"]],\"7b9#9\":[\"1P 3M 5P 7m 9m 9A\"],\"7b9b13\":[\"1P 3M 5P 7m 9m 13m\"],\"7b9b13#11\":[\"1P 3M 5P 7m 9m 11A 13m\",[\"7b9#11b13\",\"7b5b9b13\"]],\"7no5\":[\"1P 3M 7m\"],\"7sus4\":[\"1P 4P 5P 7m\",[\"7sus\"]],\"7sus4b9\":[\"1P 4P 5P 7m 9m\",[\"susb9\",\"7susb9\",\"7b9sus\",\"7b9sus4\",\"phryg\"]],\"7sus4b9b13\":[\"1P 4P 5P 7m 9m 13m\",[\"7b9b13sus4\"]],\"9#11\":[\"1P 3M 5P 7m 9M 11A\",[\"9+4\",\"9#4\",\"9#11_\",\"9#4_\"]],\"9#11b13\":[\"1P 3M 5P 7m 9M 11A 13m\",[\"9b5b13\"]],\"9#5\":[\"1P 3M 5A 7m 9M\",[\"9+\"]],\"9#5#11\":[\"1P 3M 5A 7m 9M 11A\"],\"9b13\":[\"1P 3M 7m 9M 13m\"],\"9b5\":[\"1P 3M 5d 7m 9M\"],\"9no5\":[\"1P 3M 7m 9M\"],\"9sus4\":[\"1P 4P 5P 7m 9M\",[\"9sus\"]],m:[\"1P 3m 5P\"],\"m#5\":[\"1P 3m 5A\",[\"m+\",\"mb6\"]],m11:[\"1P 3m 5P 7m 9M 11P\",[\"_11\"]],\"m11A 5\":[\"1P 3m 6m 7m 9M 11P\"],m11b5:[\"1P 3m 7m 12d 2M 4P\",[\"h11\",\"_11b5\"]],m13:[\"1P 3m 5P 7m 9M 11P 13M\",[\"_13\"]],m6:[\"1P 3m 4P 5P 13M\",[\"_6\"]],m69:[\"1P 3m 5P 6M 9M\",[\"_69\"]],m7:[\"1P 3m 5P 7m\",[\"minor7\",\"_\",\"_7\"]],\"m7#5\":[\"1P 3m 6m 7m\"],m7add11:[\"1P 3m 5P 7m 11P\",[\"m7add4\"]],m7b5:[\"1P 3m 5d 7m\",[\"half-diminished\",\"h7\",\"_7b5\"]],m9:[\"1P 3m 5P 7m 9M\",[\"_9\"]],\"m9#5\":[\"1P 3m 6m 7m 9M\"],m9b5:[\"1P 3m 7m 12d 2M\",[\"h9\",\"-9b5\"]],mMaj7:[\"1P 3m 5P 7M\",[\"mM7\",\"_M7\"]],mMaj7b6:[\"1P 3m 5P 6m 7M\",[\"mM7b6\"]],mM9:[\"1P 3m 5P 7M 9M\",[\"mMaj9\",\"-M9\"]],mM9b6:[\"1P 3m 5P 6m 7M 9M\",[\"mMaj9b6\"]],mb6M7:[\"1P 3m 6m 7M\"],mb6b9:[\"1P 3m 6m 9m\"],o:[\"1P 3m 5d\",[\"mb5\",\"dim\"]],o7:[\"1P 3m 5d 13M\",[\"diminished\",\"m6b5\",\"dim7\"]],o7M7:[\"1P 3m 5d 6M 7M\"],oM7:[\"1P 3m 5d 7M\"],sus24:[\"1P 2M 4P 5P\",[\"sus4add9\"]],\"+add#9\":[\"1P 3M 5A 9A\"],madd4:[\"1P 3m 4P 5P\"],madd9:[\"1P 3m 5P 9M\"]};\n},{}],\"Hkza\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.chroma=i,exports.chromas=a,exports.modes=f,exports.isChroma=l,exports.intervals=m,exports.isEqual=h,exports.isSubsetOf=x,exports.isSupersetOf=v,exports.includes=g,exports.filter=d;var r=require(\"tonal-note\"),n=require(\"tonal-interval\"),t=require(\"tonal-array\"),e=function(t){return(0,r.chroma)(t)||(0,n.chroma)(t)||0},u=function(r){return parseInt(i(r),2)},o=function(r){return r.replace(/0/g,\"\").length};function i(r){if(l(r))return r;if(!Array.isArray(r))return\"\";var n=[0,0,0,0,0,0,0,0,0,0,0,0];return r.map(e).forEach(function(r){n[r]=1}),n.join(\"\")}var c=null;function a(r){return c=c||(0,t.range)(2048,4095).map(function(r){return r.toString(2)}),\"number\"==typeof r?c.filter(function(n){return o(n)===r}):c.slice()}function f(r,n){n=!1!==n;var e=i(r).split(\"\");return(0,t.compact)(e.map(function(r,u){var o=(0,t.rotate)(u,e);return n&&\"0\"===o[0]?null:o.join(\"\")}))}var s=/^[01]{12}$/;function l(r){return s.test(r)}var p=\"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\".split(\" \");function m(r){return l(r)?(0,t.compact)(r.split(\"\").map(function(r,n){return\"1\"===r?p[n]:null})):[]}function h(r,n){return 1===arguments.length?function(n){return h(r,n)}:i(r)===i(n)}function x(r,n){return arguments.length>1?x(r)(n):(r=u(r),function(n){return(n=u(n))!==r&&(n&r)===n})}function v(r,n){return arguments.length>1?v(r)(n):(r=u(r),function(n){return(n=u(n))!==r&&(n|r)===n})}function g(r,n){return arguments.length>1?g(r)(n):(r=i(r),function(n){return\"1\"===r[e(n)]})}function d(r,n){return 1===arguments.length?function(n){return d(r,n)}:n.filter(g(r))}\n},{\"tonal-note\":\"W+c/\",\"tonal-interval\":\"JYnb\",\"tonal-array\":\"XBB2\"}],\"5SFq\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.pcset=exports.chord=exports.scale=exports.combine=exports.dictionary=void 0;var e=require(\"./data/scales.json\"),r=s(e),t=require(\"./data/chords.json\"),n=s(t),o=require(\"tonal-pcset\");function s(e){return e&&e.__esModule?e:{default:e}}var c=exports.dictionary=function(e){var r=Object.keys(e).sort(),t=[],n=[],s=function(e,r,o){t[e]=r,n[o]=n[o]||[],n[o].push(e)};r.forEach(function(r){var t=e[r][0].split(\" \"),n=e[r][1],c=(0,o.chroma)(t);s(r,t,c),n&&n.forEach(function(e){return s(e,t,c)})});var c=Object.keys(t).sort(),u=function(e){return t[e]};return u.names=function(e){return\"string\"==typeof e?(n[e]||[]).slice():(!0===e?c:r).slice()},u},u=exports.combine=function(e,r){var t=function(t){return e(t)||r(t)};return t.names=function(t){return e.names(t).concat(r.names(t))},t},a=exports.scale=c(r.default),i=exports.chord=c(n.default),p=exports.pcset=u(a,i);\n},{\"./data/scales.json\":\"2NAS\",\"./data/chords.json\":\"2Fez\",\"tonal-pcset\":\"Hkza\"}],\"lYMn\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.subsets=exports.supersets=exports.toScale=exports.chords=exports.modeNames=exports.intervals=exports.names=exports.props=void 0,exports.notes=p,exports.exists=f,exports.tokenize=m;var e=require(\"tonal-note\"),r=require(\"tonal-pcset\"),t=require(\"tonal-distance\"),n=require(\"tonal-dictionary\"),s=require(\"tonal-array\"),o=Object.freeze({name:null,intervals:[],names:[],chroma:null,setnum:null}),a=function(e){var t=(0,n.scale)(e);if(!t)return o;var s={intervals:t,name:e};return s.chroma=(0,r.chroma)(t),s.setnum=parseInt(s.chroma,2),s.names=n.scale.names(s.chroma),Object.freeze(s)},u=function(e,r){return function(t){return r[t]||(r[t]=e(t))}},i=exports.props=u(a,{}),c=exports.names=n.scale.names,l=exports.intervals=function(e){var r=m(e);return i(r[1]).intervals};function p(e,r){var n=m(e);return r=r||n[1],l(r).map((0,t.transpose)(n[0]))}function f(e){var r=m(e);return void 0!==(0,n.scale)(r[1])}function m(r){if(\"string\"!=typeof r)return[\"\",\"\"];var t=r.indexOf(\" \"),n=(0,e.name)(r.substring(0,t))||(0,e.name)(r)||\"\",s=\"\"!==n?r.substring(n.length+1):r;return[n,s.length?s:\"\"]}var v=exports.modeNames=function(e){var t=l(e),s=p(e);return(0,r.modes)(t).map(function(e,r){var o=n.scale.names(e)[0];if(o)return[s[r]||t[r],o]}).filter(function(e){return e})},x=exports.chords=function(e){var t=(0,r.isSubsetOf)(l(e));return n.chord.names().filter(function(e){return t((0,n.chord)(e))})},d=exports.toScale=function(r){var t=(0,s.compact)(r.map(e.pc));if(!t.length)return t;var n=t[0],o=(0,s.unique)(t);return(0,s.rotate)(o.indexOf(n),o)},h=exports.supersets=function(e){if(!l(e).length)return[];var t=(0,r.isSupersetOf)(l(e));return n.scale.names().filter(function(e){return t((0,n.scale)(e))})},b=exports.subsets=function(e){var t=(0,r.isSubsetOf)(l(e));return n.scale.names().filter(function(e){return t((0,n.scale)(e))})};\n},{\"tonal-note\":\"W+c/\",\"tonal-pcset\":\"Hkza\",\"tonal-distance\":\"9+ru\",\"tonal-dictionary\":\"5SFq\",\"tonal-array\":\"XBB2\"}],\"bRH8\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.subsets=exports.supersets=exports.exists=exports.intervals=exports.props=exports.names=void 0,exports.notes=p,exports.tokenize=x;var e=require(\"tonal-note\"),r=require(\"tonal-distance\"),t=require(\"tonal-dictionary\"),n=require(\"tonal-pcset\"),s=exports.names=t.chord.names,o=Object.freeze({name:null,names:[],intervals:[],chroma:null,setnum:null}),u=function(e){var r=(0,t.chord)(e);if(!r)return o;var s={intervals:r,name:e};return s.chroma=(0,n.chroma)(r),s.setnum=parseInt(s.chroma,2),s.names=t.chord.names(s.chroma),s},a=function(e,r){return void 0===r&&(r={}),function(t){return r[t]||(r[t]=e(t))}},i=exports.props=a(u),c=exports.intervals=function(e){return i(x(e)[1]).intervals};function p(e,t){var n=x(e);return t=t||n[1],i(t).intervals.map((0,r.transpose)(n[0]))}var l=exports.exists=function(e){return void 0!==(0,t.chord)(x(e)[1])},f=exports.supersets=function(e){if(!c(e).length)return[];var r=(0,n.isSupersetOf)(c(e));return t.chord.names().filter(function(e){return r((0,t.chord)(e))})},m=exports.subsets=function(e){var r=(0,n.isSubsetOf)(c(e));return t.chord.names().filter(function(e){return r((0,t.chord)(e))})},v=/^(6|64|7|9|11|13)$/;function x(r){var t=(0,e.tokenize)(r);return\"\"===t[0]?[\"\",r]:\"A\"===t[0]&&\"ug\"===t[3]?[\"\",\"aug\"]:v.test(t[2])?[t[0]+t[1],t[2]+t[3]]:[t[0]+t[1]+t[2],t[3]]}\n},{\"tonal-note\":\"W+c/\",\"tonal-distance\":\"9+ru\",\"tonal-dictionary\":\"5SFq\",\"tonal-pcset\":\"Hkza\"}],\"PUgG\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.scale=exports.chord=exports.freq=exports.midi=exports.note=exports.interval=exports.transpose=exports.Dictionary=exports.PcSet=exports.Chord=exports.Scale=exports.Distance=exports.Interval=exports.Note=exports.Array=void 0;var e=require(\"tonal-array\"),r=f(e),t=require(\"tonal-note\"),o=f(t),s=require(\"tonal-interval\"),p=f(s),a=require(\"tonal-distance\"),n=f(a),i=require(\"tonal-dictionary\"),x=f(i),l=require(\"tonal-scale\"),c=f(l),u=require(\"tonal-chord\"),d=f(u),q=require(\"tonal-pcset\"),v=f(q);function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}exports.Array=r,exports.Note=o,exports.Interval=p,exports.Distance=n,exports.Scale=c,exports.Chord=d,exports.PcSet=v,exports.Dictionary=x;const y=exports.transpose=n.transpose,h=exports.interval=n.interval,D=exports.note=o.props,P=exports.midi=o.midi,S=exports.freq=o.freq,_=exports.chord=x.chord,m=exports.scale=x.scale;\n},{\"tonal-array\":\"XBB2\",\"tonal-note\":\"W+c/\",\"tonal-interval\":\"JYnb\",\"tonal-distance\":\"9+ru\",\"tonal-dictionary\":\"5SFq\",\"tonal-scale\":\"lYMn\",\"tonal-chord\":\"bRH8\",\"tonal-pcset\":\"Hkza\"}],\"XZf0\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"../util\"),i=function(){function i(t){var i=void 0===t?{}:t,n=i.context,e=i.gain,o=i.mix,s=i.onPlay,a=i.onStop,r=i.midiOffset;this.midiOffset=0,this.gain=1,this.onPlay=s,this.midiOffset=r||this.midiOffset,this.onStop=a,this.gain=e||this.gain,this.init({context:n,mix:o})}return i.prototype.init=function(t){var i=t.context,n=t.mix;i||n&&n.context?(this.context=i||n.context,this.mix=n||this.context.destination):console.warn(\"you should pass a context or a mix (gainNode) to a new Instrument. \\n            You can also Call init with {context,mix} to setup the Instrument later\")},i.prototype.playNotes=function(i,n){var e=this;this.playKeys(i.map(function(i){return t.getMidi(i,e.midiOffset)}),n)},i.prototype.playKeys=function(t,i){if(this.onPlay)return this.onPlay(t)},i}();exports.Instrument=i;\n},{\"../util\":\"BHXf\"}],\"uWN9\":[function(require,module,exports) {\n\"use strict\";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./Instrument\"),n=require(\"tonal\"),i=require(\"../util\"),a=function(e){function a(t){var n=e.call(this,t)||this;return n.duration=200,n.type=\"sine\",n.gain=.9,n.attack=.05,n.decay=.05,n.sustain=.4,n.release=.1,n.duration=t.duration||n.duration,n.type=t.type||n.type,n.gain=t.gain||n.gain,n}return t(a,e),a.prototype.init=function(t){e.prototype.init.call(this,t)},a.prototype.getVoice=function(t,e,n){void 0===t&&(t=\"sine\"),void 0===e&&(e=0),void 0===n&&(n=440);var i=this.context.createOscillator();i.type=t;var a=this.context.createGain();return i.connect(a),a.gain.value=\"number\"==typeof e?e:.8,a.connect(this.mix),i.frequency.value=n,{oscNode:i,gainNode:a}},a.prototype.lowestGain=function(t,e){return t.gain.gain.value<e.gain.gain.value?-1:0},a.prototype.playKeys=function(t,a){var r=this;void 0===a&&(a={}),e.prototype.playKeys.call(this,t,a);var o=a.deadline||this.context.currentTime,c=a.interval||0;t.map(function(t,e){var s=e*c,u=[a.attack||r.attack,a.decay||r.decay,a.sustain||r.sustain,a.release||r.release,(a.duration||r.duration)/1e3,(a.gain||1)*r.gain],p=u[0],y=u[1],l=u[2],d=u[3],v=u[4],f=u[5],g=r.getVoice(r.type,0,n.Note.freq(t));i.adsr({attack:p,decay:y,sustain:l,release:d,gain:f,duration:v},o+s,g.gainNode.gain),g.oscNode.start(a.deadline+s)})},a}(e.Instrument);exports.Synthesizer=a;\n},{\"./Instrument\":\"XZf0\",\"tonal\":\"PUgG\",\"../util\":\"BHXf\"}],\"BHXf\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"tonal\"),r=require(\"./instruments/Synthesizer\");function e(t){return Math.floor(Math.random()*t)}function n(t){return t.reduce(function(t,r){return t+r},0)}function a(t,r){if(!r)return t[e(t.length)];var a=e(n(r))+1,i=r.reduce(function(t,r,e){return t.concat(r+(t.length?t[e-1]:0))},[]);return t[i.indexOf(i.find(function(t,r){return t>=a}))]}function i(r){r=r.replace(\"-\",\"m\").replace(\"^\",\"M\").replace(\"h7\",\"m7b5\").replace(\"h\",\"dim\");var e=t.Chord.tokenize(r),n=e[1].split(\"/\");return e[0]+(n[0]||\"M\")}function o(r,e){return t.Note.props(r).midi-e}function s(t,r,e){return void 0===e&&(e=[]),Array.isArray(r[t[0]])&&1!==t.length?this.getPath(t.slice(1),r[t[0]],e.concat(t[0])):r[Math.min(t[0],r.length-1)]}function u(t,r,e,n){var a=this;if(void 0===n&&(n=[]),Array.isArray(t))return n=[].concat(n,[t.length]),t.map(function(t,i){return a.resolveChords(t,r,e.concat([i]),n)});if(0===t)return 0;var i=t*n.reduce(function(t,r){return t/r},1e3);return 0===i&&console.warn(\"fraction is 0\",t),{chord:this.getPath(e,r),pattern:t,path:e,divisions:n,fraction:i}}function c(t,r){return void 0===r&&(r=3),Array.isArray(t)&&t.length===r&&0!==t[r-1]}function l(t){var r=this;return function(e,n,a){var i=a>0?e[a-1]:null;return i&&r.hasOff(i[t.cycle-1],t.division)&&(i[t.cycle-1][t.division-1]=n[0],n[0]=0),e.concat([n])}}function f(r){return t.Interval.semitones(r)<0?t.Interval.invert(r.slice(1)):\"-\"+t.Interval.invert(r)}function v(r){\"0A\"===(r=t.Interval.simplify(r))&&(r=\"1P\");var e=this.invertInterval(r);return Math.abs(t.Interval.semitones(e))<Math.abs(t.Interval.semitones(r))?e:r||\"\"}function h(r,e,n){var a=[Math.abs(t.Interval.semitones(r)),Math.abs(t.Interval.semitones(e))];return a[0]===a[1]?n?a[0]<0?-1:1:a[0]>0?-1:1:a[0]<a[1]?-1:1}function m(r,e){var n=this;return e.map(function(e){return r.map(function(r){return t.Distance.interval(r,e)}).map(function(t){return n.smallestInterval(t)}).map(function(t){return\"--\"===t.slice(0,2)?t.slice(1):t})})}function p(t,e){void 0===e&&(e=[\"sine\",\"triangle\",\"square\",\"sawtooth\"]);var n=a(e);return new r.Synthesizer({gain:{sine:.9,triangle:.8,square:.2,sawtooth:.3}[n],type:n,mix:t})}function d(t,r,e){var n=t.attack,a=t.decay,i=t.sustain,o=t.release,s=t.gain,u=t.duration;e.linearRampToValueAtTime(s,r+n),e.setTargetAtTime(i*s,r+Math.min(n+a,u),a),e.setTargetAtTime(0,r+Math.max(u-n-a,n+a,u),o)}exports.randomNumber=e,exports.arraySum=n,exports.randomElement=a,exports.getTonalChord=i,exports.getMidi=o,exports.getPath=s,exports.resolveChords=u,exports.hasOff=c,exports.offbeatReducer=l,exports.invertInterval=f,exports.smallestInterval=v,exports.minInterval=h,exports.intervalMatrix=m,exports.randomSynth=p,exports.adsr=d;\n},{\"tonal\":\"PUgG\",\"./instruments/Synthesizer\":\"uWN9\"}],\"I2+J\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function e(e){e||console.warn(\"musician has no instrument\",this),this.instrument=e,this.ready=this.instrument?this.instrument.ready:Promise.resolve()}return e.prototype.play=function(e){var t=e.pulse,s=e.measures,n=e.settings;console.log(\"play..\",t,s,n)},e}();exports.Musician=e;\n},{}],\"F3aX\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../util\");exports.swing={chords:function(n){var r=n.measure,t=n.settings,u=function(){return e.randomElement([0,[0,0,2]],[6,1])},a=Math.random()>.5?.6:0,o=t.cycle+\"/\"+r.length;return\"4/1\"===o?e.randomElement([[[1,0],[0,0,7],0,0],[1,[0,0,2],0,u()],[[0,0,1],0,2,0],[[0,0,4],0,1,0],[2,0,0,0],[3,0,0,0],[1,0,a,u()],[[0,0,2],0,a,0],[1.5,[0,0,2],0,u()]]):\"4/2\"===o?e.randomElement([[[1,0],[0,0,7],0,0],[1,[0,0,2],0,0],[1,0,2,0],[2,0,1,0],[1,0,.7,u()],[[1,0,0],0,.7,u()],[[4,0,0],[0,0,2.8],0,u()]]):\"4/3\"===o?[1,[0,0,2],[0,0,4],0]:e.randomElement([[1,1,1,1],[[1,0,2],[0,0,2],0,1]])},bass:function(){return e.randomElement([[1,1,1,1]])},crash:function(e){var n=e.measures,r=e.index;return 0!==r&&r%n.length==0?[4,0,0,0]:[0,0,0,0]},ride:function(n){n.measures,n.index;return e.randomElement([[.6,[.9,0,1],.6,[.9,0,1]],[.6,[.4,0,1],.8,[0,0,1]],[.6,.9,[.6,0,1],1],[.6,.9,.6,[.9,0,1]]],[3,2,1,2])},hihat:function(){return[0,.8,0,1]}};\n},{\"../util\":\"BHXf\"}],\"Dn4f\":[function(require,module,exports) {\n\"use strict\";var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"tonal\"),n=require(\"tonal\"),r=require(\"../util\"),i=require(\"./Musician\"),o=require(\"../grooves/swing\"),a=function(i){function a(e,t){void 0===t&&(t={});var n=i.call(this,e)||this;return n.playedNotes=[],n.playedPatterns=[],n.playedChords=[],n.defaults={intelligentVoicings:!0,groove:o.swing,noTonic:!0},n.min=Math.min,n.rollFactor=3,n.props=Object.assign({},n.defaults,t||{}),n}return e(a,i),a.prototype.play=function(e){var t=this,n=e.pulse,i=e.measures,o=e.settings,a=(o.groove||this.defaults.groove).chords;if(a){var s=n.getMeasureLength();if(o.exact)return n.tickArray(i,function(e){t.playChord(e.value,{deadline:e.deadline+o.delay})});i=i.map(function(e){return a({measures:i,pulse:n,measure:e,settings:o}).slice(0,Math.floor(o.cycle))}).map(function(e,t){return r.resolveChords(e,i,[t])}).reduce(r.offbeatReducer(o),[]),n.tickArray(i,function(e){var n=e.path,r=e.value,i=e.deadline,a=o.bpm/(t.rollFactor||1),l=o.arpeggio?s/o.cycle:Math.random()/(20*a);n[0]%2!=0||n[1]||n[2]||(l=Math.random()/a);var c=o.arpeggio?l:r.fraction*s,u=o.arpeggio?Math.ceil(r.fraction/1e3*4):null,p=r.gain||t.instrument.gain;t.playChord(r.chord,{deadline:i,gain:p,duration:c,interval:l,slice:u})},o.deadline)}else console.warn(\"style has no chords..\")},a.prototype.getLastVoicing=function(){return this.playedNotes.length?this.playedNotes[this.playedNotes.length-1]:null},a.prototype.getVoicing=function(e,n,i){if(!n)return e;var o=r.intervalMatrix(n,e).map(function(e,i){var o=[].concat(e).sort(function(e,t){return r.minInterval(e,t,!1)})[0];return t.Distance.transpose(n[e.indexOf(o)],o)||console.warn(\"ALARM\",n[e.indexOf(o)],o,e),t.Distance.transpose(n[e.indexOf(o)],o)}).filter(function(e){return!!e});return o&&o.length?o:e},a.prototype.playNotes=function(e,t){var n=t.tonic,r=t.deadline,i=t.interval,o=t.gain,a=t.duration;this.props.intelligentVoicings&&this.getLastVoicing()&&(e=this.getVoicing(e,this.getLastVoicing(),n)),this.playedNotes.push([].concat(e)),this.instrument.playNotes(e,{deadline:r,interval:i,gain:o,duration:a})},a.prototype.playChord=function(e,i){if(\"N.C.\"!==e){e&&\"x\"!==e||(e=this.playedChords[this.playedChords.length-1]),this.playedChords.push(e),e=n.Chord.tokenize(r.getTonalChord(e));var o=n.Chord.intervals(e[1]).map(function(e){return e.replace(\"13\",\"6\")}).map(function(n){return t.Distance.transpose(e[0]+\"3\",n)});o.length>3&&i.noTonic&&(o=o.slice(this.props.noTonic?1:0)),i.slice&&(o=o.slice(0,i.slice?i.slice:o.length)),this.playNotes(o,i)}else console.log(\"N.C.\")},a}(i.Musician);exports.default=a;\n},{\"tonal\":\"PUgG\",\"../util\":\"BHXf\",\"./Musician\":\"I2+J\",\"../grooves/swing\":\"F3aX\"}],\"Hr6C\":[function(require,module,exports) {\n\"use strict\";var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"./Musician\"),r=require(\"../grooves/swing\"),n=function(t){function n(e){var n=t.call(this,e)||this;return n.set={kick:0,snare:1,hihat:2,ride:3,crash:4},n.defaults={groove:r.swing},n}return e(n,t),n.prototype.play=function(e){var t=this,r=e.measures,n=e.pulse,i=e.settings,o=i.groove||this.defaults.groove;Object.keys(o).filter(function(e){return Object.keys(t.set).includes(e)}).forEach(function(e){var s=r.map(function(t,s){return o[e]({measures:r,index:s,measure:t,settings:i,pulse:n}).slice(0,Math.floor(i.cycle))});n.tickArray(s,function(r){var n=r.deadline,i=r.value;t.instrument.playKeys([t.set[e]],{deadline:n,gain:i})},i.deadline)})},n}(t.Musician);exports.default=n;\n},{\"./Musician\":\"I2+J\",\"../grooves/swing\":\"F3aX\"}],\"IXiI\":[function(require,module,exports) {\n\"use strict\";var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"../util\"),r=require(\"./Musician\"),n=require(\"tonal\"),o=require(\"../grooves/swing\"),s=function(r){function s(e){var t=r.call(this,e)||this;return t.defaults={groove:o.swing},t.playedChords=[],t}return e(s,r),s.prototype.play=function(e){var r=this,n=e.measures,o=e.pulse,s=e.settings,i=(s.groove||this.defaults.groove).bass;n=n.map(function(e){return i({measures:n,measure:e,settings:s,pulse:o}).slice(0,Math.floor(s.cycle))}).map(function(e,r){return t.resolveChords(e,n,[r])}),o.tickArray(n,function(e){r.playBass(e,n,o)},s.deadline)},s.prototype.getStep=function(e,r,o){void 0===o&&(o=1);var s=n.Chord.tokenize(t.getTonalChord(r)),i=n.Chord.intervals(s[1]).find(function(t){return parseInt(t[0])===e});return n.Distance.transpose(s[0]+o,i)},s.prototype.playBass=function(e,r,n){var o=e.value,s=(e.cycle,e.path),i=e.deadline,a=e.interval,u=o.chord;if(\"N.C.\"!==u){var l;u&&\"x\"!==u||(u=this.playedChords[this.playedChords.length-1]),this.playedChords.push(u);var p=[1,t.randomElement([3,5]),1,t.randomElement([3,5])];l=1===o.value&&u.split(\"/\").length>1?u.split(\"/\")[1]+1:this.getStep(p[s[1]],t.getTonalChord(u),1);var c=o.fraction*n.getMeasureLength();this.instrument.playNotes([l],{deadline:i,interval:a,gain:.7,duration:c})}},s}(r.Musician);exports.default=s;\n},{\"../util\":\"BHXf\",\"./Musician\":\"I2+J\",\"tonal\":\"PUgG\",\"../grooves/swing\":\"F3aX\"}],\"bsa5\":[function(require,module,exports) {\n\"use strict\";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./Instrument\"),n=require(\"../util\"),r=function(e){function r(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.buffers={},n.duration=1e4,n.type=\"sine\",n.gain=1,n.attack=0,n.decay=0,n.sustain=1,n.release=.2,n.gain=t.gain||n.gain,n.gainNode=n.context.createGain(),n.gainNode.connect(n.context.destination),n.duration=t.duration||n.duration,t.samples&&(n.sources=t.samples,n.ready=n.loadSources(t.samples)),n}return t(r,e),r.prototype.getBuffer=function(t,e){var n=this;return void 0===e&&(e=this.context),this.buffers[t]&&this.buffers[t].context===e?Promise.resolve(this.buffers[t].buffer):fetch(t).then(function(t){return t.arrayBuffer()}).then(function(r){return new Promise(function(o,i){e.decodeAudioData(r,function(r){n.buffers[t]={buffer:r,context:e},o(r)})})})},r.prototype.getSource=function(t,e){var n=this.context.createBufferSource();return e=e||this.gainNode,n.buffer=t,n.connect(e),n},r.prototype.getSources=function(t,e){var n=this;return void 0===e&&(e=this.context),this.hasLoaded(t)?t.map(function(t){return n.getSource(n.buffers[t].buffer)}):(console.error(\"not all sources loaded!!!\"),[])},r.prototype.loadSource=function(t,e){var n=this;return void 0===e&&(e=this.context),this.getBuffer(t,e).then(function(t){return n.getSource(t)})},r.prototype.loadSources=function(t,e){var n=this;return void 0===e&&(e=this.context),t.forEach(function(t,e){t||console.warn(\"note at index \"+e+\" cannot be played!\")}),Promise.all(t.filter(function(t){return!!t}).map(function(t){return n.loadSource(t,e)}))},r.prototype.hasLoaded=function(t,e){var n=this;return void 0===e&&(e=this.context),t.reduce(function(t,r){return t&&n.buffers[r]&&n.buffers[r].context===e},!0)},r.prototype.playSounds=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),t.forEach(function(t,r){return t.start(e+n*r)})},r.prototype.playSource=function(t,e){var r=this.context.createGain(),o=this.getSource(this.buffers[t].buffer,r),i=[e.attack||this.attack,e.decay||this.decay,e.sustain||this.sustain,e.release||this.release,(e.duration||this.duration)/1e3,(e.gain||1)*this.gain],u=i[0],a=i[1],s=i[2],c=i[3],f=i[4],d=i[5],p=e.deadline||this.context.currentTime;r.connect(this.mix),n.adsr({attack:u,decay:a,sustain:s,release:c,gain:d,duration:f},p,r.gain),this.playSounds([o],e.deadline||0,0)},r.prototype.playKeys=function(t,n){var r=this;e.prototype.playKeys.call(this,t,n),t.map(function(t){r.playSource(r.sources[t],n)})},r}(e.Instrument);exports.Sampler=r;\n},{\"./Instrument\":\"XZf0\",\"../util\":\"BHXf\"}],\"7tBp\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var t=function(){function t(t){this.context=t}return t.prototype.setup=function(){this.osc=this.context.createOscillator(),this.gain=this.context.createGain(),this.osc.connect(this.gain),this.gain.connect(this.context.destination)},t.prototype.trigger=function(t){this.setup(),this.osc.frequency.setValueAtTime(150,t),this.gain.gain.setValueAtTime(1,t),this.osc.frequency.exponentialRampToValueAtTime(.01,t+.5),this.gain.gain.exponentialRampToValueAtTime(.01,t+.5),this.osc.start(t),this.osc.stop(t+.5)},t}();exports.Kick=t;\n},{}],\"Ad3Q\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=function(){function e(e){this.context=e}return e.prototype.noiseBuffer=function(){for(var e=this.context.sampleRate,t=this.context.createBuffer(1,e,this.context.sampleRate),s=t.getChannelData(0),n=0;n<e;n++)s[n]=2*Math.random()-1;return t},e.prototype.setup=function(){this.noise=this.context.createBufferSource(),this.noise.buffer=this.noiseBuffer();var e=this.context.createBiquadFilter();e.type=\"highpass\",e.frequency.value=1e3,this.noise.connect(e),this.noiseEnvelope=this.context.createGain(),e.connect(this.noiseEnvelope),this.noiseEnvelope.connect(this.context.destination),this.osc=this.context.createOscillator(),this.osc.type=\"triangle\",this.oscEnvelope=this.context.createGain(),this.osc.connect(this.oscEnvelope),this.oscEnvelope.connect(this.context.destination)},e.prototype.trigger=function(e){this.setup(),this.noiseEnvelope.gain.setValueAtTime(1,e),this.noiseEnvelope.gain.exponentialRampToValueAtTime(.01,e+.2),this.noise.start(e),this.osc.frequency.setValueAtTime(100,e),this.oscEnvelope.gain.setValueAtTime(.7,e),this.oscEnvelope.gain.exponentialRampToValueAtTime(.01,e+.1),this.osc.start(e),this.osc.stop(e+.2),this.noise.stop(e+.2)},e}();exports.Snare=e;\n},{}],\"+ZT4\":[function(require,module,exports) {\n\"use strict\";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./Instrument\"),r=require(\"./Kick\"),n=require(\"./Snare\"),o=function(e){function o(t){var o=e.call(this,t)||this;return o.keys=[new r.Kick(o.context),new n.Snare(o.context)],o}return t(o,e),o.prototype.playKeys=function(t,e){var r=this,n=e.deadline,o=(e.gain,e.value,t.filter(function(t){return!!r.keys[t]}).map(function(t){return r.keys[t]}));if(o.length<t.length){var i=t.filter(function(t){return!r.keys[t]});console.warn(\"PlasticDrums missing keys:\",i)}o.forEach(function(t){return t.trigger(n)})},o}(e.Instrument);exports.PlasticDrums=o;\n},{\"./Instrument\":\"XZf0\",\"./Kick\":\"7tBp\",\"./Snare\":\"Ad3Q\"}],\"t9V7\":[function(require,module,exports) {\n\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"./instruments/Synthesizer\"),t=function(){function t(t){this.synth=new e.Synthesizer({type:\"sine\",gain:1,mix:t}),this.ready=this.synth.ready}return t.prototype.count=function(e,t){var r=this;void 0===t&&(t=1);var n=new Array(t).fill([new Array(e.props.cycle).fill(1)]);return e.tickArray(n,function(e){var t=e.path,n=e.deadline;r.synth.playKeys([0===t[2]?90:78],{deadline:n,duration:.01,attack:.01,release:.01,decay:.01,sustain:1})})},t}();exports.Metronome=t;\n},{\"./instruments/Synthesizer\":\"uWN9\"}],\"I96A\":[function(require,module,exports) {\n\"use strict\";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,\"__esModule\",{value:!0});var n=require(\"./util\"),r=e(require(\"./Band\")),i=e(require(\"./musicians/Pianist\")),s=e(require(\"./musicians/Bassist\")),u=e(require(\"./musicians/Drummer\")),o=require(\"./instruments/PlasticDrums\"),a=require(\"./Metronome\"),p=require(\"./Pulse\"),c=function(e){function r(t){var n=t.context,r=t.piano,o=t.bass,p=t.drums,c=e.call(this,{context:n})||this;c.mix=c.setupMix(c.context);var m=c.setupInstruments({piano:r,bass:o,drums:p});return c.pianist=new i.default(m.piano),c.bassist=new s.default(m.bass),c.drummer=new u.default(m.drums),c.musicians=[c.pianist,c.bassist,c.drummer],c.metronome=new a.Metronome(c.mix),c}return t(r,e),r.prototype.setupMix=function(t){var e=t.createGain();return e.gain.value=.9,e.connect(t.destination),e},r.prototype.setupInstruments=function(t){var e=t.piano,r=t.bass,i=t.drums;return r=r||n.randomSynth(this.mix),{piano:e=e||n.randomSynth(this.mix),bass:r,drums:i=i||new o.PlasticDrums({mix:this.mix})}},r.prototype.play=function(t,n){var r=this;return this.pulse=n.pulse||new p.Pulse(n),this.count(this.pulse,n.metronome?null:0).then(function(i){n.deadline=i.deadline,e.prototype.play.call(r,t,n)})},r.prototype.count=function(t,e){return void 0===e&&(e=1),t.getMeasureLength()<1.5&&(e*=2),this.metronome.count(t,e)},r}(r.default);exports.Trio=c;\n},{\"./util\":\"BHXf\",\"./Band\":\"OKGr\",\"./musicians/Pianist\":\"Dn4f\",\"./musicians/Bassist\":\"IXiI\",\"./musicians/Drummer\":\"Hr6C\",\"./instruments/PlasticDrums\":\"+ZT4\",\"./Metronome\":\"t9V7\",\"./Pulse\":\"hEkM\"}],\"7QCb\":[function(require,module,exports) {\n\"use strict\";var r=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var s in r)Object.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e.default=r,e};Object.defineProperty(exports,\"__esModule\",{value:!0});var s=r(require(\"./Band\"));exports.Band=s.default;var t=r(require(\"./musicians/Pianist\"));exports.Pianist=t.default;var i=r(require(\"./musicians/Drummer\"));exports.Drummer=i.default;var u=r(require(\"./musicians/Bassist\"));exports.Bassist=u.default;var a=require(\"./instruments/Instrument\");exports.Instrument=a.Instrument;var n=require(\"./musicians/Musician\");exports.Musician=n.Musician;var l=require(\"./instruments/Synthesizer\");exports.Synthesizer=l.Synthesizer;var o=require(\"./instruments/Sampler\");exports.Sampler=o.Sampler;var m=require(\"./instruments/PlasticDrums\");exports.PlasticDrums=m.PlasticDrums;var p=require(\"./Trio\");exports.Trio=p.Trio;var c=e(require(\"./util\"));exports.util=c;var v=require(\"./Pulse\");exports.Pulse=v.Pulse;\n},{\"./Band\":\"OKGr\",\"./musicians/Pianist\":\"Dn4f\",\"./musicians/Drummer\":\"Hr6C\",\"./musicians/Bassist\":\"IXiI\",\"./instruments/Instrument\":\"XZf0\",\"./musicians/Musician\":\"I2+J\",\"./instruments/Synthesizer\":\"uWN9\",\"./instruments/Sampler\":\"bsa5\",\"./instruments/PlasticDrums\":\"+ZT4\",\"./Trio\":\"I96A\",\"./util\":\"BHXf\",\"./Pulse\":\"hEkM\"}]},{},[\"7QCb\"], null)\n//# sourceMappingURL=/index.map","// extension of https://github.com/daumling/ireal-renderer/blob/master/src/ireal-renderer.js\n\nexport class RealParser {\n    /**\n     * The RegExp for a complete chord. The match array contains:\n     * 1 - the base note\n     * 2 - the modifiers (+-ohd0123456789 and su for sus)\n     * 3 - any comments (may be e.g. add, sub, or private stuff)\n     * 4 - the \"over\" part starting with a slash\n     * 5 - the top chord as (chord)\n     * @type RegExp\n     */\n\n    chordRegex = /^([ A-GW][b#]?)((?:sus|[\\+\\-\\^\\dhob#])*)(\\*.+?\\*)*(\\/[A-G][#b]?)?(\\(.*?\\))?/;\n\n    regExps = [\n        /^\\*[a-zA-Z]/,\t\t\t\t\t\t\t// section\n        /^T\\d\\d/,\t\t\t\t\t\t\t\t// time measurement\n        /^N./,\t\t\t\t\t\t\t\t\t// repeat marker\n        /^<.*?>/,\t\t\t\t\t\t\t\t// comments\n        /^ \\(.*?\\)/,\t\t\t\t\t\t\t// blank and (note)\n        this.chordRegex,\t\t\t\t// chords\n        /^LZ/,\t\t\t\t\t\t\t\t\t// 1 cell + right bar\n        /^XyQ/,\t\t\t\t\t\t\t\t\t// 3 empty cells\n        /^Kcl/\t\t\t\t\t\t\t\t\t// repeat last bar\n    ];\n\n    replacements = {\n        \"LZ\": [\" \", \"|\"],\n        \"XyQ\": [\" \", \" \", \" \"],\n        \"Kcl\": [\"|\", \"x\", \" \"]\n    };\n    raw: string;\n    sections: any; //chords json\n    bars: any;\n    tokens: any;\n\n    constructor(raw, times = 3) {\n        this.raw = raw;\n        this.tokens = this.parse(raw);\n        this.sections = this.getSections(this.tokens);\n        //this.bars = parsed.out;\n        this.bars = this.renderSong(this.sections, times);\n        return raw;\n    }\n\n    renderSong(sections = this.sections, times = 1) {\n        let bars = [];\n        console.log('times', times);\n        for (let i = 1; i <= times; ++i) {\n            bars = bars.concat(this.getBars(sections, { first: i === 1, last: i === times }));\n        }\n        return bars;\n    }\n\n    getBars(sections = this.sections, { first, last }, repeated = []) {\n        return sections.filter(s => first || s.section !== 'i')\n            .reduce((current, section, sectionIndex) => {\n                let endings = [].concat(section.endings);\n                if (repeated.find(r => r[0] === section.section)) {\n                    endings = endings.slice(1);\n                    //console.log('already repeated that section..');\n                }\n                if (endings.length) {\n                    current.bars = current.bars.concat(section.bars.concat(endings[0]));\n                    if (section.jumpToCoda) {\n                        console.warn('CODA in section with endings... not implemented yet..');\n                    }\n                } else {\n                    let sectionBars = [].concat(section.bars)\n                    if (section.jumpToCoda && last) {\n                        console.log('jumpToCoda', section.jumpToCoda, sectionBars);\n                        sectionBars = sectionBars.slice(0, section.jumpToCoda);\n                        if (section.repeats) {\n                            console.warn('ALARM: jumpToCoda in section with repeats.. not implemented yet..')\n                            // TODO: support jumpToCoda in section with repeats\n                        }\n                    }\n                    current.bars = current.bars.concat(sectionBars);\n                }\n                if (section.repeats.length) { // splice repeats\n                    //console.log('repeats', section.repeats);\n                    section.repeats.forEach((repeat, index) => {\n                        if (repeat[0] !== null) {\n                            current.repeatStart = [sectionIndex, repeat[0]];\n                        }\n                        const skip = !!repeated.find(r => r[0] === section.section && r[1] === repeat[1]);\n                        if (repeat[1] && !skip) {\n                            if (!current.repeatStart) { // if no { at start.. see lover man\n                                console.log('no repeat start found', repeat);\n                                current.repeatStart = [0, 0];\n                            }\n                            const repeatedSections = sections.slice(current.repeatStart[0], sectionIndex + 1);\n                            repeated.push([section.section, repeat[1]])\n                            /* console.log('repeated sections', repeatedSections); */\n                            const insert = this.getBars(repeatedSections, { first, last }, repeated);\n                            /* console.log('insert', insert); */\n                            current.bars = current.bars.concat(insert);\n                        }\n                    })\n                }\n                return current;\n            }, { bars: [], repeatStart: null, repeatEnd: null }).bars\n            .reduce((b, bar) => {\n                if (bar.length === 1 && bar[0] === 'r') {\n                    b = b.concat(['x', 'x']);\n                } else {\n                    b.push(bar);\n                }\n                return b;\n            }, []);\n    }\n\n\n    getSections(tokens) {\n        return tokens.reduce((current, token, index) => {\n\n            // not working correctly: \n            // \"Pretty Girl Is Like A Melody, A\" => bar with \"/\"\n            // current token has barline => end current.bar\n\n            // beginning of new section\n            const sectionStart = token.annots.find(annotation => annotation.match(/^\\*[a-zA-Z]/));\n            const codaSign = token.annots.includes('Q');\n            const segnioSign = token.annots.includes('S'); // TODO: add segnio\n            const codaJump = codaSign && current.section.jumpToCoda === null;\n            const codaStart = codaSign && !codaJump;\n            const houseStart = token.annots.find(annotation => annotation.match(/^N./));\n            const lastToken = index === tokens.length - 1;\n\n            // new bar\n            if (['{', '|', '[', 'Z', '||', ']'].includes(token.bars || token.token)) {\n                //if (!current.bar.length && (!sectionStart || codaStart)) {\n                // current.bar = ['N.C.']; // TODO: write N.C. directly when parsing\n                //}\n                if (current.bar.length) {\n                    //current.out.push(current.bar);\n                    if (current.section) {\n                        (current.house || current.section.bars).push(current.bar);\n                    }\n                    current.bar = [];\n                }\n            }\n            // sectionSign or second coda sign\n            if (sectionStart || codaStart || lastToken) {\n                if (current.section) {\n                    if (current.house) {\n                        current.section.endings.push(current.house);\n                        current.house = null;\n                    }\n                    current.sections.push(current.section);\n                }\n                delete current.section;\n            }\n            // either first bar without section name or new section sign\n            if (!current.section) {// && !lastToken\n                current.section = {\n                    section: codaStart ? 'coda' : (sectionStart || '').replace('*', '') || 'A',\n                    bars: [],\n                    repeats: [],\n                    endings: [],\n                    jumpToCoda: null,\n                    annotations: {}\n                };\n            }\n            const barIndex = current.section.bars.length + (current.house || []).length;\n            if (codaJump) {\n                current.section.jumpToCoda = barIndex;\n            }\n            // beginning of house\n            if (houseStart) {\n                if (current.house) {\n                    current.section.endings.push(current.house);\n                    current.house = null;\n                }\n                current.house = [];\n            }\n\n            if (token.chord) {\n                current.bar.push(token.chord.note + token.chord.modifiers);\n                //current.bar.push(token);\n            }\n            if (token.annots.length) {\n                current.section.annotations[barIndex] = token.annots;\n            }\n            if (token.bars === '{') {\n                current.section.repeats.push([barIndex]);\n            }\n            if (token.bars === '}' || token.token === '}') { // see lover man: bars is empty but token is }\n                if (current.section.repeats.length && current.section.repeats[current.section.repeats.length - 1]) {\n                    current.section.repeats[current.section.repeats.length - 1].push(barIndex);\n                } else {\n                    console.warn('end loop without start in section');\n                    current.section.repeats.push([null, barIndex]);\n                }\n            }\n            return current;\n        }, { /* out: [], */ sections: [], house: null, bar: [], section: null }).sections;\n    }\n\n    parse(raw: string): any {\n        var text = raw;\n        var arr = [], headers = [], comments = [];\n        var i;\n        text = text.trim();\n        // text = text.trimRight();\n        while (text) {\n            var found = false;\n            for (i = 0; i < this.regExps.length; i++) {\n                var match = this.regExps[i].exec(text);\n\n                if (match) {\n                    found = true;\n                    if (match.length <= 2) {\n                        const replacement = match[0];\n                        var repl = this.replacements[replacement];\n                        arr = arr.concat(repl ? repl : [replacement]);\n                        text = text.substr(replacement.length);\n                    }\n                    else { // a chord\n                        arr.push(match);\n                        text = text.substr(match[0].length);\n                    }\n                    break;\n                }\n            }\n            if (!found) {\n                // ignore the comma separator\n                if (text[0] !== ',')\n                    arr.push(text[0]);\n                text = text.substr(1);\n            }\n        }\n        //\t\tconsole.log(arr);\n        // pass 2: extract prefixes, suffixes, annotations and comments\n        var out = [];\n        var obj = this.newToken(out);\n        for (i = 0; i < arr.length; i++) {\n            var token = arr[i];\n            if (token instanceof Array) {\n                obj.chord = this.parseChord(token);\n                token = \" \";\n            }\n            switch (token[0]) {\n                case ',': token = null; break; // separator\n                case 'S':\t// segno\n                case 'T':\t// time measurement\n                case 'Q':\t// coda\n                case 'N':\t// repeat\n                case 'U':\t// END\n                case 's':\t// small\n                case 'l':\t// normal\n                case 'f':\t// fermata\n                case '*': obj.annots.push(token); token = null; break;\n                case 'Y': obj.spacer++; token = null; break;\n                case 'r':\n                case 'x':\n                case 'W':\n                    obj.chord = new iRealChord(token, \"\", null, null);\n                    break;\n                case '<':\n                    token = token.substr(1, token.length - 2);\n                    token = token.replace(/XyQ/g, \"   \");\t// weird; needs to be done\n                    obj.comments.push(token);\n                    token = null; break;\n                default:\n            }\n            if (token) {\n                if (\"]}Z\".indexOf(arr[i + 1]) >= 0)\n                    obj.bars += arr[++i];\n                if (\"{[|\".indexOf(token) >= 0) {\n                    obj.bars += token; token = null;\n                }\n            }\n            if (token && i < arr.length - 1) {\n                obj.token = token;\n                obj = this.newToken(out);\n            }\n        }\n        return out;\n    }\n\n\n\n    parseChord(match) {\n        var note = match[1] || \" \";\n        var modifiers = match[2] || \"\";\n        var comment = match[3] || \"\";\n        if (comment)\n            modifiers += comment.substr(1, comment.length - 2).replace(\"XyQ\", \"   \");\n        var over = match[4] || \"\";\n        if (over[0] === '/')\n            over = over.substr(1);\n        var alternate = match[5] || null;\n        if (alternate) {\n            match = this.chordRegex.exec(alternate.substr(1, alternate.length - 2));\n            if (!match)\n                alternate = null;\n            else\n                alternate = this.parseChord(match);\n        }\n        // empty cell?\n        if (note === \" \" && !alternate && !over)\n            return null;\n        if (over) {\n            var offset = (over[1] === '#' || over[1] === 'b') ? 2 : 1;\n            over = new iRealChord(over.substr(0, offset), over.substr(offset), null, null);\n        }\n        else\n            over = null;\n        return new iRealChord(note, modifiers, over, alternate);\n    }\n\n    newToken(arr) {\n        var obj = new iRealToken;\n        arr.push(obj);\n        return obj;\n    }\n\n}\n\nclass iRealChord {\n    note: any;\n    modifiers: any;\n    over: any;\n    alternate: any;\n    constructor(note, modifiers, over, alternate) {\n        this.note = note;\n        this.modifiers = modifiers;\n        this.over = over;\n        this.alternate = alternate;\n    }\n}\n\nclass iRealToken {\n    chord: any;\n    spacer: number;\n    bars: string;\n    comments: any[];\n    token: any;\n    annots: any[];\n    constructor() {\n        this.annots = [];\n        this.comments = [];\n        this.bars = \"\";\n        this.spacer = 0;\n        this.chord = null;\n    }\n}","import C1 from \"./piano/C1.mp3\";\nimport Db1 from \"./piano/Db1.mp3\";\nimport D1 from \"./piano/D1.mp3\";\nimport Eb1 from \"./piano/Eb1.mp3\";\nimport E1 from \"./piano/E1.mp3\";\nimport F1 from \"./piano/F1.mp3\";\nimport Gb1 from \"./piano/Gb1.mp3\";\nimport G1 from \"./piano/G1.mp3\";\nimport Ab1 from \"./piano/Ab1.mp3\";\nimport A1 from \"./piano/A1.mp3\";\nimport Bb1 from \"./piano/Bb1.mp3\";\nimport B1 from \"./piano/B1.mp3\";\nimport C2 from \"./piano/C2.mp3\";\nimport Db2 from \"./piano/Db2.mp3\";\nimport D2 from \"./piano/D2.mp3\";\nimport Eb2 from \"./piano/Eb2.mp3\";\nimport E2 from \"./piano/E2.mp3\";\nimport F2 from \"./piano/F2.mp3\";\nimport Gb2 from \"./piano/Gb2.mp3\";\nimport G2 from \"./piano/G2.mp3\";\nimport Ab2 from \"./piano/Ab2.mp3\";\nimport A2 from \"./piano/A2.mp3\";\nimport Bb2 from \"./piano/Bb2.mp3\";\nimport B2 from \"./piano/B2.mp3\";\nimport C3 from \"./piano/C3.mp3\";\nimport Db3 from \"./piano/Db3.mp3\";\nimport D3 from \"./piano/D3.mp3\";\nimport Eb3 from \"./piano/Eb3.mp3\";\nimport E3 from \"./piano/E3.mp3\";\nimport F3 from \"./piano/F3.mp3\";\nimport Gb3 from \"./piano/Gb3.mp3\";\nimport G3 from \"./piano/G3.mp3\";\nimport Ab3 from \"./piano/Ab3.mp3\";\nimport A3 from \"./piano/A3.mp3\";\nimport Bb3 from \"./piano/Bb3.mp3\";\nimport B3 from \"./piano/B3.mp3\";\nimport C4 from \"./piano/C4.mp3\";\nimport Db4 from \"./piano/Db4.mp3\";\nimport D4 from \"./piano/D4.mp3\";\nimport Eb4 from \"./piano/Eb4.mp3\";\nimport E4 from \"./piano/E4.mp3\";\nimport F4 from \"./piano/F4.mp3\";\nimport Gb4 from \"./piano/Gb4.mp3\";\nimport G4 from \"./piano/G4.mp3\";\nimport Ab4 from \"./piano/Ab4.mp3\";\nimport A4 from \"./piano/A4.mp3\";\nimport Bb4 from \"./piano/Bb4.mp3\";\nimport B4 from \"./piano/B4.mp3\";\nimport C5 from \"./piano/C5.mp3\";\nimport Db5 from \"./piano/Db5.mp3\";\nimport D5 from \"./piano/D5.mp3\";\nimport Eb5 from \"./piano/Eb5.mp3\";\nimport E5 from \"./piano/E5.mp3\";\nimport F5 from \"./piano/F5.mp3\";\nimport Gb5 from \"./piano/Gb5.mp3\";\nimport G5 from \"./piano/G5.mp3\";\nimport Ab5 from \"./piano/Ab5.mp3\";\nimport A5 from \"./piano/A5.mp3\";\nimport Bb5 from \"./piano/Bb5.mp3\";\nimport B5 from \"./piano/B5.mp3\";\nimport C6 from \"./piano/C6.mp3\";\nimport Db6 from \"./piano/Db6.mp3\";\nimport D6 from \"./piano/D6.mp3\";\nimport Eb6 from \"./piano/Eb6.mp3\";\nimport E6 from \"./piano/E6.mp3\";\nimport F6 from \"./piano/F6.mp3\";\nimport Gb6 from \"./piano/Gb6.mp3\";\nimport G6 from \"./piano/G6.mp3\";\nimport Ab6 from \"./piano/Ab6.mp3\";\nimport A6 from \"./piano/A6.mp3\";\nimport Bb6 from \"./piano/Bb6.mp3\";\nimport B6 from \"./piano/B6.mp3\";\nimport C7 from \"./piano/C7.mp3\";\nimport Db7 from \"./piano/Db7.mp3\";\nimport D7 from \"./piano/D7.mp3\";\nimport Eb7 from \"./piano/Eb7.mp3\";\nimport E7 from \"./piano/E7.mp3\";\nimport F7 from \"./piano/F7.mp3\";\nimport Gb7 from \"./piano/Gb7.mp3\";\nimport G7 from \"./piano/G7.mp3\";\nimport Ab7 from \"./piano/Ab7.mp3\";\nimport A7 from \"./piano/A7.mp3\";\nimport Bb7 from \"./piano/Bb7.mp3\";\nimport B7 from \"./piano/B7.mp3\";\n\nexport const piano = [\n    C1,\n    Db1,\n    D1,\n    Eb1,\n    E1,\n    F1,\n    Gb1,\n    G1,\n    Ab1,\n    A1,\n    Bb1,\n    B1,\n    C2,\n    Db2,\n    D2,\n    Eb2,\n    E2,\n    F2,\n    Gb2,\n    G2,\n    Ab2,\n    A2,\n    Bb2,\n    B2,\n    C3,\n    Db3,\n    D3,\n    Eb3,\n    E3,\n    F3,\n    Gb3,\n    G3,\n    Ab3,\n    A3,\n    Bb3,\n    B3,\n    C4,\n    Db4,\n    D4,\n    Eb4,\n    E4,\n    F4,\n    Gb4,\n    G4,\n    Ab4,\n    A4,\n    Bb4,\n    B4,\n    C5,\n    Db5,\n    D5,\n    Eb5,\n    E5,\n    F5,\n    Gb5,\n    G5,\n    Ab5,\n    A5,\n    Bb5,\n    B5,\n    C6,\n    Db6,\n    D6,\n    Eb6,\n    E6,\n    F6,\n    Gb6,\n    G6,\n    Ab6,\n    A6,\n    Bb6,\n    B6,\n    C7,\n    Db7,\n    D7,\n    Eb7,\n    E7,\n    F7,\n    Gb7,\n    G7,\n    Ab7,\n    A7,\n    Bb7,\n    B7,\n];","\nimport k from './drummer/kick.wav';\nimport s from './drummer/snare.wav';\nimport h from './drummer/hihat.wav';\nimport r from './drummer/ride.wav';\nimport c from './drummer/crash.wav';\n\nexport const kick = k;\nexport const snare = s;\nexport const hihat = h;\nexport const ride = r;\nexport const crash = c;\nexport const drumset = [kick, snare, hihat, ride, crash];","'use strict';\n\n//unscrambling hints from https://github.com/ironss/accompaniser/blob/master/irealb_parser.lua\n//strings are broken up in 50 character segments. each segment undergoes character substitution addressed by obfusc50()\nexports.ireal = function(s){\n  let r = '', p;\n\n  while(s.length > 50){\n    p = s.substring(0, 50);\n    s = s.substring(50)\n    if(s.length < 2){\n      r = r + p;\n    }else{\n      r = r + obfusc50(p);\n    }\n  }\n  r = r + s;\n  return r;\n}\n\nfunction obfusc50 (s){\n  //the first 5 characters are switched with the last 5\n  let newString = s.split('');\n  for(let i = 0; i < 5; i++){\n    newString[49 - i] = s[i];\n    newString[i] = s[49 - i];\n  }\n  //characters 10-24 are also switched\n  for(let i = 10; i < 24; i++){\n    newString[49 - i] = s[i];\n    newString[i] = s[49 - i];\n  }\n  return newString.join('');\n}\n","'use strict';\n\n//regex:\n//  letters A-G and W (W is an invisible slash chord)\n//  {1} only one of the aforementioned letters\n//  followed by zero or more of these: + - ^ h o # b digit\n//  followed by an optional group (to catch slash chords)\n//    that starts with a slash\n//    followed by A-G\n//    followed by optional # or b\n\nconst chordRegex = /[A-GW]{1}[\\+\\-\\^\\dhob#suad]*(\\/[A-G][#b]?)?/g;\nconst musicPrefix = \"1r34LbKcu7\";\nconst unscramble = require('./unscramble');\n\nclass Music {\n  constructor(data){\n    const parts = data.split(musicPrefix);\n    this.raw = unscramble.ireal(parts[1]);\n    //TODO: read the time signature\n    this.timeSignature = 'T44';\n    const musicData = removeNonMusicalInfo(this.raw);\n    this.measures = getMeasures(musicData)\n  }\n}\nmodule.exports = Music;\n\nfunction getMeasures(data){\n  let measures = data.split(/\\||LZ|K|Z|\\{|\\}|\\[|\\]/g)//measures are delimited by |, LZ, {, } (repeat markers), [, ] (double barlines). Also splitting on K because Kcl seems to indicate a repeat of the previous measure. Z is the end of a song usually.\n\n  measures = fillSingleRepeats(measures);\n  measures = fillDoubleRepeats(measures);\n\n  measures = measures.map((x, index, array) => x.match(chordRegex))\n    .filter(x => !!x)  //filter out blank measures. if empty measures like N.C. are needed this has to be modified\n\n  measures = fillInvisibleSlashChords(measures);\n\n  return measures;\n}\n\nfunction removeNonMusicalInfo(data){\n  //remove all the non-musical information\n  data = removeFromString(data, /<.*?>/); //comments delimited by carets < ... >, non-greedy match. do this first as these may contain other symbols that we look for later on.\n  data = removeFromString(data, /\\*\\s*\\*/); //stars with empty space in between *  *\n  data = removeFromString(data, /\\*\\w/); //section markers *A, *B, *C\n  data = removeFromString(data, /T\\d+/); //time signatures T44, T34\n  data = removeFromString(data, /N\\d/); //repeat markers N1, N2, ...\n  data = removeFromString(data, /Y+/); //vertical spacers\n  data = removeFromString(data, 'XyQ'); //empty space\n  data = removeFromString(data, /[npUSQ]/); //n: N.C, p: pause slash, U: END, S: Segno, Q: Coda, \n  //s: small (consider using s when implementing chord duration)\n  return data;\n}\n\nfunction fillDoubleRepeats(measures){\n  const r = m => m.indexOf('r') >= 0;\n\n  //an 'r' becomes the two previous measures (drawn as a double angled bar)\n  let repeatMeasureIdx = measures.findIndex(r);\n  while(repeatMeasureIdx != -1){\n    measures.splice(repeatMeasureIdx, 1, measures[repeatMeasureIdx - 2], measures[repeatMeasureIdx - 1]);\n    repeatMeasureIdx = measures.findIndex(r);\n  }\n  return measures;\n}\n\nfunction fillSingleRepeats(measures){\n  //the repeat marker is Kcl but we've already split on K, so only cl is left over\n  //x appears in its own measure, (drawn as a single angled bar)\n  const xcl = m => m.indexOf('x') >= 0 || m.indexOf('cl') >= 0;\n\n  let repeatMeasureIdx = measures.findIndex(xcl);\n  while(repeatMeasureIdx != -1){\n    measures[repeatMeasureIdx] = measures[repeatMeasureIdx - 1];\n    repeatMeasureIdx = measures.findIndex(xcl);\n  }\n  return measures;\n}\n\nfunction fillInvisibleSlashChords(measures){\n  const W = m => m.some(c => c[0] === 'W');\n\n  let invisibleMeasureIdx = measures.findIndex(W);\n  while(invisibleMeasureIdx != -1){\n    const curMeasure = measures[invisibleMeasureIdx];\n    const invisibleChordIdx = curMeasure.findIndex(c => c[0] === 'W')\n\n    if(invisibleChordIdx > 0){\n      const previousChord = curMeasure[invisibleChordIdx - 1].split(\"/\")[0];\n      curMeasure[invisibleChordIdx] = curMeasure[invisibleChordIdx].replace('W', previousChord);\n    }else{\n      const previousMeasure = measures[invisibleMeasureIdx - 1];\n      const previousChord = previousMeasure[previousMeasure.length - 1].split(\"/\")[0];\n      curMeasure[invisibleChordIdx] = curMeasure[invisibleChordIdx].replace('W', previousChord);\n    }\n    invisibleMeasureIdx = measures.findIndex(W);\n  }\n  return measures;\n}\n\nfunction removeFromString(string, toRemove){\n  return string.split(toRemove).join('');\n}\n\n","'use strict';\n\nconst Music = require('./Music');\nconst musicPrefix = \"1r34LbKcu7\";\n\nclass Song {\n  constructor(data){\n    const parts = data.split(/=+/).filter(x => x != \"\"); //split on one or more equal signs, remove the blanks\n    let offset = 0\n    this.title = parts[0];\n    this.composer = parts[1];\n    this.style = parts[2];\n    this.key = parts[3];\n    this.transpose = null;\n    if(parts[4].indexOf(musicPrefix) !== 0){\n      offset = 1;\n      this.transpose = parseInt(parts[4]) || null;\n    }\n    this.music = new Music(parts[4 + offset]);\n    this.compStyle = parts[5 + offset] || null;\n    this.bpm = parseInt(parts[6 + offset]) || null;\n    this.repeats = parseInt(parts[7 + offset]) || null;\n  }\n}\n\nmodule.exports = Song;","'use strict';\n\nconst Song = require('./Song');\nconst regex = /.*?irealb:\\/\\/([^\"]*)/;\n\nclass Playlist {\n  constructor(data){\n    const percentEncoded = regex.exec(data);\n    const percentDecoded = decodeURIComponent(percentEncoded[1]);\n    const parts = percentDecoded.split(\"===\");  //songs are separated by ===\n    if(parts.length > 1) this.name = parts.pop();  //playlist name\n    this.songs = parts.map(x => new Song(x));\n  }\n}\n\nmodule.exports = Playlist;","'use strict';\n\nconst Playlist = require('./Playlist');\n\n//class hierarchy: Playlist has many Songs. Song has one Music.\n\nmodule.exports = Playlist;","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-note.svg)](https://www.npmjs.com/package/tonal-note)\n * [![tonal](https://img.shields.io/badge/tonal-note-yellow.svg)](https://www.npmjs.com/browse/keyword/tonal)\n *\n * `tonal-note` is a collection of functions to manipulate musical notes in scientific notation\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * ## Usage\n *\n * ```js\n * import * as Note from \"tonal-note\"\n * // or const Note = require(\"tonal-note\")\n * Note.name(\"bb2\") // => \"Bb2\"\n * Note.chroma(\"bb2\") // => 10\n * Note.midi(\"a4\") // => 69\n * Note.freq(\"a4\") // => 440\n * Note.oct(\"G3\") // => 3\n *\n * // part of tonal\n * const Tonal = require(\"tonal\")\n * // or import Note from \"tonal\"\n * Tonal.Note.midi(\"d4\") // => 62\n * ```\n *\n * ## Install\n *\n * [![npm install tonal-note](https://nodei.co/npm/tonal-note.png?mini=true)](https://npmjs.org/package/tonal-note/)\n *\n * ## API Documentation\n *\n * @module Note\n */\n\nvar NAMES = \"C C# Db D D# Eb E F F# Gb G G# Ab A A# Bb B\".split(\" \");\n\n/**\n * Get a list of note names (pitch classes) within a octave\n *\n * @param {string} accTypes - (Optional, by default \" b#\"). A string with the\n * accidentals types: \" \" means no accidental, \"#\" means sharps, \"b\" mean flats,\n * can be conbined (see examples)\n * @return {Array}\n * @example\n * Note.names(\" b\") // => [ \"C\", \"Db\", \"D\", \"Eb\", \"E\", \"F\", \"Gb\", \"G\", \"Ab\", \"A\", \"Bb\", \"B\" ]\n * Note.names(\" #\") // => [ \"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\" ]\n */\nexport var names = function (accTypes) { return typeof accTypes !== \"string\"\n    ? NAMES.slice()\n    : NAMES.filter(function (n) {\n        var acc = n[1] || \" \";\n        return accTypes.indexOf(acc) !== -1;\n      }); };\n\nvar SHARPS = names(\" #\");\nvar FLATS = names(\" b\");\nvar REGEX = /^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/;\n\n/**\n * Split a string into tokens related to note parts.\n * It returns an array of strings `[letter, accidental, octave, modifier]`\n *\n * It always returns an array\n *\n * @param {String} str\n * @return {Array} an array of note tokens\n * @example\n * Note.tokenize(\"C#2\") // => [\"C\", \"#\", \"2\", \"\"]\n * Note.tokenize(\"Db3 major\") // => [\"D\", \"b\", \"3\", \"major\"]\n * Note.tokenize(\"major\") // => [\"\", \"\", \"\", \"major\"]\n * Note.tokenize(\"##\") // => [\"\", \"##\", \"\", \"\"]\n * Note.tokenize() // => [\"\", \"\", \"\", \"\"]\n */\nexport function tokenize(str) {\n  if (typeof str !== \"string\") { str = \"\"; }\n  var m = REGEX.exec(str);\n  if (!m) { return null; }\n  return [m[1].toUpperCase(), m[2].replace(/x/g, \"##\"), m[3], m[4]];\n}\n\nvar NO_NOTE = Object.freeze({\n  pc: null,\n  name: null,\n  step: null,\n  alt: null,\n  oct: null,\n  octStr: null,\n  chroma: null,\n  midi: null,\n  freq: null\n});\n\nvar SEMI = [0, 2, 4, 5, 7, 9, 11];\nvar properties = function (str) {\n  var tokens = tokenize(str);\n  if (tokens[0] === \"\" || tokens[3] !== \"\") { return NO_NOTE; }\n  var letter = tokens[0];\n  var acc = tokens[1];\n  var octStr = tokens[2];\n  var p = { letter: letter, acc: acc, octStr: octStr };\n  p.pc = p.letter + p.acc;\n  p.name = p.pc + octStr;\n  p.step = (p.letter.charCodeAt(0) + 3) % 7;\n  p.alt = p.acc[0] === \"b\" ? -p.acc.length : p.acc.length;\n  p.oct = octStr.length ? +octStr : null;\n  p.chroma = (SEMI[p.step] + p.alt + 120) % 12;\n  p.midi = p.oct !== null ? SEMI[p.step] + p.alt + 12 * (p.oct + 1) : null;\n  p.freq = midiToFreq(p.midi);\n  return Object.freeze(p);\n};\n\nvar memo = function (fn, cache) {\n  if ( cache === void 0 ) cache = {};\n\n  return function (str) { return cache[str] || (cache[str] = fn(str)); };\n};\n\n/**\n * Get note properties. It returns an object with the following information:\n *\n * - name {String}: the note name. The letter is always in uppercase\n * - letter {String}: the note letter, always in uppercase\n * - acc {String}: the note accidentals\n * - octave {Number}: the octave or null if not present\n * - pc {String}: the pitch class (letter + accidentals)\n * - step {Number}: number equivalent of the note letter. 0 means C ... 6 means B.\n * - alt {Number}: number equivalent of accidentals (negative are flats, positive sharps)\n * - chroma {Number}: number equivalent of the pitch class, where 0 is C, 1 is C# or Db, 2 is D...\n * - midi {Number}: the note midi number\n * - freq {Number}: the frequency using an equal temperament at 440Hz\n *\n * This function *always* returns an object with all this properties, but if it\"s\n * not a valid note all properties will be null.\n *\n * The returned object can\"t be mutated.\n *\n * @param {String} note - the note name in scientific notation\n * @return {Object} an object with the properties (or an object will all properties\n * set to null if not valid note)\n * @example\n * Note.props(\"fx-3\").name // => \"F##-3\"\n * Note.props(\"invalid\").name // => null\n * Note.props(\"C#3\").oct // => 3\n * Note.props().oct // => null\n */\nexport var props = memo(properties);\n\n/**\n * Given a note name, return the note name or null if not valid note.\n * The note name will ALWAYS have the letter in upercase and accidentals\n * using # or b\n *\n * Can be used to test if a string is a valid note name.\n *\n * @function\n * @param {Pitch|string}\n * @return {string}\n *\n * @example\n * Note.name(\"cb2\") // => \"Cb2\"\n * [\"c\", \"db3\", \"2\", \"g+\", \"gx4\"].map(Note.name) // => [\"C\", \"Db3\", null, null, \"G##4\"]\n */\nexport var name = function (str) { return props(str).name; };\n\n/**\n * Get pitch class of a note. The note can be a string or a pitch array.\n *\n * @function\n * @param {string|Pitch}\n * @return {string} the pitch class\n * @example\n * Note.pc(\"Db3\") // => \"Db\"\n * [\"db3\", \"bb6\", \"fx2\"].map(Note.pc) // => [ \"Db\", \"Bb\", \"F##\"]\n */\nexport var pc = function (str) { return props(str).pc; };\n\n/**\n * Get the note midi number\n * (an alias of tonal-midi `toMidi` function)\n *\n * @function\n * @param {string|Number} note - the note to get the midi number from\n * @return {Integer} the midi number or null if not valid pitch\n * @example\n * Note.midi(\"C4\") // => 60\n * Note.midi(60) // => 60\n * @see midi.toMidi\n */\nexport var midi = function (note) { return props(note).midi || +note || null; };\n\n/**\n * Get the frequency from midi number\n *\n * @param {Number} midi - the note midi number\n * @param {Number} tuning - (Optional) 440 by default\n * @return {Number} the frequency or null if not valid note midi\n */\nexport var midiToFreq = function (midi, tuning) {\n    if ( tuning === void 0 ) tuning = 440;\n\n    return typeof midi === \"number\" ? Math.pow(2, (midi - 69) / 12) * tuning : null;\n};\n\n/**\n * Get the frequency of a note\n *\n * @function\n * @param {string|Number} note - the note name or midi note number\n * @return {Number} the frequency\n * @example\n * Note.freq(\"A4\") // => 440\n * Note.freq(69) // => 440\n */\nexport var freq = function (note) { return props(note).freq || midiToFreq(note); };\n\nvar L2 = Math.log(2);\nvar L440 = Math.log(440);\n/**\n * Get the midi number from a frequency in hertz. The midi number can\n * contain decimals (with two digits precission)\n *\n * @param {Number} frequency\n * @return {Number}\n * @example\n * Note.freqToMidi(220)); //=> 57;\n * Note.freqToMidi(261.62)); //=> 60;\n * Note.freqToMidi(261)); //=> 59.96;\n */\nexport var freqToMidi = function (freq) {\n  var v = 12 * (Math.log(freq) - L440) / L2 + 69;\n  return Math.round(v * 100) / 100;\n};\n\n/**\n * Return the chroma of a note. The chroma is the numeric equivalent to the\n * pitch class, where 0 is C, 1 is C# or Db, 2 is D... 11 is B\n *\n * @param {string} note - the note name\n * @return {Integer} the chroma number\n * @example\n * Note.chroma(\"Cb\") // => 11\n * [\"C\", \"D\", \"E\", \"F\"].map(Note.chroma) // => [0, 2, 4, 5]\n */\nexport var chroma = function (str) { return props(str).chroma; };\n\n/**\n * Get the octave of the given pitch\n *\n * @function\n * @param {string} note - the note\n * @return {Integer} the octave or null if doesn\"t have an octave or not a valid note\n * @example\n * Note.oct(\"C#4\") // => 4\n * Note.oct(\"C\") // => null\n * Note.oct(\"blah\") // => undefined\n */\nexport var oct = function (str) { return props(str).oct; };\n\nvar LETTERS = \"CDEFGAB\";\n/**\n * Given a step number return it\"s letter (0 = C, 1 = D, 2 = E)\n * @param {number} step\n * @return {string} the letter\n * @example\n * Note.stepToLetter(3) // => \"F\"\n */\nexport var stepToLetter = function (step) { return LETTERS[step]; };\n\nvar fillStr = function (s, n) { return Array(n + 1).join(s); };\nvar numToStr = function (num, op) { return (typeof num !== \"number\" ? \"\" : op(num)); };\n\n/**\n * Given an alteration number, return the accidentals\n * @param {Number} alt\n * @return {String}\n * @example\n * Note.altToAcc(-3) // => \"bbb\"\n */\nexport var altToAcc = function (alt) { return numToStr(alt, function (alt) { return (alt < 0 ? fillStr(\"b\", -alt) : fillStr(\"#\", alt)); }); };\n\n/**\n * Creates a note name in scientific notation from note properties,\n * and optionally another note name.\n * It receives an object with:\n * - step: the note step (0 = C, 1 = D, ... 6 = B)\n * - alt: (optional) the alteration. Negative numbers are flats, positive sharps\n * - oct: (optional) the octave\n *\n * Optionally it receives another note as a \"base\", meaning that any prop not explicitly\n * received on the first parameter will be taken from that base note. That way it can be used\n * as an immutable \"set\" operator for a that base note\n *\n * @function\n * @param {Object} props - the note properties\n * @param {String} [baseNote] - note to build the result from. If given, it returns\n * the result of applying the given props to this note.\n * @return {String} the note name in scientific notation or null if not valid properties\n * @example\n * Note.from({ step: 5 }) // => \"A\"\n * Note.from({ step: 1, acc: -1 }) // => \"Db\"\n * Note.from({ step: 2, acc: 2, oct: 2 }) // => \"E##2\"\n * Note.from({ step: 7 }) // => null\n * Note.from({alt: 1, oct: 3}, \"C4\") // => \"C#3\"\n */\nexport var from = function (fromProps, baseNote) {\n  if ( fromProps === void 0 ) fromProps = {};\n  if ( baseNote === void 0 ) baseNote = null;\n\n  var ref = baseNote\n    ? Object.assign({}, props(baseNote), fromProps)\n    : fromProps;\n  var step = ref.step;\n  var alt = ref.alt;\n  var oct = ref.oct;\n  var letter = stepToLetter(step);\n  if (!letter) { return null; }\n  var pc = letter + altToAcc(alt);\n  return oct || oct === 0 ? pc + oct : pc;\n};\n\n/**\n * Deprecated. This is kept for backwards compatibility only.\n * Use Note.from instead\n */\nexport var build = from;\n\n/**\n * Given a midi number, returns a note name. The altered notes will have\n * flats unless explicitly set with the optional `useSharps` parameter.\n *\n * @function\n * @param {number} midi - the midi note number\n * @param {boolean} useSharps - (Optional) set to true to use sharps instead of flats\n * @return {string} the note name\n * @example\n * Note.fromMidi(61) // => \"Db4\"\n * Note.fromMidi(61, true) // => \"C#4\"\n * // it rounds to nearest note\n * Note.fromMidi(61.7) // => \"D4\"\n */\nexport function fromMidi(num, sharps) {\n  num = Math.round(num);\n  var pcs = sharps === true ? SHARPS : FLATS;\n  var pc = pcs[num % 12];\n  var o = Math.floor(num / 12) - 1;\n  return pc + o;\n}\n\n/**\n * Simplify the note: find an enhramonic note with less accidentals.\n *\n * @param {String} note - the note to be simplified\n * @param {boolean} useSameAccType - (optional, true by default) set to true\n * to ensure the returned note has the same accidental types that the given note\n * @return {String} the simplfiied note or null if not valid note\n * @example\n * Note.simplify(\"C##\") // => \"D\"\n * Note.simplify(\"C###\") // => \"D#\"\n * Note.simplify(\"C###\", false) // => \"Eb\"\n * Note.simplify(\"B#4\") // => \"C5\"\n */\nexport var simplify = function (note, sameAcc) {\n  var ref = props(note);\n  var alt = ref.alt;\n  var chroma = ref.chroma;\n  var midi = ref.midi;\n  if (chroma === null) { return null; }\n  var useSharps = sameAcc === false ? alt < 0 : alt > 0;\n  return midi === null\n    ? pc(fromMidi(chroma, useSharps))\n    : fromMidi(midi, useSharps);\n};\n\n/**\n * Get the simplified and enhramonic note of the given one.\n *\n * @param {String} note\n * @return {String} the enhramonic note\n * @example\n * Note.enharmonic(\"Db\") // => \"C#\"\n * Note.enhramonic(\"C\") // => \"C\"\n */\nexport var enharmonic = function (note) { return simplify(note, false); };\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-array.svg?style=flat-square)](https://www.npmjs.com/package/tonal-array)\n *\n * Tonal array utilities. Create ranges, sort notes, ...\n *\n * @example\n * import * as Array;\n * Array.sort([\"f\", \"a\", \"c\"]) // => [\"C\", \"F\", \"A\"]\n *\n * @example\n * const Array = require(\"tonal-array)\n * Array.range(1, 4) // => [1, 2, 3, 4]\n *\n * @module Array\n */\nimport { midi, name } from \"tonal-note\";\n\n// ascending range\nfunction ascR(b, n) {\n  for (var a = []; n--; a[n] = n + b){ ; }\n  return a;\n}\n// descending range\nfunction descR(b, n) {\n  for (var a = []; n--; a[n] = b - n){ ; }\n  return a;\n}\n\n/**\n * Create a numeric range\n *\n * @param {Number} from\n * @param {Number} to\n * @return {Array}\n *\n * @example\n * Array.range(-2, 2) // => [-2, -1, 0, 1, 2]\n * Array.range(2, -2) // => [2, 1, 0, -1, -2]\n */\nexport function range(a, b) {\n  return a === null || b === null\n    ? []\n    : a < b ? ascR(a, b - a + 1) : descR(a, a - b + 1);\n}\n/**\n *\n * Rotates a list a number of times. It\"s completly agnostic about the\n * contents of the list.\n *\n * @param {Integer} times - the number of rotations\n * @param {Array} array\n * @return {Array} the rotated array\n * @example\n * Array.rotate(1, [1, 2, 3]) // => [2, 3, 1]\n */\nexport function rotate(times, arr) {\n  var len = arr.length;\n  var n = (times % len + len) % len;\n  return arr.slice(n, len).concat(arr.slice(0, n));\n}\n\n/**\n * Return a copy of the array with the null values removed\n * @function\n * @param {Array} array\n * @return {Array}\n *\n * @example\n * Array.compact([\"a\", \"b\", null, \"c\"]) // => [\"a\", \"b\", \"c\"]\n */\nexport var compact = function (arr) { return arr.filter(function (n) { return n === 0 || n; }); };\n\n// a function that get note heights (with negative number for pitch classes)\nvar height = function (n) {\n  var m = midi(n);\n  return m !== null ? m : midi(n + \"-100\");\n};\n\n/**\n * Sort an array of notes in ascending order\n *\n * @param {String|Array} notes\n * @return {Array} sorted array of notes\n */\nexport function sort(src) {\n  return compact(src.map(name)).sort(function (a, b) { return height(a) > height(b); });\n}\n\n/**\n * Get sorted notes with duplicates removed\n *\n * @function\n * @param {Array} notes\n */\nexport function unique(arr) {\n  return sort(arr).filter(function (n, i, a) { return i === 0 || n !== a[i - 1]; });\n}\n\n/**\n * Randomizes the order of the specified array in-place, using the Fisher–Yates shuffle.\n *\n * @private\n * @function\n * @param {Array|String} arr - the array\n * @return {Array} the shuffled array\n *\n * @example\n * Array.shuffle([\"C\", \"D\", \"E\", \"F\"])\n */\nexport var shuffle = function (arr, rnd) {\n  if ( rnd === void 0 ) rnd = Math.random;\n\n  var i, t;\n  var m = arr.length;\n  while (m) {\n    i = (rnd() * m--) | 0;\n    t = arr[m];\n    arr[m] = arr[i];\n    arr[i] = t;\n  }\n  return arr;\n};\n\n/**\n * Get all permutations of an array\n * http://stackoverflow.com/questions/9960908/permutations-in-javascript\n *\n * @param {Array} array - the array\n * @return {Array<Array>} an array with all the permutations\n */\nexport var permutations = function (arr) {\n  if (arr.length === 0) { return [[]]; }\n  return permutations(arr.slice(1)).reduce(function(acc, perm) {\n    return acc.concat(\n      arr.map(function(e, pos) {\n        var newPerm = perm.slice();\n        newPerm.splice(pos, 0, arr[0]);\n        return newPerm;\n      })\n    );\n  }, []);\n};\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-interval.svg)](https://www.npmjs.com/package/tonal-interval)\n * [![tonal](https://img.shields.io/badge/tonal-interval-yellow.svg)](https://www.npmjs.com/browse/keyword/tonal)\n *\n * `tonal-interval` is a collection of functions to create and manipulate music intervals.\n *\n * The intervals are strings in shorthand notation. Two variations are supported:\n *\n * - standard shorthand notation: type and number, for example: \"M3\", \"d-4\"\n * - inverse shorthand notation: number and then type, for example: \"3M\", \"-4d\"\n *\n * The problem with the standard shorthand notation is that some strings can be\n * parsed as notes or intervals, for example: \"A4\" can be note A in 4th octave\n * or an augmented four. To remove ambiguity, the prefered notation in tonal is the\n * inverse shortand notation.\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * ## Usage\n *\n * ```js\n * // es6\n * import * as Interval from \"tonal-interval\"\n * // es5\n * const Interval = require(\"tonal-interval\")\n * // part of tonal\n * import { Interval } from \"tonal\"\n *\n * Interval.semitones(\"4P\") // => 5\n * Interval.invert(\"3m\") // => \"6M\"\n * Interval.simplify(\"9m\") // => \"2m\"\n * ```\n *\n * ## Install\n *\n * [![npm install tonal-interval](https://nodei.co/npm/tonal-interval.png?mini=true)](https://npmjs.org/package/tonal-interval/)\n *\n * ## API Documentation\n *\n * @module Interval\n */\n// shorthand tonal notation (with quality after number)\nvar IVL_TNL = \"([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})\";\n// standard shorthand notation (with quality before number)\nvar IVL_STR = \"(AA|A|P|M|m|d|dd)([-+]?\\\\d+)\";\nvar REGEX = new RegExp(\"^\" + IVL_TNL + \"|\" + IVL_STR + \"$\");\nvar SIZES = [0, 2, 4, 5, 7, 9, 11];\nvar TYPES = \"PMMPPMM\";\nvar CLASSES = [0, 1, 2, 3, 4, 5, 6, 5, 4, 3, 2, 1];\nvar NAMES = \"1P 2m 2M 3m 3M 4P 5P 6m 6M 7m 7M 8P\".split(\" \");\n\n/**\n * List basic (perfect, major, minor) interval names within a octave\n * @param {String} qualities - (Optional, default \"PMm\") the valid types\n * @return {Array} the interval names\n * @example\n * Interval.names() // => [ \"1P\", \"2m\", \"2M\", \"3m\", \"3M\", \"4P\", \"5P\", \"6m\", \"6M\", \"7m\", \"7M\", \"8P\" ]\n * Interval.names(\"P\") // => [ \"1P\", \"4P\", \"5P\", \"8P\" ]\n * Interval.names(\"PM\") // => [ \"1P\", \"2M\", \"3M\", \"4P\", \"5P\", \"6M\", \"7M\", \"8P\" ]\n * Interval.names(\"Pm\") // => [ \"1P\", \"2m\", \"3m\", \"4P\", \"5P\", \"6m\", \"7m\", \"8P\" ]\n * Interval.names(\"d\") // => []\n */\nexport var names = function (types) { return typeof types !== \"string\"\n    ? NAMES.slice()\n    : NAMES.filter(function (n) { return types.indexOf(n[1]) !== -1; }); };\n\nexport var tokenize = function (str) {\n  var m = REGEX.exec(str);\n  return m === null ? null : m[1] ? [m[1], m[2]] : [m[4], m[3]];\n};\n\nvar NO_IVL = Object.freeze({\n  name: null,\n  num: null,\n  q: null,\n  step: null,\n  alt: null,\n  dir: null,\n  type: null,\n  simple: null,\n  semitones: null,\n  chroma: null\n});\n\nvar fillStr = function (s, n) { return Array(Math.abs(n) + 1).join(s); };\n\nvar qToAlt = function (type, q) {\n  if (q === \"M\" && type === \"M\") { return 0; }\n  if (q === \"P\" && type === \"P\") { return 0; }\n  if (q === \"m\" && type === \"M\") { return -1; }\n  if (/^A+$/.test(q)) { return q.length; }\n  if (/^d+$/.test(q)) { return type === \"P\" ? -q.length : -q.length - 1; }\n  return null;\n};\n\nvar altToQ = function (type, alt) {\n  if (alt === 0) { return type === \"M\" ? \"M\" : \"P\"; }\n  else if (alt === -1 && type === \"M\") { return \"m\"; }\n  else if (alt > 0) { return fillStr(\"A\", alt); }\n  else if (alt < 0) { return fillStr(\"d\", type === \"P\" ? alt : alt + 1); }\n  else { return null; }\n};\n\nvar numToStep = function (num) { return (Math.abs(num) - 1) % 7; };\n\nvar properties = function (str) {\n  var t = tokenize(str);\n  if (t === null) { return NO_IVL; }\n  var p = { num: +t[0], q: t[1] };\n  p.step = numToStep(p.num);\n  p.type = TYPES[p.step];\n  if (p.type === \"M\" && p.q === \"P\") { return NO_IVL; }\n\n  p.name = \"\" + p.num + p.q;\n  p.dir = p.num < 0 ? -1 : 1;\n  p.simple = p.num === 8 || p.num === -8 ? p.num : p.dir * (p.step + 1);\n  p.alt = qToAlt(p.type, p.q);\n  p.oct = Math.floor((Math.abs(p.num) - 1) / 7);\n  p.semitones = p.dir * (SIZES[p.step] + p.alt + 12 * p.oct);\n  p.chroma = ((p.dir * (SIZES[p.step] + p.alt)) % 12 + 12) % 12;\n  return Object.freeze(p);\n};\n\nvar cache = {};\n/**\n * Get interval properties. It returns an object with:\n *\n * - name: name\n * - num: number\n * - q: quality\n * - step: step\n * - alt: alteration\n * - dir: direction (1 ascending, -1 descending)\n * - type: \"P\" or \"M\" for perfectable or majorable\n * - simple: the simplified number\n * - semitones: the size in semitones\n * - chroma: the interval chroma\n * - ic: the interval class\n *\n * @function\n * @param {String} interval - the interval\n * @return {Object} the interval in the form [number, alt]\n */\nexport function props(str) {\n  if (typeof str !== \"string\") { return NO_IVL; }\n  return cache[str] || (cache[str] = properties(str));\n}\n\n/**\n * Get the number of the interval\n *\n * @function\n * @param {String} interval - the interval\n * @return {Integer}\n * @example\n * Interval.num(\"m2\") // => 2\n * Interval.num(\"P9\") // => 9\n * Interval.num(\"P-4\") // => -4\n */\nexport var num = function (str) { return props(str).num; };\n\n/**\n * Get interval name. Can be used to test if it\"s an interval. It accepts intervals\n * as pitch or string in shorthand notation or tonal notation. It returns always\n * intervals in tonal notation.\n *\n * @function\n * @param {String} interval - the interval string or array\n * @return {String} the interval name or null if not valid interval\n * @example\n * Interval.name(\"m-3\") // => \"-3m\"\n * Interval.name(\"3\") // => null\n */\nexport var name = function (str) { return props(str).name; };\n\n/**\n * Get size in semitones of an interval\n *\n * @function\n * @param {String} ivl\n * @return {Integer} the number of semitones or null if not an interval\n * @example\n * import { semitones } from \"tonal-interval\"\n * semitones(\"P4\") // => 5\n * // or using tonal\n * Tonal.Interval.semitones(\"P5\") // => 7\n */\nexport var semitones = function (str) { return props(str).semitones; };\n\n/**\n * Get the chroma of the interval. The chroma is a number between 0 and 7\n * that represents the position within an octave (pitch set)\n *\n * @function\n * @param {String} str\n * @return {Number}\n */\nexport var chroma = function (str) { return props(str).chroma; };\n\n/**\n * Get the [interval class](https://en.wikipedia.org/wiki/Interval_class)\n * number of a given interval.\n *\n * In musical set theory, an interval class is the shortest distance in\n * pitch class space between two unordered pitch classes\n *\n * @function\n * @param {String|Integer} interval - the interval or the number of semitones\n * @return {Integer} A value between 0 and 6\n *\n * @example\n * Interval.ic(\"P8\") // => 0\n * Interval.ic(\"m6\") // => 4\n * Interval.ic(10) // => 2\n * [\"P1\", \"M2\", \"M3\", \"P4\", \"P5\", \"M6\", \"M7\"].map(ic) // => [0, 2, 4, 5, 5, 3, 1]\n */\nexport var ic = function (ivl) {\n  if (typeof ivl === \"string\") { ivl = props(ivl).chroma; }\n  return typeof ivl === \"number\" ? CLASSES[ivl % 12] : null;\n};\n\n/**\n * Given a interval property object, get the interval name\n *\n * The properties must contain a `num` *or* `step`, and `alt`:\n *\n * - num: the interval number\n * - step: the interval step (overrides the num property)\n * - alt: the interval alteration\n * - oct: (Optional) the number of octaves\n * - dir: (Optional) the direction\n *\n * @function\n * @param {Object} props - the interval property object\n *\n * @return {String} the interval name\n * @example\n * Interval.build({ step: 1, alt: -1, oct: 0, dir: 1 }) // => \"1d\"\n * Interval.build({ num: 9, alt: -1 }) // => \"9m\"\n */\nexport var build = function (ref) {\n  if ( ref === void 0 ) ref = {};\n  var num = ref.num;\n  var step = ref.step;\n  var alt = ref.alt;\n  var oct = ref.oct; if ( oct === void 0 ) oct = 1;\n  var dir = ref.dir;\n\n  if (step !== undefined) { num = step + 1 + 7 * oct; }\n  if (num === undefined) { return null; }\n\n  var d = dir < 0 ? \"-\" : \"\";\n  var type = TYPES[numToStep(num)];\n  return d + num + altToQ(type, alt);\n};\n\n/**\n * Get the simplified version of an interval.\n *\n * @function\n * @param {String} interval - the interval to simplify\n * @return {String} the simplified interval\n *\n * @example\n * Interval.simplify(\"9M\") // => \"2M\"\n * [\"8P\", \"9M\", \"10M\", \"11P\", \"12P\", \"13M\", \"14M\", \"15P\"].map(Interval.simplify)\n * // => [ \"8P\", \"2M\", \"3M\", \"4P\", \"5P\", \"6M\", \"7M\", \"8P\" ]\n * Interval.simplify(\"2M\") // => \"2M\"\n * Interval.simplify(\"-2M\") // => \"7m\"\n */\nexport var simplify = function (str) {\n  var p = props(str);\n  if (p === NO_IVL) { return null; }\n  return p.simple + p.q;\n};\n\n/**\n * Get the inversion (https://en.wikipedia.org/wiki/Inversion_(music)#Intervals)\n * of an interval.\n *\n * @function\n * @param {String} interval - the interval to invert in interval shorthand\n * notation or interval array notation\n * @return {String} the inverted interval\n *\n * @example\n * Interval.invert(\"3m\") // => \"6M\"\n * Interval.invert(\"2M\") // => \"7m\"\n */\nexport var invert = function (str) {\n  var p = props(str);\n  if (p === NO_IVL) { return null; }\n  var step = (7 - p.step) % 7;\n  var alt = p.type === \"P\" ? -p.alt : -(p.alt + 1);\n  return build({ step: step, alt: alt, oct: p.oct, dir: p.dir });\n};\n\n// interval numbers\nvar IN = [1, 2, 2, 3, 3, 4, 5, 5, 6, 6, 7, 7];\n// interval qualities\nvar IQ = \"P m M m M P d P m M m M\".split(\" \");\n\n/**\n * Get interval name from semitones number. Since there are several interval\n * names for the same number, the name it\"s arbitraty, but deterministic.\n *\n * @function\n * @param {Integer} num - the number of semitones (can be negative)\n * @return {String} the interval name\n * @example\n * import { fromSemitones } from \"tonal-interval\"\n * fromSemitones(7) // => \"5P\"\n * // or using tonal\n * Tonal.Distance.fromSemitones(-7) // => \"-5P\"\n */\nexport var fromSemitones = function (num) {\n  var d = num < 0 ? -1 : 1;\n  var n = Math.abs(num);\n  var c = n % 12;\n  var o = Math.floor(n / 12);\n  return d * (IN[c] + 7 * o) + IQ[c];\n};\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-distance.svg)](https://www.npmjs.com/package/tonal-distance)\n * [![tonal](https://img.shields.io/badge/tonal-distance-yellow.svg)](https://github.com/danigb/tonal/tree/master/packages/tonal/distance)\n *\n * Transpose notes by intervals and find distances between notes\n *\n * @example\n * // es6\n * import * as Distance from \"tonal-distance\"\n * Distance.interval(\"C3\", \"C4\") // => \"1P\"\n *\n * @example\n * // es6 import selected functions\n * import { interval, semitones, transpose } from \"tonal-distance\"\n *\n * semitones(\"C\" ,\"D\") // => 2\n * interval(\"C4\", \"G4\") // => \"5P\"\n * transpose(\"C4\", \"P5\") // => \"G4\"\n *\n * @example\n * // included in tonal facade\n * const Tonal = require(\"tonal\");\n * Tonal.Distance.transpose(\"C4\", \"P5\")\n * Tonal.Distance.transposeBy(\"P5\", \"C4\")\n *\n * @module Distance\n */\nimport { props as noteProps, build as fromNote } from \"tonal-note\";\nimport { props as iprops, build as ibuild } from \"tonal-interval\";\n\n// Map from letter step to number of fifths starting from \"C\":\n// { C: 0, D: 2, E: 4, F: -1, G: 1, A: 3, B: 5 }\nvar FIFTHS = [0, 2, 4, -1, 1, 3, 5];\n\n// Given a number of fifths, return the octaves they span\nvar fOcts = function (f) { return Math.floor(f * 7 / 12); };\n\n// Get the number of octaves it span each step\nvar FIFTH_OCTS = FIFTHS.map(fOcts);\n\nvar encode = function (ref) {\n  var step = ref.step;\n  var alt = ref.alt;\n  var oct = ref.oct;\n  var dir = ref.dir; if ( dir === void 0 ) dir = 1;\n\n  var f = FIFTHS[step] + 7 * alt;\n  if (oct === null) { return [dir * f]; }\n  var o = oct - FIFTH_OCTS[step] - 4 * alt;\n  return [dir * f, dir * o];\n};\n\n// We need to get the steps from fifths\n// Fifths for CDEFGAB are [ 0, 2, 4, -1, 1, 3, 5 ]\n// We add 1 to fifths to avoid negative numbers, so:\n// for [\"F\", \"C\", \"G\", \"D\", \"A\", \"E\", \"B\"] we have:\nvar STEPS = [3, 0, 4, 1, 5, 2, 6];\n\n// Return the number of fifths as if it were unaltered\nfunction unaltered(f) {\n  var i = (f + 1) % 7;\n  return i < 0 ? 7 + i : i;\n}\n\nvar decode = function (f, o, dir) {\n  var step = STEPS[unaltered(f)];\n  var alt = Math.floor((f + 1) / 7);\n  if (o === undefined) { return { step: step, alt: alt, dir: dir }; }\n  var oct = o + 4 * alt + FIFTH_OCTS[step];\n  return { step: step, alt: alt, oct: oct, dir: dir };\n};\n\nvar memo = function (fn, cache) {\n  if ( cache === void 0 ) cache = {};\n\n  return function (str) { return cache[str] || (cache[str] = fn(str)); };\n};\n\nvar encoder = function (props) { return memo(function (str) {\n    var p = props(str);\n    return p.name === null ? null : encode(p);\n  }); };\n\nvar encodeNote = encoder(noteProps);\nvar encodeIvl = encoder(iprops);\n\n/**\n * Transpose a note by an interval. The note can be a pitch class.\n *\n * This function can be partially applied.\n *\n * @param {String} note\n * @param {String} interval\n * @return {String} the transposed note\n * @example\n * import { tranpose } from \"tonal-distance\"\n * transpose(\"d3\", \"3M\") // => \"F#3\"\n * // it works with pitch classes\n * transpose(\"D\", \"3M\") // => \"F#\"\n * // can be partially applied\n * [\"C\", \"D\", \"E\", \"F\", \"G\"].map(transpose(\"M3)) // => [\"E\", \"F#\", \"G#\", \"A\", \"B\"]\n */\nexport function transpose(note, interval) {\n  if (arguments.length === 1) { return function (i) { return transpose(note, i); }; }\n  var n = encodeNote(note);\n  var i = encodeIvl(interval);\n  if (n === null || i === null) { return null; }\n  var tr = n.length === 1 ? [n[0] + i[0]] : [n[0] + i[0], n[1] + i[1]];\n  return fromNote(decode(tr[0], tr[1]));\n}\n\n/**\n * Transpose a pitch class by a number of perfect fifths.\n *\n * It can be partially applied.\n *\n * @function\n * @param {String} pitchClass - the pitch class\n * @param {Integer} fifhts - the number of fifths\n * @return {String} the transposed pitch class\n *\n * @example\n * import { trFifths } from \"tonal-transpose\"\n * [0, 1, 2, 3, 4].map(trFifths(\"C\")) // => [\"C\", \"G\", \"D\", \"A\", \"E\"]\n * // or using tonal\n * Distance.trFifths(\"G4\", 1) // => \"D\"\n */\n\nexport function trFifths(note, fifths) {\n  if (arguments.length === 1) { return function (f) { return trFifths(note, f); }; }\n  var n = encodeNote(note);\n  if (n === null) { return null; }\n  return fromNote(decode(n[0] + fifths));\n}\n\n/**\n * Get the distance in fifths between pitch classes\n *\n * Can be partially applied.\n *\n * @param {String} to - note or pitch class\n * @param {String} from - note or pitch class\n */\nexport function fifths(from, to) {\n  if (arguments.length === 1) { return function (to) { return fifths(from, to); }; }\n  var f = encodeNote(from);\n  var t = encodeNote(to);\n  if (t === null || f === null) { return null; }\n  return t[0] - f[0];\n}\n\n/**\n * The same as transpose with the arguments inverted.\n *\n * Can be partially applied.\n *\n * @param {String} note\n * @param {String} interval\n * @return {String} the transposed note\n * @example\n * import { tranposeBy } from \"tonal-distance\"\n * transposeBy(\"3m\", \"5P\") // => \"7m\"\n */\nexport function transposeBy(interval, note) {\n  if (arguments.length === 1) { return function (n) { return transpose(n, interval); }; }\n  return transpose(note, interval);\n}\n\nvar isDescending = function (e) { return e[0] * 7 + e[1] * 12 < 0; };\nvar decodeIvl = function (i) { return isDescending(i) ? decode(-i[0], -i[1], -1) : decode(i[0], i[1], 1); };\n\nexport function addIntervals(ivl1, ivl2, dir) {\n  var i1 = encodeIvl(ivl1);\n  var i2 = encodeIvl(ivl2);\n  if (i1 === null || i2 === null) { return null; }\n  var i = [i1[0] + dir * i2[0], i1[1] + dir * i2[1]];\n  return ibuild(decodeIvl(i));\n}\n\n/**\n * Add two intervals\n *\n * Can be partially applied.\n *\n * @param {String} interval1\n * @param {String} interval2\n * @return {String} the resulting interval\n * @example\n * import { add } from \"tonal-distance\"\n * add(\"3m\", \"5P\") // => \"7m\"\n */\nexport function add(ivl1, ivl2) {\n  if (arguments.length === 1) { return function (i2) { return add(ivl1, i2); }; }\n  return addIntervals(ivl1, ivl2, 1);\n}\n\n/**\n * Subtract two intervals\n *\n * Can be partially applied\n *\n * @param {String} minuend\n * @param {String} subtrahend\n * @return {String} interval diference\n */\nexport function subtract(ivl1, ivl2) {\n  if (arguments.length === 1) { return function (i2) { return add(ivl1, i2); }; }\n  return addIntervals(ivl1, ivl2, -1);\n}\n\n/**\n * Find the interval between two pitches. It works with pitch classes\n * (both must be pitch classes and the interval is always ascending)\n *\n * Can be partially applied\n *\n * @param {String} from - distance from\n * @param {String} to - distance to\n * @return {String} the interval distance\n *\n * @example\n * import { interval } from \"tonal-distance\"\n * interval(\"C2\", \"C3\") // => \"P8\"\n * interval(\"G\", \"B\") // => \"M3\"\n *\n * @example\n * import * as Distance from \"tonal-distance\"\n * Distance.interval(\"M2\", \"P5\") // => \"P4\"\n */\nexport function interval(from, to) {\n  if (arguments.length === 1) { return function (t) { return interval(from, t); }; }\n  var f = encodeNote(from);\n  var t = encodeNote(to);\n  if (f === null || t === null || f.length !== t.length) { return null; }\n  var d =\n    f.length === 1\n      ? [t[0] - f[0], -Math.floor((t[0] - f[0]) * 7 / 12)]\n      : [t[0] - f[0], t[1] - f[1]];\n  return ibuild(decodeIvl(d));\n}\n\n/**\n * Get the distance between two notes in semitones\n *\n * @param {String|Pitch} from - first note\n * @param {String|Pitch} to - last note\n * @return {Integer} the distance in semitones or null if not valid notes\n * @example\n * import { semitones } from \"tonal-distance\"\n * semitones(\"C3\", \"A2\") // => -3\n * // or use tonal\n * Tonal.Distance.semitones(\"C3\", \"G3\") // => 7\n */\nexport function semitones(from, to) {\n  if (arguments.length === 1) { return function (t) { return semitones(from, t); }; }\n  var f = noteProps(from);\n  var t = noteProps(to);\n  return f.midi !== null && t.midi !== null\n    ? t.midi - f.midi\n    : f.chroma !== null && t.chroma !== null\n      ? (t.chroma - f.chroma + 12) % 12\n      : null;\n}\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-pcset.svg?style=flat-square)](https://www.npmjs.com/package/tonal-pcset)\n * [![tonal](https://img.shields.io/badge/tonal-pcset-yellow.svg?style=flat-square)](https://www.npmjs.com/browse/keyword/tonal)\n *\n * `tonal-pcset` is a collection of functions to work with pitch class sets, oriented\n * to make comparations (isEqual, isSubset, isSuperset)\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * You can install via npm: `npm i --save tonal-pcset`\n *\n * ```js\n * // es6\n * import PcSet from \"tonal-pcset\"\n * var PcSet = require(\"tonal-pcset\")\n *\n * PcSet.isEqual(\"c2 d5 e6\", \"c6 e3 d1\") // => true\n * ```\n *\n * ## API documentation\n *\n * @module PcSet\n */\nimport { chroma as notechr } from \"tonal-note\";\nimport { chroma as ivlchr } from \"tonal-interval\";\nimport { rotate, range, compact } from \"tonal-array\";\n\nvar chr = function (str) { return notechr(str) || ivlchr(str) || 0; };\nvar pcsetNum = function (set) { return parseInt(chroma(set), 2); };\nvar clen = function (chroma) { return chroma.replace(/0/g, \"\").length; };\n\n/**\n * Get chroma of a pitch class set. A chroma identifies each set uniquely.\n * It\"s a 12-digit binary each presenting one semitone of the octave.\n *\n * Note that this function accepts a chroma as parameter and return it\n * without modification.\n *\n * @param {Array|String} set - the pitch class set\n * @return {String} a binary representation of the pitch class set\n * @example\n * PcSet.chroma([\"C\", \"D\", \"E\"]) // => \"1010100000000\"\n */\nexport function chroma(set) {\n  if (isChroma(set)) { return set; }\n  if (!Array.isArray(set)) { return \"\"; }\n  var b = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  set.map(chr).forEach(function (i) {\n    b[i] = 1;\n  });\n  return b.join(\"\");\n}\n\nvar all = null;\n/**\n * Get a list of all possible chromas (all possible scales)\n * More information: http://allthescales.org/\n * @return {Array} an array of possible chromas from '10000000000' to '11111111111'\n *\n */\nexport function chromas(n) {\n  all = all || range(2048, 4095).map(function (n) { return n.toString(2); });\n  return typeof n === \"number\"\n    ? all.filter(function (chroma) { return clen(chroma) === n; })\n    : all.slice();\n}\n\n/**\n * Given a a list of notes or a pcset chroma, produce the rotations\n * of the chroma discarding the ones that starts with \"0\"\n *\n * This is used, for example, to get all the modes of a scale.\n *\n * @param {Array|String} set - the list of notes or pitchChr of the set\n * @param {Boolean} normalize - (Optional, true by default) remove all\n * the rotations that starts with \"0\"\n * @return {Array<String>} an array with all the modes of the chroma\n *\n * @example\n * PcSet.modes([\"C\", \"D\", \"E\"]).map(PcSet.intervals)\n */\nexport function modes(set, normalize) {\n  normalize = normalize !== false;\n  var binary = chroma(set).split(\"\");\n  return compact(\n    binary.map(function(_, i) {\n      var r = rotate(i, binary);\n      return normalize && r[0] === \"0\" ? null : r.join(\"\");\n    })\n  );\n}\n\nvar REGEX = /^[01]{12}$/;\n/**\n * Test if the given string is a pitch class set chroma.\n * @param {String} chroma - the pitch class set chroma\n * @return {Boolean} true if its a valid pcset chroma\n * @example\n * PcSet.isChroma(\"101010101010\") // => true\n * PcSet.isChroma(\"101001\") // => false\n */\nexport function isChroma(set) {\n  return REGEX.test(set);\n}\n\nvar IVLS = \"1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M\".split(\" \");\n/**\n * Given a pcset (notes or chroma) return it\"s intervals\n * @param {String|Array} pcset - the pitch class set (notes or chroma)\n * @return {Array} intervals or empty array if not valid pcset\n * @example\n * PcSet.intervals(\"1010100000000\") => [\"1P\", \"2M\", \"3M\"]\n */\nexport function intervals(set) {\n  if (!isChroma(set)) { return []; }\n  return compact(\n    set.split(\"\").map(function(d, i) {\n      return d === \"1\" ? IVLS[i] : null;\n    })\n  );\n}\n\n/**\n * Test if two pitch class sets are identical\n *\n * @param {Array|String} set1 - one of the pitch class sets\n * @param {Array|String} set2 - the other pitch class set\n * @return {Boolean} true if they are equal\n * @example\n * PcSet.isEqual([\"c2\", \"d3\"], [\"c5\", \"d2\"]) // => true\n */\nexport function isEqual(s1, s2) {\n  if (arguments.length === 1) { return function (s) { return isEqual(s1, s); }; }\n  return chroma(s1) === chroma(s2);\n}\n\n/**\n * Create a function that test if a collection of notes is a\n * subset of a given set\n *\n * The function can be partially applied\n *\n * @param {Array|String} set - an array of notes or a chroma set string to test against\n * @param {Array|String} notes - an array of notes or a chroma set\n * @return {boolean} true if notes is a subset of set, false otherwise\n * @example\n * const inCMajor = PcSet.isSubsetOf([\"C\", \"E\", \"G\"])\n * inCMajor([\"e6\", \"c4\"]) // => true\n * inCMajor([\"e6\", \"c4\", \"d3\"]) // => false\n */\nexport function isSubsetOf(set, notes) {\n  if (arguments.length > 1) { return isSubsetOf(set)(notes); }\n  set = pcsetNum(set);\n  return function(notes) {\n    notes = pcsetNum(notes);\n    return notes !== set && (notes & set) === notes;\n  };\n}\n\n/**\n * Create a function that test if a collectio of notes is a\n * superset of a given set (it contains all notes and at least one more)\n *\n * @param {Array|String} set - an array of notes or a chroma set string to test against\n * @param {Array|String} notes - an array of notes or a chroma set\n * @return {boolean} true if notes is a superset of set, false otherwise\n * @example\n * const extendsCMajor = PcSet.isSupersetOf([\"C\", \"E\", \"G\"])\n * extendsCMajor([\"e6\", \"a\", \"c4\", \"g2\"]) // => true\n * extendsCMajor([\"c6\", \"e4\", \"g3\"]) // => false\n */\nexport function isSupersetOf(set, notes) {\n  if (arguments.length > 1) { return isSupersetOf(set)(notes); }\n  set = pcsetNum(set);\n  return function(notes) {\n    notes = pcsetNum(notes);\n    return notes !== set && (notes | set) === notes;\n  };\n}\n\n/**\n * Test if a given pitch class set includes a note\n * @param {Array|String} set - the base set to test against\n * @param {String|Pitch} note - the note to test\n * @return {Boolean} true if the note is included in the pcset\n * @example\n * PcSet.includes([\"C\", \"D\", \"E\"], \"C4\") // => true\n * PcSet.includes([\"C\", \"D\", \"E\"], \"C#4\") // => false\n */\nexport function includes(set, note) {\n  if (arguments.length > 1) { return includes(set)(note); }\n  set = chroma(set);\n  return function(note) {\n    return set[chr(note)] === \"1\";\n  };\n}\n\n/**\n * Filter a list with a pitch class set\n *\n * @param {Array|String} set - the pitch class set notes\n * @param {Array|String} notes - the note list to be filtered\n * @return {Array} the filtered notes\n *\n * @example\n * PcSet.filter([\"C\", \"D\", \"E\"], [\"c2\", \"c#2\", \"d2\", \"c3\", \"c#3\", \"d3\"]) // => [ \"c2\", \"d2\", \"c3\", \"d3\" ])\n * PcSet.filter([\"C2\"], [\"c2\", \"c#2\", \"d2\", \"c3\", \"c#3\", \"d3\"]) // => [ \"c2\", \"c3\" ])\n */\nexport function filter(set, notes) {\n  if (arguments.length === 1) { return function (n) { return filter(set, n); }; }\n  return notes.filter(includes(set));\n}\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-dictionary.svg)](https://www.npmjs.com/package/tonal-dictionary)\n *\n * `tonal-dictionary` contains a dictionary of musical scales and chords\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * @example\n * // es6\n * import * as Dictionary from \"tonal-dictionary\"\n * // es5\n * const Dictionary = require(\"tonal-dictionary\")\n *\n * @example\n * Dictionary.chord(\"Maj7\") // => [\"1P\", \"3M\", \"5P\", \"7M\"]\n *\n * @module Dictionary\n */\nimport sdata from \"./data/scales.json\";\nimport cdata from \"./data/chords.json\";\nimport { chroma } from \"tonal-pcset\";\n\nexport var dictionary = function (raw) {\n  var keys = Object.keys(raw).sort();\n  var data = [];\n  var index = [];\n\n  var add = function (name, ivls, chroma) {\n    data[name] = ivls;\n    index[chroma] = index[chroma] || [];\n    index[chroma].push(name);\n  };\n\n  keys.forEach(function (key) {\n    var ivls = raw[key][0].split(\" \");\n    var alias = raw[key][1];\n    var chr = chroma(ivls);\n\n    add(key, ivls, chr);\n    if (alias) { alias.forEach(function (a) { return add(a, ivls, chr); }); }\n  });\n  var allKeys = Object.keys(data).sort();\n\n  var dict = function (name) { return data[name]; };\n  dict.names = function (p) {\n    if (typeof p === \"string\") { return (index[p] || []).slice(); }\n    else { return (p === true ? allKeys : keys).slice(); }\n  };\n  return dict;\n};\n\nexport var combine = function (a, b) {\n  var dict = function (name) { return a(name) || b(name); };\n  dict.names = function (p) { return a.names(p).concat(b.names(p)); };\n  return dict;\n};\n\n/**\n * A dictionary of scales: a function that given a scale name (without tonic)\n * returns an array of intervals\n *\n * @function\n * @param {String} name\n * @return {Array} intervals\n * @example\n * import { scale } from \"tonal-dictionary\"\n * scale(\"major\") // => [\"1P\", \"2M\", ...]\n * scale.names(); // => [\"major\", ...]\n */\nexport var scale = dictionary(sdata);\n\n/**\n * A dictionary of chords: a function that given a chord type\n * returns an array of intervals\n *\n * @function\n * @param {String} type\n * @return {Array} intervals\n * @example\n * import { chord } from \"tonal-dictionary\"\n * chord(\"Maj7\") // => [\"1P\", \"3M\", ...]\n * chord.names(); // => [\"Maj3\", ...]\n */\nexport var chord = dictionary(cdata);\nexport var pcset = combine(scale, chord);\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-scale.svg?style=flat-square)](https://www.npmjs.com/package/tonal-scale)\n *\n * A scale is a collection of pitches in ascending or descending order.\n *\n * This module provides functions to get and manipulate scales.\n *\n * @example\n * // es6\n * import * as Scale from \"tonal-scale\"\n * // es5\n * const Scale = require(\"tonal-scale\");\n *\n * @example\n * Scale.notes(\"Ab bebop\") // => [ \"Ab\", \"Bb\", \"C\", \"Db\", \"Eb\", \"F\", \"Gb\", \"G\" ]\n * Scale.names() => [\"major\", \"minor\", ...]\n * @module Scale\n */\nimport { name as noteName, pc } from \"tonal-note\";\nimport {\n  modes as pcsetModes,\n  chroma,\n  isSubsetOf,\n  isSupersetOf\n} from \"tonal-pcset\";\nimport { transpose } from \"tonal-distance\";\nimport { scale, chord } from \"tonal-dictionary\";\nimport { compact, unique, rotate } from \"tonal-array\";\n\nvar NO_SCALE = Object.freeze({\n  name: null,\n  intervals: [],\n  names: [],\n  chroma: null,\n  setnum: null\n});\n\nvar properties = function (name) {\n  var intervals = scale(name);\n  if (!intervals) { return NO_SCALE; }\n  var s = { intervals: intervals, name: name };\n  s.chroma = chroma(intervals);\n  s.setnum = parseInt(s.chroma, 2);\n  s.names = scale.names(s.chroma);\n  return Object.freeze(s);\n};\n\nvar memoize = function (fn, cache) { return function (str) { return cache[str] || (cache[str] = fn(str)); }; };\n\n/**\n * Get scale properties. It returns an object with:\n * - name: the scale name\n * - names: a list with all possible names (includes the current)\n * - intervals: an array with the scale intervals\n * - chroma:  scale croma (see pcset)\n * - setnum: scale chroma number\n *\n * @function\n * @param {String} name - the scale name (without tonic)\n * @return {Object}\n */\nexport var props = memoize(properties, {});\n\n/**\n * Return the available scale names\n *\n * @function\n * @param {boolean} aliases - true to include aliases\n * @return {Array} the scale names\n *\n * @example\n * Scale.names() // => [\"maj7\", ...]\n */\nexport var names = scale.names;\n\n/**\n * Given a scale name, return its intervals. The name can be the type and\n * optionally the tonic (which is ignored)\n *\n * It retruns an empty array when no scale found\n *\n * @function\n * @param {String} name - the scale name (tonic and type, tonic is optional)\n * @return {Array<String>} the scale intervals if is a known scale or an empty\n * array if no scale found\n * @example\n * Scale.intervals(\"major\") // => [ \"1P\", \"2M\", \"3M\", \"4P\", \"5P\", \"6M\", \"7M\" ]\n */\nexport var intervals = function (name) {\n  var p = tokenize(name);\n  return props(p[1]).intervals;\n};\n\n/**\n * Get the notes (pitch classes) of a scale.\n *\n * Note that it always returns an array, and the values are only pitch classes.\n *\n * @function\n * @param {String} tonic\n * @param {String} nameOrTonic - the scale name or tonic (if 2nd param)\n * @param {String} [name] - the scale name without tonic\n * @return {Array} a pitch classes array\n *\n * @example\n * Scale.notes(\"C\", \"major\") // => [ \"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\" ]\n * Scale.notes(\"C major\") // => [ \"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\" ]\n * Scale.notes(\"C4\", \"major\") // => [ \"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\" ]\n * Scale.notes(\"A4\", \"no-scale\") // => []\n * Scale.notes(\"blah\", \"major\") // => []\n */\nexport function notes(nameOrTonic, name) {\n  var p = tokenize(nameOrTonic);\n  name = name || p[1];\n  return intervals(name).map(transpose(p[0]));\n}\n\n/**\n * Check if the given name is a known scale from the scales dictionary\n *\n * @function\n * @param {String} name - the scale name\n * @return {Boolean}\n */\nexport function exists(name) {\n  var p = tokenize(name);\n  return scale(p[1]) !== undefined;\n}\n\n/**\n * Given a string with a scale name and (optionally) a tonic, split\n * that components.\n *\n * It retuns an array with the form [ name, tonic ] where tonic can be a\n * note name or null and name can be any arbitrary string\n * (this function doesn\"t check if that scale name exists)\n *\n * @function\n * @param {String} name - the scale name\n * @return {Array} an array [tonic, name]\n * @example\n * Scale.tokenize(\"C mixolydean\") // => [\"C\", \"mixolydean\"]\n * Scale.tokenize(\"anything is valid\") // => [\"\", \"anything is valid\"]\n * Scale.tokenize() // => [\"\", \"\"]\n */\nexport function tokenize(str) {\n  if (typeof str !== \"string\") { return [\"\", \"\"]; }\n  var i = str.indexOf(\" \");\n  var tonic = noteName(str.substring(0, i)) || noteName(str) || \"\";\n  var name = tonic !== \"\" ? str.substring(tonic.length + 1) : str;\n  return [tonic, name.length ? name : \"\"];\n}\n\n/**\n * Find mode names of a scale\n *\n * @function\n * @param {String} name - scale name\n */\nexport var modeNames = function (name) {\n  var ivls = intervals(name);\n  var tonics = notes(name);\n\n  return pcsetModes(ivls)\n    .map(function (chroma, i) {\n      var name = scale.names(chroma)[0];\n      if (name) { return [tonics[i] || ivls[i], name]; }\n    })\n    .filter(function (x) { return x; });\n};\n\n/**\n * Get all chords that fits a given scale\n *\n * @function\n * @param {String} name\n */\nexport var chords = function (name) {\n  var inScale = isSubsetOf(intervals(name));\n  return chord.names().filter(function (name) { return inScale(chord(name)); });\n};\n\n/**\n * Given an array of notes, return the scale: a pitch class set starting from\n * the first note of the array\n *\n * @function\n * @param {Array} notes\n * @return {Array}\n */\nexport var toScale = function (notes) {\n  var pcset = compact(notes.map(pc));\n  if (!pcset.length) { return pcset; }\n  var tonic = pcset[0];\n  var scale = unique(pcset);\n  return rotate(scale.indexOf(tonic), scale);\n};\n\n/**\n * Get all scales names that are a superset of the given one\n * (has the same notes and at least one more)\n *\n * @function\n * @param {String} name\n * @return {Array} a list of scale names\n */\nexport var supersets = function (name) {\n  if (!intervals(name).length) { return []; }\n  var isSuperset = isSupersetOf(intervals(name));\n  return scale.names().filter(function (name) { return isSuperset(scale(name)); });\n};\n\n/**\n * Find all scales names that are a subset of the given one\n * (has less notes but all from the given scale)\n *\n * @function\n * @param {String} name\n * @return {Array} a list of scale names\n */\nexport var subsets = function (name) {\n  var isSubset = isSubsetOf(intervals(name));\n  return scale.names().filter(function (name) { return isSubset(scale(name)); });\n};\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-chord.svg)](https://www.npmjs.com/package/tonal-chord)\n * [![tonal](https://img.shields.io/badge/tonal-chord-yellow.svg)](https://www.npmjs.com/browse/keyword/tonal)\n *\n * `tonal-chord` is a collection of functions to manipulate musical chords\n *\n * This is part of [tonal](https://www.npmjs.com/package/tonal) music theory library.\n *\n * @example\n * // es6\n * import * as Chord from \"tonal-chord\"\n * // es5\n * const Chord = require(\"tonal-chord\")\n *\n * @example\n * Chord.notes(\"CMaj7\") // => [\"C\", \"E\", \"G\", \"B\"]\n *\n * @module Chord\n */\nimport { tokenize as split } from \"tonal-note\";\nimport { transpose } from \"tonal-distance\";\nimport { chord } from \"tonal-dictionary\";\nimport { chroma, isSubsetOf, isSupersetOf } from \"tonal-pcset\";\n\n/**\n * Return the available chord names\n *\n * @function\n * @param {boolean} aliases - true to include aliases\n * @return {Array} the chord names\n *\n * @example\n * Chord.names() // => [\"maj7\", ...]\n */\nexport var names = chord.names;\n\nvar NO_CHORD = Object.freeze({\n  name: null,\n  names: [],\n  intervals: [],\n  chroma: null,\n  setnum: null\n});\n\nvar properties = function (name) {\n  var intervals = chord(name);\n  if (!intervals) { return NO_CHORD; }\n  var s = { intervals: intervals, name: name };\n  s.chroma = chroma(intervals);\n  s.setnum = parseInt(s.chroma, 2);\n  s.names = chord.names(s.chroma);\n  return s;\n};\n\nvar memo = function (fn, cache) {\n  if ( cache === void 0 ) cache = {};\n\n  return function (str) { return cache[str] || (cache[str] = fn(str)); };\n};\n\n/**\n * Get chord properties. It returns an object with:\n *\n * - name: the chord name\n * - names: a list with all possible names (includes the current)\n * - intervals: an array with the chord intervals\n * - chroma:  chord croma (see pcset)\n * - setnum: chord chroma number\n *\n * @function\n * @param {String} name - the chord name (without tonic)\n * @return {Object} an object with the properties or a object with all properties\n * set to null if not valid chord name\n */\nexport var props = memo(properties);\n\n/**\n * Get chord intervals. It always returns an array\n *\n * @function\n * @param {String} name - the chord name (optionally a tonic and type)\n * @return {Array<String>} a list of intervals or null if the type is not known\n */\nexport var intervals = function (name) { return props(tokenize(name)[1]).intervals; };\n\n/**\n * Get the chord notes of a chord. This function accepts either a chord name\n * (for example: \"Cmaj7\") or a list of notes.\n *\n * It always returns an array, even if the chord is not found.\n *\n * @function\n * @param {String} nameOrTonic - name of the chord or the tonic (if the second parameter is present)\n * @param {String} [name] - (Optional) name if the first parameter is the tonic\n * @return {Array} an array of notes or an empty array\n *\n * @example\n * Chord.notes(\"Cmaj7\") // => [\"C\", \"E\", \"G\", \"B\"]\n * Chord.notes(\"C\", \"maj7\") // => [\"C\", \"E\", \"G\", \"B\"]\n */\nexport function notes(nameOrTonic, name) {\n  var p = tokenize(nameOrTonic);\n  name = name || p[1];\n  return props(name).intervals.map(transpose(p[0]));\n}\n\n/**\n * Check if a given name correspond to a chord in the dictionary\n *\n * @function\n * @param {String} name\n * @return {Boolean}\n * @example\n * Chord.exists(\"CMaj7\") // => true\n * Chord.exists(\"Maj7\") // => true\n * Chord.exists(\"Ablah\") // => false\n */\nexport var exists = function (name) { return chord(tokenize(name)[1]) !== undefined; };\n\n/**\n * Get all chords names that are a superset of the given one\n * (has the same notes and at least one more)\n *\n * @function\n * @param {String} name\n * @return {Array} a list of chord names\n */\nexport var supersets = function (name) {\n  if (!intervals(name).length) { return []; }\n  var isSuperset = isSupersetOf(intervals(name));\n  return chord.names().filter(function (name) { return isSuperset(chord(name)); });\n};\n\n/**\n * Find all chords names that are a subset of the given one\n * (has less notes but all from the given chord)\n *\n * @function\n * @param {String} name\n * @return {Array} a list of chord names\n */\nexport var subsets = function (name) {\n  var isSubset = isSubsetOf(intervals(name));\n  return chord.names().filter(function (name) { return isSubset(chord(name)); });\n};\n\n// 6, 64, 7, 9, 11 and 13 are consider part of the chord\n// (see https://github.com/danigb/tonal/issues/55)\nvar NUM_TYPES = /^(6|64|7|9|11|13)$/;\n/**\n * Tokenize a chord name. It returns an array with the tonic and chord type\n * If not tonic is found, all the name is considered the chord name.\n *\n * This function does NOT check if the chord type exists or not. It only tries\n * to split the tonic and chord type.\n *\n * @function\n * @param {String} name - the chord name\n * @return {Array} an array with [type, tonic]\n * @example\n * Chord.tokenize(\"Cmaj7\") // => [ \"C\", \"maj7\" ]\n * Chord.tokenize(\"C7\") // => [ \"C\", \"7\" ]\n * Chord.tokenize(\"mMaj7\") // => [ \"\", \"mMaj7\" ]\n * Chord.tokenize(\"Cnonsense\") // => [ \"C\", \"nonsense\" ]\n */\nexport function tokenize(name) {\n  var p = split(name);\n  if (p[0] === \"\") { return [\"\", name]; }\n  // aug is augmented (see https://github.com/danigb/tonal/issues/55)\n  if (p[0] === \"A\" && p[3] === \"ug\") { return [\"\", \"aug\"]; }\n\n  if (NUM_TYPES.test(p[2])) {\n    return [p[0] + p[1], p[2] + p[3]];\n  } else {\n    return [p[0] + p[1] + p[2], p[3]];\n  }\n}\n","/**\n * [![npm version](https://img.shields.io/npm/v/tonal-key.svg?style=flat-square)](https://www.npmjs.com/package/tonal-key)\n *\n * The `Tonal` module is a facade to the rest of the modules. They are namespaced,\n * so for example to use `pc` function from `tonal-note` you have to write:\n * `Tonal.Note.pc`\n *\n * It exports the following modules:\n * - Note\n * - Interval\n * - Distance\n * - Scale\n * - Chord\n * - PcSet\n *\n * Additionally this facade exports some functions without namespace (see \"Methods\" below)\n *\n * @example\n * // es6 modules\n * import * as Tonal from \"tonal\"\n * Tonal.Note.name(\"cx\") // => \"C##\"\n *\n * @example\n * import { Note } from \"tonal\"\n * Note.name(\"bb\") // => \"Bb\"\n *\n * @example\n * // es5 node modules\n * var Tonal = require(\"tonal\");\n * Tonal.Distance.transpose(Tonal.Note.pc(\"C#2\"), \"M3\") // => \"E#\"\n * Tonal.Chord.notes(\"Dmaj7\") // => [\"D\", \"F#\", \"A\", \"C#\"]\n *\n * @module Tonal\n */\nimport * as Array from \"tonal-array\";\nimport * as Note from \"tonal-note\";\nimport * as Interval from \"tonal-interval\";\nimport * as Distance from \"tonal-distance\";\nimport * as Dictionary from \"tonal-dictionary\";\nimport * as Scale from \"tonal-scale\";\nimport * as Chord from \"tonal-chord\";\nimport * as PcSet from \"tonal-pcset\";\n\nexport { Array, Note, Interval, Distance, Scale, Chord, PcSet, Dictionary };\n\n/**\n * Transpose a note by an interval\n * @function\n * @param {String} note\n * @param {String} interval\n * @return {String} the transported note\n * @see Distance.transpose\n */\nexport const transpose = Distance.transpose;\n\n/**\n * Get the interval from two notes\n * @function\n * @param {String} from\n * @param {String} to\n * @return {String} the interval in reverse shorthand notation\n * @see Distance.interval\n */\nexport const interval = Distance.interval;\n\n/**\n * Get note properties\n * @function\n * @param {String} note - the note name\n * @return {Object}\n * @see Note.props\n * @example\n * Tonal.note(\"A4\").chroma // => 9\n */\nexport const note = Note.props;\n\n/**\n * Get midi note number\n * @function\n * @param {String} note\n * @return {Number}\n * @see Note.midi\n * @example\n * Tonal.midi(\"A4\") // => 49\n */\nexport const midi = Note.midi;\n\n/**\n * Get note frequency using equal tempered tuning at 440\n * @function\n * @param {String} note\n * @return {Number}\n * @see Note.freq\n * @example\n * Tonal.freq(\"A4\") // => 440\n */\nexport const freq = Note.freq;\n\n/**\n * Get intervals from a chord type\n * @function\n * @param {String} type - the chord type (no tonic)\n * @return {Array} an array of intervals or undefined if the chord type is not known\n * @see Dictionary.chord\n * @example\n * Tonal.chord(\"m7b5\") // => [\"1P\", \"3m\", \"5d\", \"7m\"]\n */\nexport const chord = Dictionary.chord;\n\n/**\n * Get intervals from scale name\n * @function\n * @param {String} name - the scale name (without tonic)\n * @return {Array} an array of intervals or undefiend if the scale is not kown\n * @example\n * Tonal.scale(\"major\") // => [\"1P\", \"2M\", \"3M\"...]\n */\nexport const scale = Dictionary.scale;\n","import { getMidi } from \"../util\";\n\nexport class Instrument {\n    midiOffset = 0;\n    onPlay: (keys: number[]) => any;\n    onStop: (keys: number[]) => any;\n    ready: Promise<any>;\n    gain = 1;\n\n    context: any;\n    mix: any;\n    constructor({ context, gain, mix, onPlay, onStop, midiOffset }: any = {}) {\n        this.onPlay = onPlay;\n        this.midiOffset = midiOffset || this.midiOffset;\n        this.onStop = onStop;\n        this.gain = gain || this.gain;\n        this.init({ context, mix });\n    }\n\n    init({ context, mix }) {\n        if (!context && (!mix || !mix.context)) {\n            console.warn(`you should pass a context or a mix (gainNode) to a new Instrument. \n            You can also Call init with {context,mix} to setup the Instrument later`);\n            return;\n        }\n        this.context = context || mix.context;\n        this.mix = mix || this.context.destination;\n    }\n\n    playNotes(notes: string[], settings) {\n        this.playKeys(notes.map(note => getMidi(note, this.midiOffset)), settings);\n    }\n\n    playKeys(keys: number[], settings?) {\n        if (this.onPlay) {\n            return this.onPlay(keys);\n        }\n        // TODO: fire callbacks after keys.map((key,i)=>i*settings.interval)?\n    }\n}","import { Instrument } from './Instrument';\nimport { Note } from 'tonal';\nimport { adsr } from '../util';\n\nexport class Synthesizer extends Instrument {\n    duration = 200;\n    type = 'sine';\n    gain = 0.9;\n    attack = .05;\n    decay = .05;\n    sustain = .4;\n    release = .1;\n\n    constructor(props: any) {\n        super(props);\n        this.duration = props.duration || this.duration;\n        this.type = props.type || this.type;\n        this.gain = props.gain || this.gain;\n    }\n\n    init(context) {\n        super.init(context);\n    }\n\n    getVoice(type = 'sine', gain = 0, frequency = 440) {\n        const oscNode = this.context.createOscillator();\n        oscNode.type = type;\n        const gainNode = this.context.createGain();\n        oscNode.connect(gainNode);\n        gainNode.gain.value = typeof gain === 'number' ? gain : 0.8;\n        gainNode.connect(this.mix);\n        oscNode.frequency.value = frequency;\n        return { oscNode, gainNode };\n    }\n\n    lowestGain(a, b) {\n        return a.gain.gain.value < b.gain.gain.value ? -1 : 0;\n    }\n\n    playKeys(keys: number[], settings: any = {}) {\n        super.playKeys(keys, settings); // fires callback   \n        //const time = this.context.currentTime + settings.deadline / 1000;\n        const time = settings.deadline || this.context.currentTime;\n        const interval = settings.interval || 0;\n        keys.map((key, i) => {\n            const delay = i * interval;\n            const [attack, decay, sustain, release, duration, gain] =\n                [\n                    settings.attack || this.attack,\n                    settings.decay || this.decay,\n                    settings.sustain || this.sustain,\n                    settings.release || this.release,\n                    (settings.duration || this.duration) / 1000,\n                    (settings.gain || 1) * this.gain\n                ]\n            const voice = this.getVoice(this.type, 0, Note.freq(key));\n            adsr({ attack, decay, sustain, release, gain, duration, }, time + delay, voice.gainNode.gain);\n            voice.oscNode.start(settings.deadline + delay);\n        })\n    }\n}","import { Chord, Distance, Interval, Note } from 'tonal';\nimport { Synthesizer } from './instruments/Synthesizer';\n\nexport function randomNumber(n) {\n    return Math.floor(Math.random() * n)\n}\n\nexport function arraySum(array) {\n    return array.reduce((s, i) => s + i, 0);\n}\n\nexport function randomElement(array, weighted?) {\n    if (!weighted) {\n        return array[randomNumber(array.length)];\n    }\n    const r = randomNumber(arraySum(weighted)) + 1;\n    const total = weighted\n        .reduce((abs, w, i) => abs.concat(w + (abs.length ? abs[i - 1] : 0)), []);\n    return array[total.indexOf(total.find((s, i) => s >= r))];\n}\n\nexport function getTonalChord(chord) {\n    chord = chord\n        .replace('-', 'm')\n        .replace('^', 'M')\n        .replace('h7', 'm7b5')\n        .replace('h', 'dim');\n    /**\n     * Chords that dont work:\n     * slash cords are ignored\n     * 7b9b5 does not work\n     * \n     */\n    const tokens = Chord.tokenize(chord);\n    const s = tokens[1].split('/');\n    return tokens[0] + (s[0] || 'M');\n}\n\nexport function getMidi(note, offset) {\n    return Note.props(note).midi - offset;\n}\n\n/** Travels path along measures */\nexport function getPath(path, measures, traveled = []) {\n    if (!Array.isArray(measures[path[0]]) || path.length === 1) {\n        return measures[Math.min(path[0], measures.length - 1)];\n    }\n    return this.getPath(path.slice(1), measures[path[0]], traveled.concat(path[0]));\n}\n\nexport function resolveChords(pattern, measures, path, divisions = []) {\n    if (Array.isArray(pattern)) {\n        // division: array of children lengths down the path (to calculate fraction)\n        divisions = [].concat(divisions, [pattern.length]);\n        return pattern.map((p, i) => this.resolveChords(p, measures, path.concat([i]), divisions));\n    }\n    if (pattern === 0) {\n        return 0;\n    }\n    //const split = (pattern + '').split('.');\n    //const gain = parseFloat('0.' + split[1]); //digit(s) after .\n    //const fraction = (parseInt(split[0]) || 1) * divisions.reduce((f, d) => f / d, 1000); // fraction of one\n    const fraction = pattern * divisions.reduce((f, d) => f / d, 1000); // fraction of one\n    if (fraction === 0) {\n        console.warn('fraction is 0', pattern);\n    }\n    return { chord: this.getPath(path, measures), pattern, /* gain, */ path, divisions, fraction };\n}\n\nexport function hasOff(pattern, division = 3) {\n    return Array.isArray(pattern) && pattern.length === division && pattern[division - 1] !== 0;\n}\n\n// replaces offs on last beat with next chord + erases next one\nexport function offbeatReducer(settings) {\n    // TODO: find out why some offbeats sound sketchy\n    return (measures, bar, index) => {\n        const last = index > 0 ? measures[index - 1] : null;\n        if (last && this.hasOff(last[settings.cycle - 1], settings.division)) {\n            last[settings.cycle - 1][settings.division - 1] = bar[0];\n            bar[0] = 0;\n        }\n        return measures.concat([bar]);\n    };\n}\n\nexport function invertInterval(interval) {\n    if (Interval.semitones(interval) < 0) {\n        return Interval.invert(interval.slice(1));\n    }\n    return '-' + Interval.invert(interval);\n}\n\n// use Interval.ic?\nexport function smallestInterval(interval) {\n    interval = Interval.simplify(interval);\n    if (interval === '0A') {\n        interval = '1P'; // TODO: issue for tonal-interval (0A does not support invert and is not simple)\n    }\n    let inversion = this.invertInterval(interval);\n    if (Math.abs(Interval.semitones(inversion)) < Math.abs(Interval.semitones(interval))) {\n        return inversion;\n    }\n    return interval || '';\n}\n\nexport function minInterval(a, b, preferRightMovement) {\n    const semitones = [Math.abs(Interval.semitones(a)), Math.abs(Interval.semitones(b))];\n    if (semitones[0] === semitones[1]) {\n        if (preferRightMovement) {\n            return semitones[0] < 0 ? -1 : 1;\n        }\n        return semitones[0] > 0 ? -1 : 1;\n    }\n    return semitones[0] < semitones[1] ? -1 : 1;\n}\n\nexport function intervalMatrix(from, to) {\n    return to.map(note => from\n        .map(n => {\n            return Distance.interval(n, note)\n        })\n        .map(d => this.smallestInterval(d))\n        .map(i => i.slice(0, 2) === '--' ? i.slice(1) : i)\n    )\n}\n\nexport function randomSynth(mix, allowed = ['sine', 'triangle', 'square', 'sawtooth']) {\n    const gains = {\n        sine: 0.9,\n        triangle: 0.8,\n        square: 0.2,\n        sawtooth: 0.3\n    }\n    const wave = randomElement(allowed);\n    return new Synthesizer({ gain: gains[wave], type: wave, mix });\n}\n\nexport function adsr({ attack, decay, sustain, release, gain, duration }, time, param) {\n    // console.log('adsr', attack, decay, sustain, release, gain, duration, time);\n    param.linearRampToValueAtTime(gain, time + attack);\n    param.setTargetAtTime(sustain * gain, time + Math.min(attack + decay, duration), decay);\n    param.setTargetAtTime(0, time + Math.max(duration - attack - decay, attack + decay, duration), release);\n}\n","import { randomElement } from \"../util\";\n\nexport const swing = {\n    chords: ({ measure, settings }) => {\n        const off = () => randomElement([0, [0, 0, 2]], [6, 1]);\n        const r = Math.random() > 0.5 ? .6 : 0;\n        const t = `${settings.cycle}/${measure.length}`;\n        if (t === '4/1') {\n            return randomElement([\n                [[1, 0], [0, 0, 7], 0, 0],\n                [1, [0, 0, 2], 0, off()],\n                [[0, 0, 1], 0, 2, 0],\n                [[0, 0, 4], 0, 1, 0],\n                [2, 0, 0, 0],\n                [3, 0, 0, 0],\n                [1, 0, r, off()],\n                [[0, 0, 2], 0, r, 0],\n                [1.5, [0, 0, 2], 0, off()],\n            ]);//, [2, 1, 1]\n        }\n        if (t === '4/2') {\n            return randomElement([\n                [[1, 0], [0, 0, 7], 0, 0],\n                [1, [0, 0, 2], 0, 0],\n                [1, 0, 2, 0],\n                [2, 0, 1, 0],\n                [1, 0, .7, off()],\n                [[1, 0, 0], 0, .7, off()],\n                [[4, 0, 0], [0, 0, 2.8], 0, off()],\n            ],/*  [1, 2] */);\n        }\n\n        if (t === '4/3') {\n            return [1, [0, 0, 2], [0, 0, 4], 0];\n        }\n        if ('4/4') {\n            return randomElement([\n                [1, 1, 1, 1],\n                [[1, 0, 2], [0, 0, 2], 0, 1]\n            ]);\n        }\n    },\n    bass: () => randomElement([\n        [1, 1, 1, 1],\n    ]),\n    crash: ({ measures, index }) => {\n        const fill = index !== 0 && index % measures.length === 0;\n        if (fill) {\n            return [4, 0, 0, 0];\n        }\n        return [0, 0, 0, 0];\n    },\n    ride: ({ measures, index }) => {\n        return randomElement([\n            [.6, [.9, 0, 1], .6, [.9, 0, 1]],\n            [.6, [.4, 0, 1], .8, [0, 0, 1],],\n            [.6, .9, [.6, 0, 1], 1],\n            [.6, .9, .6, [.9, 0, 1]],\n        ], [3, 2, 1, 2])\n    },\n    hihat: () => [0, .8, 0, 1]\n};","import { randomElement } from \"../util\";\nexport const funk = {\n    chords: () => randomElement([\n        [[2, 0, 0, 1], 0, [0, .6], [0, 3.5, 0, 0]],\n        [[1, 0, 0, 5], 0, [0, .6], [1, .5, 0, 0]],\n        [[1, 0, 0, 5], 0, [0, .6], [.5, 0, 2, 0]],\n        [[1, 0, 0, 5], 0, [0, .6], [0, 2, 0, 1]],\n        [[3, 0, 0, 0], 0, 2, 0]\n    ]),\n    bass: () => randomElement(\n        [\n            [[2, 0, 0, 1], [0, 1], 1, [0, 1]],\n            [[2, 0, 0, 0], [0, 1, 0, 1], [0, 0, 1, 0], [0, 0, 0, 1]],\n        ]\n    ),\n    kick: (t) => [[[1, .7], 0, [0, 1], 0]],\n    snare: (t) => [0, 1, [0, .2, 0, 0], [1, 0, 0, .6]],\n    hihat: (t) => [[.5, .6], [.4, .7], [.3, .6], [.5, .7]]\n};","import * as jazz from '../dist';\nimport link from './playlists/1350.json';\n//import link from './playlists/zw.json';\nimport { RealParser } from '../src/RealParser';\nimport { piano } from './samples/piano';\n// import { harp } from './samples/harp';\nimport { drumset } from './samples/drumset';\nimport iRealReader from 'ireal-reader';\nimport { swing } from '../src/grooves/swing';\n// import { disco } from '../src/grooves/disco';\nimport { funk } from '../src/grooves/funk';\n\nconst context = new AudioContext();\nconst playlist = new iRealReader(decodeURI(link));\n\n// bass = new jazz.Synthesizer({ duration: 400, gain: gains[w1], type: w1, mix });\n\nconst keyboard = new jazz.Sampler({ samples: piano, midiOffset: 24, gain: 1, context });\n//const harpInstrument = new jazz.Sampler({ samples: harp, midiOffset: 24, gain: 1, context });\nconst drums = new jazz.Sampler({ samples: drumset, context, gain: 0.7, duration: 6000 });\n\nconst band = new jazz.Trio({ context, piano: keyboard, bass: keyboard, drums });\n\n\nfunction getStandard(playlist) {\n    console.log('playlist', playlist);\n    //const standard = jazz.util.randomElement(playlist.songs.filter(s => s.title.includes('Lone Jack (Page 1)'))); // TODO: fix\n    //const standard = jazz.util.randomElement(playlist.songs.filter(s => s.title.includes('Minor Strain'))); // TODO: fix\n    //const standard = jazz.util.randomElement(playlist.songs.filter(s => s.title.includes('El Cajon'))); // TODO: fix\n    //const standard = jazz.util.randomElement(playlist.songs.filter(s => s.title.includes('Mirror, Mirror'))); // TODO: fix\n    //const standard = jazz.util.randomElement(playlist.songs.filter(s => s.title.includes('Falling Grace')));\n    const standard = jazz.util.randomElement(playlist.songs);\n    const parser = new RealParser(standard.music.raw);\n    //console.log('tokens',parser.tokens);\n    standard.music.measures = parser.bars; // TODO: add Song that can be passed to comp\n    console.log('standard', standard, standard.music.measures);\n    console.log('sections', parser.sections);\n    return standard;\n}\n\n\nwindow.onload = function () {\n    // buttons\n    const playJazz = document.getElementById('jazz');\n    const playFunk = document.getElementById('funk');\n    const stop = document.getElementById('stop');\n    const slower = document.getElementById('slower');\n    const faster = document.getElementById('faster');\n    const next = document.getElementById('next');\n    const randomInstruments = document.getElementById('instruments');\n    let standard/*  = getStandard(); */\n\n    function play(groove: any = swing) {\n        console.log('groove', groove);\n        const bpm = 70 + Math.random() * 100;\n        //const bpm = 120;\n        console.log('tempo', bpm);\n        const cycle = 4;\n        band.comp(standard.music.measures, { metronome: true, cycle, bpm, groove/* , arpeggio: true */ })\n        /*band.comp(new Array(5).fill(1).reduce((a, c) => a.concat(['D-7', 'G7', 'C^7', 'C^7']), []),\n        { bpm, groove });*/\n    }\n\n    randomInstruments.addEventListener('click', () => {\n        const allowed = ['sine', 'triangle', 'square', 'sawtooth'];\n        band.pianist.instrument = jazz.util.randomSynth(band.mix, allowed);\n        band.bassist.instrument = jazz.util.randomSynth(band.mix, allowed);\n        console.log('pianist:', band.pianist.instrument.type);\n        console.log('bassist:', band.bassist.instrument.type);\n    });\n\n    playJazz.addEventListener('click', () => {\n        play(swing);\n    })\n    playFunk.addEventListener('click', () => {\n        play(funk)\n    })\n    stop.addEventListener('click', () => {\n        band.pulse.stop();\n    });\n    slower.addEventListener('click', () => {\n        band.pulse.changeTempo(band.pulse.props.bpm - 10);\n        console.log('tempo', band.pulse.props.bpm);\n    });\n    faster.addEventListener('click', () => {\n        band.pulse.changeTempo(band.pulse.props.bpm + 10);\n        console.log('tempo', band.pulse.props.bpm);\n    });\n\n    next.addEventListener('click', () => {\n        if (band.pulse) {\n            band.pulse.stop();\n        }\n        standard = getStandard(playlist);\n        setTimeout(() => play(), 500);\n    })\n}\n"]}